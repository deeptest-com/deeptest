webpackJsonp([0],{"/KCW":function(e,n,t){"use strict";t.d(n,"a",function(){return s});var l=t("/oeL"),r=t("oKOW"),o=(t.n(r),t("oRYE")),i=t("KBuQ"),u=t("ktRB"),a=t("56Rf"),s=function(){function e(e,n){this.routeService=e,this.toastyService=n,this.uploadedEvent=new l.EventEmitter,this.maxFileSize=100,this.showDropZone=!0,this.file={},this.hasBaseDropZoneOver=!1,this.hasAnotherDropZoneOver=!1,this.uploaderOptions={url:o.a.SERVICE_URL+o.a.UPLOAD_URI,authToken:o.a.TOKEN,autoUpload:!0,allowedMimeType:this.mimeType,maxFileSize:1024*this.maxFileSize*1024,filters:[{name:"upload",fn:function(e){return!0}}]},this.init()}return Object.defineProperty(e.prototype,"ifile",{set:function(e){this.file=e,this.init()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.init=function(){var e=this;this.uploader=new r.FileUploader(this.uploaderOptions),this.uploader.onCompleteItem=function(n,t,l,r){e.onUploadCompleteItem(n,t,l,r)},this.uploader.onWhenAddingFileFailed=function(n,t,l){return e.onWhenAddingFileFailed(n,t,l)}},e.prototype.onWhenAddingFileFailed=function(e,n,t){switch(n.name){case"fileSize":this.errorMessage="\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7\u4e86"+this.maxFileSize+"M\u7684\u9650\u5236\u3002";break;case"mimeType":var l=this.mimeType.join();this.errorMessage='\u4ec5\u652f\u6301\u4e0a\u4f20\u8fd9\u4e9b\u7c7b\u578b\u7684\u6587\u4ef6\uff1a"'+l+"\u3002";break;default:this.errorMessage="\u672a\u77e5\u9519\u8bef\uff1afilter is "+n.name+"\u3002"}if(this.errorMessage){var r={title:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25",msg:this.errorMessage,timeout:3e3};this.toastyService.warning(r)}},e.prototype.fileOverBase=function(e){this.hasBaseDropZoneOver=e},e.prototype.fileOverAnother=function(e){this.hasAnotherDropZoneOver=e},e.prototype.selectFile=function(){this.uploader.clearQueue(),jQuery("#upload-input").click()},e.prototype.fileOver=function(e){this.hasBaseDropZoneOver=e},e.prototype.onUploadCompleteItem=function(e,n,t,l){var r=JSON.parse(n);if(console.log(r),this.uploader.clearQueue(),1==r.code){this.uploadedFile=r,this.file={name:r.origName,path:r.uploadPath};var o=new u.a;o.promise.then(function(e){console.log("onUploadCompleteItem",e)}).catch(function(e){console.log("err",e)}),this.uploadedEvent.emit({data:this.file,deferred:o})}else-100==r.code&&this.routeService.navTo("/login")},e.ctorParameters=function(){return[{type:i.a},{type:a.b}]},e}()},"/QvW":function(e,n,t){"use strict";t.d(n,"a",function(){return d});var l=t("BkNc"),r=t("bm2B"),o=t("0WLp"),i=t("ZV8k"),u=t("oRYE"),a=t("2tNT"),s=t("KBuQ"),c=t("tlIo"),d=function(){function e(e,n,t,l,r,o){this._routeService=e,this._state=n,this._route=t,this.fb=l,this.activeModal=r,this.issueOptService=o,this.issue={},this.users=[],this.formErrors=[],this.validateMsg={assigneeId:{required:"\u7ecf\u529e\u4eba\u4e0d\u80fd\u4e3a\u7a7a"}},this.users=u.a.ISU_PROPERTY_MAP.assigneeId,this.buildForm()}return e.prototype.ngOnInit=function(){this.assigneeId=this.issue.assigneeId},e.prototype.ngAfterViewInit=function(){},e.prototype.assign=function(){var e=this;this.assigneeId!=this.issue.assigneeId?this.issueOptService.assign(this.issue.id,this.issue.assigneeId,this.assignComments).subscribe(function(n){1==n.code&&e.activeModal.close({act:"assign",success:!0})}):this.formErrors=["\u8bf7\u4fee\u6539\u7ecf\u529e\u4eba\u518d\u4fdd\u5b58\uff01"]},e.prototype.cancel=function(){this.activeModal.dismiss({act:"cancel"})},e.prototype.ngOnDestroy=function(){},e.prototype.buildForm=function(){var e=this;this.form=this.fb.group({assigneeId:["",[r.v.required]],assignComments:["",[]]},{}),this.form.valueChanges.debounceTime(u.a.DebounceTime).subscribe(function(n){return e.onValueChanged(n)}),this.onValueChanged()},e.prototype.onValueChanged=function(e){this.formErrors=a.a.genMsg(this.form,this.validateMsg,[])},e.ctorParameters=function(){return[{type:s.a},{type:i.a},{type:l.a},{type:r.e},{type:o.b},{type:c.a}]},e}()},"/X/w":function(e,n,t){"use strict";var l=t("/oeL"),r=t("vvWA"),o=t("KWOn");t.d(n,"a",function(){return u}),n.b=a;var i=[[".issue-distrib[_ngcontent-%COMP%]{padding:10px}.issue-distrib[_ngcontent-%COMP%]   .result-chart[_ngcontent-%COMP%]{height:200px}"]],u=l["\u0275crt"]({encapsulation:0,styles:i,data:{}});function a(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","issue-distrib"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[["class","result-chart"],["echarts",""]],null,[["window","resize"]],function(e,n,t){var r=!0;"window:resize"===n&&(r=!1!==l["\u0275nov"](e,3).onWindowResize(t)&&r);return r},null,null)),l["\u0275did"](335872,null,0,r.a,[l.ElementRef,l.Renderer,l.NgZone],{options:[0,"options"]},null),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n\n\n"]))],function(e,n){e(n,3,0,n.component.chartOption)},null)}l["\u0275ccf"]("issue-distrib",o.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"issue-distrib",[],null,null,null,a,u)),l["\u0275did"](57344,null,0,o.a,[],null,null)],function(e,n){e(n,1,0)},null)},{title:"title",data:"data"},{},[])},"/lq6":function(e,n,t){"use strict";var l=t("/oeL"),r=t("0hen"),o=t("VpOg"),i=t("QZuO"),u=t("bm2B"),a=t("KBuQ"),s=t("ZV8k"),c=t("BkNc"),d=t("C8VA"),f=t("PDpj");t.d(n,"a",function(){return m});var p=[[".issue-tag{margin:15px}"]],h=l["\u0275crt"]({encapsulation:2,styles:p,data:{}});function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,58,"div",[["class","issue-tag container-fluid"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,18,"div",[["class","list-toolbar col-xl-12"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u6807\u7b7e\u95ee\u9898"])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[["class","filter"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,3,"button",[["class","btn btn-secondary btn-with-icon btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-plus-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u8fd4\u56de\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,29,"div",[["class","my-validate-form"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,2,"label",[["class","col-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u7ecf\u529e\u4eba"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,5,"div",[["class","col-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,2,"search-select",[],null,[[null,"searchModelChange"],[null,"selectedModelsChange"],[null,"searchChange"]],function(e,n,t){var l=!0,r=e.component;"searchModelChange"===n&&(l=!1!==(r.searchModel=t)&&l);"selectedModelsChange"===n&&(l=!1!==(r.selectedModels=t)&&l);"searchChange"===n&&(l=!1!==r.changeSearch(t)&&l);return l},o.b,o.a)),l["\u0275did"](57344,null,0,i.a,[u.e],{searchModel:[0,"searchModel"],searchResult:[1,"searchResult"],selectedModels:[2,"selectedModels"],selectSingle:[3,"selectSingle"]},{searchChange:"searchChange"}),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.save()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u4fdd\u5b58"])),(e()(),l["\u0275ted"](null,["\n          \xa0\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u53d6\u6d88"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275ted"](null,["\n\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,38,0,t.searchModel,t.searchResult,t.selectedModels,!1)},function(e,n){e(n,49,0,n.component.selectedModels.length<1)})}var m=l["\u0275ccf"]("issue-tag",r.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"issue-tag",[],null,null,null,g,h)),l["\u0275did"](2220032,null,0,r.a,[a.a,s.a,c.a,u.e,d.a,f.a],null,null)],function(e,n){e(n,1,0)},null)},{},{},[])},"0dPU":function(e,n,t){"use strict";t.d(n,"a",function(){return d}),n.b=p;var l=t("/oeL"),r=t("GxUr"),o=t("WDs4"),i=t("bVfL"),u=t("ijyc"),a=t("bUvU"),s=t("qbdv"),c=t("tZRN"),d=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function f(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,5,"div",[["class","card-header clearfix"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,2,"h3",[["class","card-title"],["translate",""]],null,null,null,null,null)),l["\u0275did"](4268032,null,0,r.a,[o.a,l.ElementRef,l.ChangeDetectorRef],{translate:[0,"translate"]},null),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n    "]))],function(e,n){e(n,3,0,"")},function(e,n){e(n,4,0,n.component.title)})}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,11,"div",[["baCardBlur",""],["zoom-in",""]],[[8,"className",0],[2,"card-blur",null]],[["window","resize"]],function(e,n,t){var r=!0;"window:resize"===n&&(r=!1!==l["\u0275nov"](e,2)._onWindowResize()&&r);return r},null,null)),l["\u0275prd"](256,null,i.a,i.a,[]),l["\u0275did"](8192,null,0,u.a,[a.a,i.a,l.ElementRef],null,null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,f)),l["\u0275did"](8192,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,3,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),l["\u0275ncd"](null,0),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){e(n,5,0,n.component.title)},function(e,n){var t=n.component;e(n,0,0,l["\u0275inlineInterpolate"](2,"animated fadeIn card ",t.cardType," ",t.baCardClass||"",""),l["\u0275nov"](n,2).isEnabled)})}l["\u0275ccf"]("ba-card",c.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"ba-card",[],null,null,null,p,d)),l["\u0275did"](24576,null,0,c.a,[],null,null)],null,null)},{title:"title",baCardClass:"baCardClass",cardType:"cardType"},{},["*"])},"0ddU":function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("9GFz"),r=t("xrDH"),o=(t.n(r),function(){function e(e){this._reqService=e,this._apiBase="client/case_step/"}return e.prototype.save=function(e,n){return r.merge(n,{caseId:e}),this._reqService.post(this._apiBase+"save",n)},e.prototype.delete=function(e){return this._reqService.post(this._apiBase+"delete",{id:e})},e.prototype.up=function(e,n){var t={id:e,ordr:n};return this._reqService.post(this._apiBase+"up",t)},e.prototype.down=function(e,n){var t={id:e,ordr:n};return this._reqService.post(this._apiBase+"down",t)},e.ctorParameters=function(){return[{type:l.a}]},e}())},"0hen":function(e,n,t){"use strict";t.d(n,"a",function(){return s});var l=t("BkNc"),r=t("bm2B"),o=t("0WLp"),i=t("ZV8k"),u=t("KBuQ"),a=t("PDpj"),s=function(){function e(e,n,t,l,r,o){this._routeService=e,this._state=n,this._route=t,this.fb=l,this.activeModal=r,this.issueTagService=o,this._issue={},this.searchModel={},this.selectedModels=[]}return Object.defineProperty(e.prototype,"issue",{set:function(e){this._issue=e,this.loadData()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.loadData=function(){var e=this;this.issueTagService.search(this._issue.id,"",[]).subscribe(function(n){1==n.code&&(e.selectedModels=n.data)})},e.prototype.ngAfterViewInit=function(){},e.prototype.save=function(){var e=this;this.issueTagService.save(this._issue.id,this.selectedModels).subscribe(function(n){1==n.code&&e.activeModal.close({act:"tag",success:!0})})},e.prototype.changeSearch=function(e){var n=this,t=[];this.selectedModels.forEach(function(e){t.push(e.id)}),this.issueTagService.search(null,e.keywords,t).subscribe(function(t){0==t.data.length?n.searchResult=[{name:e.keywords,type:"tag"}]:n.searchResult=t.data})},e.prototype.cancel=function(){this.activeModal.dismiss({act:"cancel"})},e.prototype.ngOnDestroy=function(){},e.ctorParameters=function(){return[{type:u.a},{type:i.a},{type:l.a},{type:r.e},{type:o.b},{type:a.a}]},e}()},"0jz5":function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("xrDH"),r=(t.n(l),t("9GFz")),o=function(){function e(e){this._reqService=e,this._apiBase="client/case/"}return e.prototype.query=function(){return this._reqService.post(this._apiBase+"query",{})},e.prototype.queryForSuiteSelection=function(e,n){return this._reqService.post(this._apiBase+"queryForSuiteSelection",{caseProjectId:e,suiteId:n})},e.prototype.queryForTaskSelection=function(e,n){return this._reqService.post(this._apiBase+"queryForTaskSelection",{caseProjectId:e,taskId:n})},e.prototype.get=function(e){return this._reqService.post(this._apiBase+"get",{id:e})},e.prototype.rename=function(e){return this._reqService.post(this._apiBase+"rename",e)},e.prototype.update=function(e){var n=l.clone(e);return n.steps=null,this._reqService.post(this._apiBase+"update",n)},e.prototype.move=function(e){return this._reqService.post(this._apiBase+"move",e)},e.prototype.delete=function(e){return this._reqService.post(this._apiBase+"delete",{id:e})},e.prototype.saveField=function(e,n){var t=l.merge(n,{id:e});return this._reqService.post(this._apiBase+"saveField",t)},e.prototype.changeContentType=function(e,n){return this._reqService.post(this._apiBase+"changeContentType",{id:n,contentType:e})},e.prototype.reviewResult=function(e,n,t){return this._reqService.post(this._apiBase+"reviewResult",{id:e,result:n,nextId:t})},e.prototype.exportAll=function(){return this._reqService.post(this._apiBase+"exportAll",{})},e.ctorParameters=function(){return[{type:r.a}]},e}()},"1/Co":function(e,n){!function(){"use strict";var e,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]},l=function(e,n){return function(){for(var t=[],l=0;l<arguments.length;l++)t[l]=arguments[l];return e(n.apply(null,arguments))}},r=function(e){return function(){return e}},o=function(e){return e},i=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];for(var l=new Array(arguments.length-1),r=1;r<arguments.length;r++)l[r-1]=arguments[r];return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var i=l.concat(r);return e.apply(null,i)}},u=function(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return!e.apply(null,arguments)}},a=function(e){return e()},s=r(!1),c=r(!0),d=s,f=c,p=function(){return h},h=function(){var e=function(e){return e.isNone()},n=function(e){return e()},t=function(e){return e},l={fold:function(e,n){return e()},is:d,isSome:d,isNone:f,getOr:t,getOrThunk:n,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){},or:t,orThunk:n,map:p,ap:p,each:function(){},bind:p,flatten:p,exists:d,forall:f,filter:p,equals:e,equals_:e,toArray:function(){return[]},toString:r("none()")};return Object.freeze&&Object.freeze(l),l}(),g=function(e){var n=function(){return e},t=function(){return r},l=function(n){return n(e)},r={fold:function(n,t){return t(e)},is:function(n){return e===n},isSome:f,isNone:d,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:t,orThunk:t,map:function(n){return g(n(e))},ap:function(n){return n.fold(p,function(n){return g(n(e))})},each:function(n){n(e)},bind:l,flatten:n,exists:l,forall:l,filter:function(n){return n(e)?r:h},equals:function(n){return n.is(e)},equals_:function(n,t){return n.fold(d,function(n){return t(e,n)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return r},m={some:g,none:p,from:function(e){return null===e||void 0===e?h:g(e)}},v=function(e){return function(n){return function(e){if(null===e)return"null";var n=typeof e;return"object"===n&&Array.prototype.isPrototypeOf(e)?"array":"object"===n&&String.prototype.isPrototypeOf(e)?"string":n}(n)===e}},b=v("string"),y=v("array"),C=v("boolean"),w=v("function"),x=v("number"),_=void 0===(e=Array.prototype.indexOf)?function(e,n){return D(e,n)}:function(n,t){return e.call(n,t)},A=function(e,n){return _(e,n)>-1},k=function(e,n){return I(e,n).isSome()},O=function(e,n){for(var t=e.length,l=new Array(t),r=0;r<t;r++){var o=e[r];l[r]=n(o,r,e)}return l},S=function(e,n){for(var t=0,l=e.length;t<l;t++)n(e[t],t,e)},E=function(e,n){for(var t=[],l=0,r=e.length;l<r;l++){var o=e[l];n(o,l,e)&&t.push(o)}return t},R=function(e,n,t){return function(e,n){for(var t=e.length-1;t>=0;t--)n(e[t],t,e)}(e,function(e){t=n(t,e)}),t},P=function(e,n,t){return S(e,function(e){t=n(t,e)}),t},M=function(e,n){for(var t=0,l=e.length;t<l;t++){var r=e[t];if(n(r,t,e))return m.some(r)}return m.none()},I=function(e,n){for(var t=0,l=e.length;t<l;t++)if(n(e[t],t,e))return m.some(t);return m.none()},D=function(e,n){for(var t=0,l=e.length;t<l;++t)if(e[t]===n)return t;return-1},T=Array.prototype.push,N=function(e){for(var n=[],t=0,l=e.length;t<l;++t){if(!Array.prototype.isPrototypeOf(e[t]))throw new Error("Arr.flatten item "+t+" was not an array, input: "+e);T.apply(n,e[t])}return n},B=function(e,n){var t=O(e,n);return N(t)},F=function(e,n){for(var t=0,l=e.length;t<l;++t)if(!0!==n(e[t],t,e))return!1;return!0},L=Array.prototype.slice,H=function(e){var n=L.call(e,0);return n.reverse(),n},z=(w(Array.from)&&Array.from,Object.keys),V=function(e,n){for(var t=z(e),l=0,r=t.length;l<r;l++){var o=t[l];n(e[o],o,e)}},q=function(e,n){return j(e,function(e,t,l){return{k:t,v:n(e,t,l)}})},j=function(e,n){var t={};return V(e,function(l,r){var o=n(l,r,e);t[o.k]=o.v}),t},W=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(e.length!==n.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+n.length+" arguments");var l={};return S(e,function(e,t){l[e]=r(n[t])}),l}},U=function(e){return e.slice(0).sort()},Q=function(e,n){throw new Error("All required keys ("+U(e).join(", ")+") were not specified. Specified keys were: "+U(n).join(", ")+".")},G=function(e){throw new Error("Unsupported keys for object: "+U(e).join(", "))},K=function(e,n){if(!y(n))throw new Error("The "+e+" fields must be an array. Was: "+n+".");S(n,function(n){if(!b(n))throw new Error("The value "+n+" in the "+e+" fields was not a string.")})},Y=function(e){var n=U(e);M(n,function(e,t){return t<n.length-1&&e===n[t+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+n.join(", ")+"].")})},Z=function(e,n){var t=e.concat(n);if(0===t.length)throw new Error("You must specify at least one required or optional field.");return K("required",e),K("optional",n),Y(t),function(l){var o=z(l);F(e,function(e){return A(o,e)})||Q(e,o);var i=E(o,function(e){return!A(t,e)});i.length>0&&G(i);var u={};return S(e,function(e){u[e]=r(l[e])}),S(n,function(e){u[e]=r(Object.prototype.hasOwnProperty.call(l,e)?m.some(l[e]):m.none())}),u}},J=W("width","height"),X=W("rows","columns"),$=W("row","column"),ee=W("x","y"),ne=W("element","rowspan","colspan"),te=W("element","rowspan","colspan","isNew"),le={dimensions:J,grid:X,address:$,coords:ee,extended:W("element","rowspan","colspan","row","column"),detail:ne,detailnew:te,rowdata:W("element","cells","section"),elementnew:W("element","isNew"),rowdatanew:W("element","cells","section","isNew"),rowcells:W("cells","section"),rowdetails:W("details","section"),bounds:W("startRow","startCol","finishRow","finishCol")},re=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:r(e)}},oe={fromHtml:function(e,n){var t=(n||document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||t.childNodes.length>1)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return re(t.childNodes[0])},fromTag:function(e,n){var t=(n||document).createElement(e);return re(t)},fromText:function(e,n){var t=(n||document).createTextNode(e);return re(t)},fromDom:re,fromPoint:function(e,n,t){var l=e.dom();return m.from(l.elementFromPoint(n,t)).map(re)}},ie=(Node.ATTRIBUTE_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE),ue=Node.DOCUMENT_NODE,ae=(Node.DOCUMENT_TYPE_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE),se=Node.TEXT_NODE,ce=(Node.PROCESSING_INSTRUCTION_NODE,Node.ENTITY_REFERENCE_NODE,Node.ENTITY_NODE,Node.NOTATION_NODE,ae),de=ue,fe=function(e,n){var t=e.dom();if(t.nodeType!==ce)return!1;if(void 0!==t.matches)return t.matches(n);if(void 0!==t.msMatchesSelector)return t.msMatchesSelector(n);if(void 0!==t.webkitMatchesSelector)return t.webkitMatchesSelector(n);if(void 0!==t.mozMatchesSelector)return t.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},pe=function(e){return e.nodeType!==ce&&e.nodeType!==de||0===e.childElementCount},he="undefined"!==typeof window?window:Function("return this;")(),ge=function(e,n){return function(e,n){for(var t=void 0!==n&&null!==n?n:he,l=0;l<e.length&&void 0!==t&&null!==t;++l)t=t[e[l]];return t}(e.split("."),n)},me=function(e,n){var t=function(e,n){return ge(e,n)}(e,n);if(void 0===t||null===t)throw e+" not available on this browser";return t},ve=function(){return me("Node")},be=function(e,n,t){return 0!==(e.compareDocumentPosition(n)&t)},ye=function(e,n){return be(e,n,ve().DOCUMENT_POSITION_CONTAINED_BY)},Ce=function(e){var n,t=!1;return function(){for(var l=[],r=0;r<arguments.length;r++)l[r]=arguments[r];return t||(t=!0,n=e.apply(null,l)),n}},we=function(){return xe(0,0)},xe=function(e,n){return{major:e,minor:n}},_e={nu:xe,detect:function(e,n){var t=String(n).toLowerCase();return 0===e.length?we():function(e,n){var t=function(e,n){for(var t=0;t<e.length;t++){var l=e[t];if(l.test(n))return l}}(e,n);if(!t)return{major:0,minor:0};var l=function(e){return Number(n.replace(t,"$"+e))};return xe(l(1),l(2))}(e,t)},unknown:we},Ae=function(e,n){return function(){return n===e}},ke=function(e){var n=e.current;return{current:n,version:e.version,isEdge:Ae("Edge",n),isChrome:Ae("Chrome",n),isIE:Ae("IE",n),isOpera:Ae("Opera",n),isFirefox:Ae("Firefox",n),isSafari:Ae("Safari",n)}},Oe={unknown:function(){return ke({current:void 0,version:_e.unknown()})},nu:ke,edge:r("Edge"),chrome:r("Chrome"),ie:r("IE"),opera:r("Opera"),firefox:r("Firefox"),safari:r("Safari")},Se=function(e,n){return function(){return n===e}},Ee=function(e){var n=e.current;return{current:n,version:e.version,isWindows:Se("Windows",n),isiOS:Se("iOS",n),isAndroid:Se("Android",n),isOSX:Se("OSX",n),isLinux:Se("Linux",n),isSolaris:Se("Solaris",n),isFreeBSD:Se("FreeBSD",n)}},Re={unknown:function(){return Ee({current:void 0,version:_e.unknown()})},nu:Ee,windows:r("Windows"),ios:r("iOS"),android:r("Android"),linux:r("Linux"),osx:r("OSX"),solaris:r("Solaris"),freebsd:r("FreeBSD")},Pe=function(e,n){var t=String(n).toLowerCase();return M(e,function(e){return e.search(t)})},Me=function(e,n){return Pe(e,n).map(function(e){var t=_e.detect(e.versionRegexes,n);return{current:e.name,version:t}})},Ie=function(e,n){return Pe(e,n).map(function(e){var t=_e.detect(e.versionRegexes,n);return{current:e.name,version:t}})},De=function(e,n){return-1!==e.indexOf(n)},Te=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ne=function(e){return function(n){return De(n,e)}},Be=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return De(e,"edge/")&&De(e,"chrome")&&De(e,"safari")&&De(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Te],search:function(e){return De(e,"chrome")&&!De(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return De(e,"msie")||De(e,"trident")}},{name:"Opera",versionRegexes:[Te,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ne("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ne("firefox")},{name:"Safari",versionRegexes:[Te,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(De(e,"safari")||De(e,"mobile/"))&&De(e,"applewebkit")}}],Fe=[{name:"Windows",search:Ne("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return De(e,"iphone")||De(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ne("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ne("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ne("linux"),versionRegexes:[]},{name:"Solaris",search:Ne("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ne("freebsd"),versionRegexes:[]}],Le={browsers:r(Be),oses:r(Fe)},He=function(e){var n=Le.browsers(),t=Le.oses(),l=Me(n,e).fold(Oe.unknown,Oe.nu),o=Ie(t,e).fold(Re.unknown,Re.nu);return{browser:l,os:o,deviceType:function(e,n,t){var l=e.isiOS()&&!0===/ipad/i.test(t),o=e.isiOS()&&!l,i=e.isAndroid()&&3===e.version.major,u=e.isAndroid()&&4===e.version.major,a=l||i||u&&!0===/mobile/i.test(t),s=e.isiOS()||e.isAndroid(),c=s&&!a,d=n.isSafari()&&e.isiOS()&&!1===/safari/i.test(t);return{isiPad:r(l),isiPhone:r(o),isTablet:r(a),isPhone:r(c),isTouch:r(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:r(d)}}(o,l,e)}},ze={detect:Ce(function(){var e=navigator.userAgent;return He(e)})},Ve=function(e,n){return e.dom()===n.dom()},qe=ze.detect().browser.isIE()?function(e,n){return ye(e.dom(),n.dom())}:function(e,n){var t=e.dom(),l=n.dom();return t!==l&&t.contains(l)},je=fe,We=function(e){return oe.fromDom(e.dom().ownerDocument)},Ue=function(e){var n=e.dom();return m.from(n.parentNode).map(oe.fromDom)},Qe=function(e,n){for(var t=w(n)?n:r(!1),l=e.dom(),o=[];null!==l.parentNode&&void 0!==l.parentNode;){var i=l.parentNode,u=oe.fromDom(i);if(o.push(u),!0===t(u))break;l=i}return o},Ge=function(e){var n=e.dom();return m.from(n.previousSibling).map(oe.fromDom)},Ke=function(e){var n=e.dom();return m.from(n.nextSibling).map(oe.fromDom)},Ye=function(e){var n=e.dom();return O(n.childNodes,oe.fromDom)},Ze=function(e,n){var t=e.dom().childNodes;return m.from(t[n]).map(oe.fromDom)},Je=(W("element","offset"),function(e,n,t){return B(Ye(e),function(e){return fe(e,n)?t(e)?[e]:[]:Je(e,n,t)})}),Xe={firstLayer:function(e,n){return Je(e,n,r(!0))},filterFirstLayer:Je},$e=function(e){return e.dom().nodeName.toLowerCase()},en=function(e){return e.dom().nodeType},nn=function(e){return function(n){return en(n)===e}},tn=function(e){return en(e)===ie||"#comment"===$e(e)},ln=nn(ae),rn=nn(se),on=nn(ue),un=function(e,n,t){if(!(b(t)||C(t)||x(t)))throw console.error("Invalid call to Attr.set. Key ",n,":: Value ",t,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,t+"")},an=function(e,n,t){un(e.dom(),n,t)},sn=function(e,n){var t=e.dom();V(n,function(e,n){un(t,n,e)})},cn=function(e,n){var t=e.dom().getAttribute(n);return null===t?void 0:t},dn=function(e,n){var t=e.dom();return!(!t||!t.hasAttribute)&&t.hasAttribute(n)},fn=function(e,n){e.dom().removeAttribute(n)},pn=function(e){return P(e.dom().attributes,function(e,n){return e[n.name]=n.value,e},{})},hn=function(e){var n=rn(e)?e.dom().parentNode:e.dom();return void 0!==n&&null!==n&&n.ownerDocument.body.contains(n)},gn=Ce(function(){return mn(oe.fromDom(document))}),mn=function(e){var n=e.dom().body;if(null===n||void 0===n)throw"Body is not available yet";return oe.fromDom(n)},vn=function(e,n){var t=[];return S(Ye(e),function(e){n(e)&&(t=t.concat([e])),t=t.concat(vn(e,n))}),t},bn=function(e,n,t){return function(e,n,t){return E(Qe(e,t),n)}(e,function(e){return fe(e,n)},t)},yn=function(e,n){return function(e,n){return E(Ye(e),n)}(e,function(e){return fe(e,n)})},Cn=function(e,n){return function(e,n){var t=void 0===n?document:n.dom();return pe(t)?[]:O(t.querySelectorAll(e),oe.fromDom)}(n,e)};function wn(e,n,t,l,r){return e(t,l)?m.some(t):w(r)&&r(t)?m.none():n(t,l,r)}var xn=function(e,n,t){for(var l=e.dom(),o=w(t)?t:r(!1);l.parentNode;){l=l.parentNode;var i=oe.fromDom(l);if(n(i))return m.some(i);if(o(i))break}return m.none()},_n=function(e,n,t){return xn(e,function(e){return fe(e,n)},t)},An=function(e,n){return function(e,n){return M(e.dom().childNodes,l(n,oe.fromDom)).map(oe.fromDom)}(e,function(e){return fe(e,n)})},kn=function(e,n){return function(e,n){var t=void 0===n?document:n.dom();return pe(t)?m.none():m.from(t.querySelector(e)).map(oe.fromDom)}(n,e)},On=function(e,n,t){return wn(fe,_n,e,n,t)},Sn=function(e,n,t){var l=void 0!==t?t:r(!1);return l(n)?m.none():A(e,$e(n))?m.some(n):_n(n,e.join(","),function(e){return fe(e,"table")||l(e)})},En=function(e,n){return Ue(n).map(function(n){return yn(n,e)})},Rn=function(e,n){return parseInt(cn(e,n),10)},Pn={cell:function(e,n){return Sn(["td","th"],e,n)},firstCell:function(e){return kn(e,"th,td")},cells:function(e){return Xe.firstLayer(e,"th,td")},neighbourCells:i(En,"th,td"),table:function(e,n){return On(e,"table",n)},row:function(e,n){return Sn(["tr"],e,n)},rows:function(e){return Xe.firstLayer(e,"tr")},notCell:function(e,n){return Sn(["caption","tr","tbody","tfoot","thead"],e,n)},neighbourRows:i(En,"tr"),attr:Rn,grid:function(e,n,t){var l=Rn(e,n),r=Rn(e,t);return le.grid(l,r)}},Mn=function(e){var n=Pn.rows(e);return O(n,function(e){var n=e,t=Ue(n).map(function(e){var n=$e(e);return"tfoot"===n||"thead"===n||"tbody"===n?n:"tbody"}).getOr("tbody"),l=O(Pn.cells(e),function(e){var n=dn(e,"rowspan")?parseInt(cn(e,"rowspan"),10):1,t=dn(e,"colspan")?parseInt(cn(e,"colspan"),10):1;return le.detail(e,n,t)});return le.rowdata(n,l,t)})},In=function(e,n){return O(e,function(e){var t=O(Pn.cells(e),function(e){var n=dn(e,"rowspan")?parseInt(cn(e,"rowspan"),10):1,t=dn(e,"colspan")?parseInt(cn(e,"colspan"),10):1;return le.detail(e,n,t)});return le.rowdata(e,t,n.section())})},Dn=function(e,n){return e+","+n},Tn=function(e,n){var t=B(e.all(),function(e){return e.cells()});return E(t,n)},Nn={generate:function(e){var n={},t=[],l=e.length,o=0;S(e,function(e,l){var r=[];S(e.cells(),function(e,t){for(var i=0;void 0!==n[Dn(l,i)];)i++;for(var u=le.extended(e.element(),e.rowspan(),e.colspan(),l,i),a=0;a<e.colspan();a++)for(var s=0;s<e.rowspan();s++){var c=i+a,d=Dn(l+s,c);n[d]=u,o=Math.max(o,c+1)}r.push(u)}),t.push(le.rowdata(e.element(),r,e.section()))});var i=le.grid(l,o);return{grid:r(i),access:r(n),all:r(t)}},getAt:function(e,n,t){var l=e.access()[Dn(n,t)];return void 0!==l?m.some(l):m.none()},findItem:function(e,n,t){var l=Tn(e,function(e){return t(n,e.element())});return l.length>0?m.some(l[0]):m.none()},filterItems:Tn,justCells:function(e){var n=O(e.all(),function(e){return e.cells()});return N(n)}},Bn=function(e){return void 0!==e.style},Fn=function(e,n,t){if(!b(t))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",t,":: Element ",e),new Error("CSS value must be a string: "+t);Bn(e)&&e.style.setProperty(n,t)},Ln=function(e,n,t){var l=e.dom();Fn(l,n,t)},Hn=function(e,n){var t=e.dom();V(n,function(e,n){Fn(t,n,e)})},zn=function(e,n){var t=e.dom(),l=window.getComputedStyle(t).getPropertyValue(n),r=""!==l||hn(e)?l:Vn(t,n);return null===r?void 0:r},Vn=function(e,n){return Bn(e)?e.style.getPropertyValue(n):""},qn=function(e,n){var t=e.dom(),l=Vn(t,n);return m.from(l).filter(function(e){return e.length>0})},jn=function(e,n){!function(e,n){Bn(e)&&e.style.removeProperty(n)}(e.dom(),n),dn(e,"style")&&""===cn(e,"style").replace(/^\s+|\s+$/g,"")&&fn(e,"style")},Wn=function(e,n){Ue(e).each(function(t){t.dom().insertBefore(n.dom(),e.dom())})},Un=function(e,n){Ke(e).fold(function(){Ue(e).each(function(e){Gn(e,n)})},function(e){Wn(e,n)})},Qn=function(e,n){(function(e){return Ze(e,0)})(e).fold(function(){Gn(e,n)},function(t){e.dom().insertBefore(n.dom(),t.dom())})},Gn=function(e,n){e.dom().appendChild(n.dom())},Kn=function(e,n){Wn(e,n),Gn(n,e)},Yn=function(e,n){S(n,function(t,l){var r=0===l?e:n[l-1];Un(r,t)})},Zn=function(e,n){S(n,function(n){Gn(e,n)})},Jn=function(e){e.dom().textContent="",S(Ye(e),function(e){Xn(e)})},Xn=function(e){var n=e.dom();null!==n.parentNode&&n.parentNode.removeChild(n)},$n=function(e){var n,t=Ye(e);t.length>0&&(n=e,S(t,function(e){Wn(n,e)})),Xn(e)},et=W("minRow","minCol","maxRow","maxCol"),nt=function(e,n){var t=e.grid().columns(),l=e.grid().rows(),r=t,o=0,i=0;return V(e.access(),function(e){if(n(e)){var t=e.row(),u=t+e.rowspan()-1,a=e.column(),s=a+e.colspan()-1;t<l?l=t:u>o&&(o=u),a<r?r=a:s>i&&(i=s)}}),et(l,r,o,i)},tt=function(e,n,t){var l=e[t].element(),r=oe.fromTag("td");Gn(r,oe.fromTag("br")),(n?Gn:Qn)(l,r)},lt=function(e,n){var t=function(e){return fe(e.element(),n)},l=Mn(e),r=Nn.generate(l),o=nt(r,t),i="th:not("+n+"),td:not("+n+")",u=Xe.filterFirstLayer(e,"th,td",function(e){return fe(e,i)});return S(u,Xn),function(e,n,t,l){for(var r=n.grid().columns(),o=n.grid().rows(),i=0;i<o;i++)for(var u=!1,a=0;a<r;a++)i<t.minRow()||i>t.maxRow()||a<t.minCol()||a>t.maxCol()||(Nn.getAt(n,i,a).filter(l).isNone()?tt(e,u,i):u=!0)}(l,r,o,t),function(e,n){var t=E(Xe.firstLayer(e,"tr"),function(e){return 0===e.dom().childElementCount});S(t,Xn),n.minCol()!==n.maxCol()&&n.minRow()!==n.maxRow()||S(Xe.firstLayer(e,"th,td"),function(e){fn(e,"rowspan"),fn(e,"colspan")}),fn(e,"width"),fn(e,"height"),jn(e,"width"),jn(e,"height")}(e,o),e},rt=function(e,n){return oe.fromDom(e.dom().cloneNode(n))},ot=function(e){return rt(e,!1)},it=function(e){return rt(e,!0)},ut=function(e,n){var t=function(e,n){var t=oe.fromTag(n),l=pn(e);return sn(t,l),t}(e,n),l=Ye(it(e));return Zn(t,l),t},at=function(e,n){var t=function(n){return e(n)?m.from(n.dom().nodeValue):m.none()},l=ze.detect().browser,r=l.isIE()&&10===l.version.major?function(e){try{return t(e)}catch(e){return m.none()}}:t;return{get:function(t){if(!e(t))throw new Error("Can only get "+n+" value of a "+n+" node");return r(t).getOr("")},getOption:r,set:function(t,l){if(!e(t))throw new Error("Can only set raw "+n+" value of a "+n+" node");t.dom().nodeValue=l}}}(rn,"text"),st=function(e){return at.get(e)},ct=function(e){return at.getOption(e)},dt=function(e,n){at.set(e,n)},ft=function(e){return"img"===$e(e)?1:ct(e).fold(function(){return Ye(e).length},function(e){return e.length})},pt=["img","br"],ht=function(e){return ct(e).filter(function(e){return 0!==e.trim().length||e.indexOf("\xa0")>-1}).isSome()||A(pt,$e(e))},gt=function(e){return n=ht,(t=function(e){for(var l=0;l<e.childNodes.length;l++){if(n(oe.fromDom(e.childNodes[l])))return m.some(oe.fromDom(e.childNodes[l]));var r=t(e.childNodes[l]);if(r.isSome())return r}return m.none()})(e.dom());var n,t},mt=function(e){return vt(e,ht)},vt=function(e,n){var t=function(e){for(var l=Ye(e),r=l.length-1;r>=0;r--){var o=l[r];if(n(o))return m.some(o);var i=t(o);if(i.isSome())return i}return m.none()};return t(e)},bt=function(){var e=oe.fromTag("td");return Gn(e,oe.fromTag("br")),e},yt=function(e,n,t){var l=ut(e,n);return V(t,function(e,n){null===e?fn(l,n):an(l,n,e)}),l},Ct=function(e){return e},wt=function(e){return function(){return oe.fromTag("tr",e.dom())}},xt=function(e,n,t){return{row:wt(n),cell:function(n){var l,r,o,i,u=We(n.element()),a=oe.fromTag($e(n.element()),u.dom()),s=t.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),c=s.length>0?function(e,n,t){return gt(e).map(function(l){var r=t.join(","),o=bn(l,r,function(n){return Ve(n,e)});return R(o,function(e,n){var t=ot(n);return fn(t,"contenteditable"),Gn(e,t),t},n)}).getOr(n)}(n.element(),a,s):a;return Gn(c,oe.fromTag("br")),l=n.element(),r=a,o=l.dom(),i=r.dom(),Bn(o)&&Bn(i)&&(i.style.cssText=o.style.cssText),jn(a,"height"),1!==n.colspan()&&jn(n.element(),"width"),e(n.element(),a),a},replace:yt,gap:bt}},_t=function(e){return{row:wt(e),cell:bt,replace:Ct,gap:bt}},At=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function kt(){return{up:r({selector:_n,closest:On,predicate:xn,all:Qe}),down:r({selector:Cn,predicate:vn}),styles:r({get:zn,getRaw:qn,set:Ln,remove:jn}),attrs:r({get:cn,set:an,remove:fn,copyTo:function(e,n){var t=pn(e);sn(n,t)}}),insert:r({before:Wn,after:Un,afterAll:Yn,append:Gn,appendAll:Zn,prepend:Qn,wrap:Kn}),remove:r({unwrap:$n,remove:Xn}),create:r({nu:oe.fromTag,clone:function(e){return oe.fromDom(e.dom().cloneNode(!1))},text:oe.fromText}),query:r({comparePosition:function(e,n){return e.dom().compareDocumentPosition(n.dom())},prevSibling:Ge,nextSibling:Ke}),property:r({children:Ye,name:$e,parent:Ue,isText:rn,isComment:tn,isElement:ln,getText:st,setText:dt,isBoundary:function(e){return!!ln(e)&&("body"===$e(e)||A(At,$e(e)))},isEmptyTag:function(e){return!!ln(e)&&A(["br","img","hr","input"],$e(e))}}),eq:Ve,is:je}}var Ot=W("left","right"),St=function(e,n,t){var l=e.property().children(n);return I(l,i(e.eq,t)).map(function(e){return{before:r(l.slice(0,e)),after:r(l.slice(e+1))}})},Et=function(e,n,t){return St(e,n,t).map(function(l){var r=e.create().clone(n);return e.insert().appendAll(r,l.before().concat([t])),e.insert().appendAll(n,l.after()),e.insert().before(n,r),Ot(r,n)})},Rt=function(e,n,t){return St(e,n,t).map(function(t){var l=e.create().clone(n);return e.insert().appendAll(l,t.after()),e.insert().after(n,l),Ot(n,l)})},Pt=function(e,n,t,l){var r=W("first","second","splits"),o=function(n,i,u){var a=r(n,m.none(),u);return t(n)?r(n,i,u):e.property().parent(n).bind(function(r){return l(e,r,n).map(function(e){var n=[{first:e.left,second:e.right}],l=t(r)?r:e.left();return o(l,m.some(e.right()),u.concat(n))}).getOr(a)})};return o(n,m.none(),[])},Mt=function(e,n,t,l){var r=n(e,t);return R(l,function(t,l){var r=n(e,l);return It(e,t,r)},r)},It=function(e,n,t){return n.bind(function(n){return t.filter(i(e.eq,n))})},Dt=function(e,n,t){return t.length>0?function(e,n,t,l){return l(e,n,t[0],t.slice(1))}(e,n,t,Mt):m.none()},Tt=function(e,n){return i(e.eq,n)},Nt=function(e,n,t,l){var o=void 0!==l?l:r(!1),i=[n].concat(e.up().all(n)),u=[t].concat(e.up().all(t)),a=function(e){return I(e,o).fold(function(){return e},function(n){return e.slice(0,n+1)})},s=a(i),c=a(u),d=M(s,function(n){return k(c,Tt(e,n))});return{firstpath:r(s),secondpath:r(c),shared:r(d)}},Bt=function(e,n,t){var l=Nt(e,n,t);return l.shared().bind(function(n){return function(e,n,t,l){var r=e.property().children(n);if(e.eq(n,t[0]))return m.some([t[0]]);if(e.eq(n,l[0]))return m.some([l[0]]);var o=function(t){var l=H(t),o=I(l,Tt(e,n)).getOr(-1),i=o<l.length-1?l[o+1]:l[o];return I(r,Tt(e,i))},i=o(t),u=o(l);return i.bind(function(e){return u.map(function(n){var t=Math.min(e,n),l=Math.max(e,n);return r.slice(t,l+1)})})}(e,n,l.firstpath(),l.secondpath())})},Ft=Nt,Lt=function(e,n,t){return Dt(e,n,t)},Ht=function(e,n,t){return Bt(e,n,t)},zt=function(e,n,t,l){return Ft(e,n,t,l)},Vt=function(e,n,t){return Et(e,n,t)},qt=function(e,n,t){return Rt(e,n,t)},jt=function(e,n,t,l){return Pt(e,n,t,l)},Wt=kt(),Ut={sharedOne:function(e,n){return Lt(Wt,function(n,t){return e(t)},n)},subset:function(e,n){return Ht(Wt,e,n)},ancestors:function(e,n,t){return zt(Wt,e,n,t)},breakToLeft:function(e,n){return Vt(Wt,e,n)},breakToRight:function(e,n){return qt(Wt,e,n)},breakPath:function(e,n,t){return jt(Wt,e,n,function(e,n,l){return t(n,l)})}},Qt=function(e,n){return n.column()>=e.startCol()&&n.column()+n.colspan()-1<=e.finishCol()&&n.row()>=e.startRow()&&n.row()+n.rowspan()-1<=e.finishRow()},Gt=function(e,n){var t=n.column(),l=n.column()+n.colspan()-1,r=n.row(),o=n.row()+n.rowspan()-1;return t<=e.finishCol()&&l>=e.startCol()&&r<=e.finishRow()&&o>=e.startRow()},Kt=function(e,n){for(var t=!0,l=i(Qt,n),r=n.startRow();r<=n.finishRow();r++)for(var o=n.startCol();o<=n.finishCol();o++)t=t&&Nn.getAt(e,r,o).exists(l);return t?m.some(n):m.none()},Yt=function(e,n,t){var l=Nn.findItem(e,n,Ve),r=Nn.findItem(e,t,Ve);return l.bind(function(e){return r.map(function(n){return t=e,l=n,le.bounds(Math.min(t.row(),l.row()),Math.min(t.column(),l.column()),Math.max(t.row()+t.rowspan()-1,l.row()+l.rowspan()-1),Math.max(t.column()+t.colspan()-1,l.column()+l.colspan()-1));var t,l})})},Zt=Yt,Jt=function(e,n,t){return Yt(e,n,t).bind(function(n){return Kt(e,n)})},Xt=function(e,n,t,l){return Nn.findItem(e,n,Ve).bind(function(n){var r=t>0?n.row()+n.rowspan()-1:n.row(),o=l>0?n.column()+n.colspan()-1:n.column();return Nn.getAt(e,r+t,o+l).map(function(e){return e.element()})})},$t=function(e,n,t){return Zt(e,n,t).map(function(n){var t=Nn.filterItems(e,i(Gt,n));return O(t,function(e){return e.element()})})},el=function(e,n){return Nn.findItem(e,n,function(e,n){return qe(n,e)}).bind(function(e){return e.element()})},nl=function(e){var n=Mn(e);return Nn.generate(n)},tl=function(e,n,t){return Pn.table(e).bind(function(l){var r=nl(l);return Xt(r,e,n,t)})},ll=function(e,n,t){var l=nl(e);return $t(l,n,t)},rl=function(e,n,t,l,r){var o=nl(e),i=Ve(e,t)?n:el(o,n),u=Ve(e,r)?l:el(o,l);return $t(o,i,u)},ol=function(e,n,t){var l=nl(e);return Jt(l,n,t)},il=function(e,n){return _n(e,"table")},ul=Z(["boxes","start","finish"],[]),al=function(e,n,t){var l=function(e){return function(n){return t(n)||Ve(n,e)}};return Ve(e,n)?m.some(ul({boxes:m.some([e]),start:e,finish:n})):il(e).bind(function(r){return il(n).bind(function(o){if(Ve(r,o))return m.some(ul({boxes:ll(r,e,n),start:e,finish:n}));if(qe(r,o)){var i=(u=bn(n,"td,th",l(r))).length>0?u[u.length-1]:n;return m.some(ul({boxes:rl(r,e,r,n,o),start:e,finish:i}))}if(qe(o,r)){var u,a=(u=bn(e,"td,th",l(o))).length>0?u[u.length-1]:e;return m.some(ul({boxes:rl(o,e,r,n,o),start:e,finish:a}))}return Ut.ancestors(e,n).shared().bind(function(i){return On(i,"table",t).bind(function(t){var i=bn(n,"td,th",l(t)),u=i.length>0?i[i.length-1]:n,a=bn(e,"td,th",l(t)),s=a.length>0?a[a.length-1]:e;return m.some(ul({boxes:rl(t,e,r,n,o),start:s,finish:u}))})})})})},sl={identify:al,retrieve:function(e,n){var t=Cn(e,n);return t.length>0?m.some(t):m.none()},shiftSelection:function(e,n,t,l,o){return function(e,n){return M(e,function(e){return fe(e,n)})}(e,o).bind(function(e){return tl(e,n,t).bind(function(e){return function(e,n){return _n(e,"table").bind(function(t){return kn(t,n).bind(function(n){return al(n,e).bind(function(e){return e.boxes().map(function(n){return{boxes:r(n),start:r(e.start()),finish:r(e.finish())}})})})})}(e,l)})})},getEdges:function(e,n,t){return kn(e,n).bind(function(n){return kn(e,t).bind(function(e){return Ut.sharedOne(il,[n,e]).map(function(t){return{first:r(n),last:r(e),table:r(t)}})})})}},cl=function(e,n){return sl.retrieve(e,n)},dl=function(e,n,t){return sl.getEdges(e,n,t).bind(function(n){var t=function(n){return Ve(e,n)},l=_n(n.first(),"thead,tfoot,tbody,table",t),r=_n(n.last(),"thead,tfoot,tbody,table",t);return l.bind(function(e){return r.bind(function(t){return Ve(e,t)?ol(n.table(),n.first(),n.last()):m.none()})})})},fl="data-mce-selected",pl={selected:r(fl),selectedSelector:r("td[data-mce-selected],th[data-mce-selected]"),attributeSelector:r("[data-mce-selected]"),firstSelected:r("data-mce-first-selected"),firstSelectedSelector:r("td[data-mce-first-selected],th[data-mce-first-selected]"),lastSelected:r("data-mce-last-selected"),lastSelectedSelector:r("td[data-mce-last-selected],th[data-mce-last-selected]")},hl=function(e){if(!y(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],t={};return S(e,function(l,r){var o=z(l);if(1!==o.length)throw new Error("one and only one name per case");var i=o[0],u=l[i];if(void 0!==t[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!y(u))throw new Error("case arguments must be an array");n.push(i),t[i]=function(){var t=arguments.length;if(t!==u.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+u.length+" ("+u+"), got "+t);for(var l=new Array(t),o=0;o<l.length;o++)l[o]=arguments[o];return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[r].apply(null,l)},match:function(e){var t=z(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!F(n,function(e){return A(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[i].apply(null,l)},log:function(e){console.log(e,{constructors:n,constructor:i,params:l})}}}}),t},gl=hl([{none:[]},{multiple:["elements"]},{single:["selection"]}]),ml={cata:function(e,n,t,l){return e.fold(n,t,l)},none:gl.none,multiple:gl.multiple,single:gl.single},vl=function(e,n){return ml.cata(n.get(),r([]),o,r([e]))},bl=function(e,n){return ml.cata(n.get(),m.none,function(n,t){return 0===n.length?m.none():dl(e,pl.firstSelectedSelector(),pl.lastSelectedSelector()).bind(function(e){return n.length>1?m.some({bounds:r(e),cells:r(n)}):m.none()})},m.none)},yl=function(e,n){var t=vl(e,n);return t.length>0&&F(t,function(e){return dn(e,"rowspan")&&parseInt(cn(e,"rowspan"),10)>1||dn(e,"colspan")&&parseInt(cn(e,"colspan"),10)>1})?m.some(t):m.none()},Cl=vl,wl=function(e){return{element:r(e),mergable:m.none,unmergable:m.none,selection:r([e])}},xl=W("element","clipboard","generators"),_l={noMenu:wl,forMenu:function(e,n,t){return{element:r(t),mergable:r(bl(n,e)),unmergable:r(yl(t,e)),selection:r(Cl(t,e))}},notCell:function(e){return wl(e)},paste:xl,pasteRows:function(e,n,t,l,o){return{element:r(t),mergable:m.none,unmergable:m.none,selection:r(Cl(t,e)),clipboard:r(l),generators:r(o)}}},Al={registerEvents:function(e,n,l,r){e.on("BeforeGetContent",function(l){!0===l.selection&&ml.cata(n.get(),t,function(n){l.preventDefault(),function(e){return Pn.table(e[0]).map(it).map(function(e){return[lt(e,pl.attributeSelector())]})}(n).each(function(n){l.content=O(n,function(n){return function(e,n){return e.selection.serializer.serialize(n.dom(),{})}(e,n)}).join("")})},t)}),e.on("BeforeSetContent",function(n){!0===n.selection&&!0===n.paste&&m.from(e.dom.getParent(e.selection.getStart(),"th,td")).each(function(t){var o=oe.fromDom(t);Pn.table(o).bind(function(t){var i,u,a,s=E((i=n.content,(a=(u||document).createElement("div")).innerHTML=i,Ye(oe.fromDom(a))),function(e){return"meta"!==$e(e)});if(1===s.length&&"table"===$e(s[0])){n.preventDefault();var c=oe.fromDom(e.getDoc()),d=_t(c),f=_l.paste(o,s[0],d);l.pasteCells(t,f).each(function(n){e.selection.setRng(n),e.focus(),r.clear(t)})}})})})}};function kl(e,n){var t=function(t){var l=n(t);if(l<=0||null===l){var r=zn(t,e);return parseFloat(r)||0}return l},l=function(e,n){return P(n,function(n,t){var l=zn(e,t),r=void 0===l?0:parseInt(l,10);return isNaN(r)?n:n+r},0)};return{set:function(n,t){if(!x(t)&&!t.match(/^[0-9]+$/))throw e+".set accepts only positive integer values. Value was "+t;var l=n.dom();Bn(l)&&(l.style[e]=t+"px")},get:t,getOuter:t,aggregate:l,max:function(e,n,t){var r=l(e,t);return n>r?n-r:0}}}var Ol=kl("height",function(e){var n=e.dom();return hn(e)?n.getBoundingClientRect().height:n.offsetHeight}),Sl=function(e){return Ol.get(e)},El=function(e){return Ol.getOuter(e)},Rl=kl("width",function(e){return e.dom().offsetWidth}),Pl=function(e){return Rl.get(e)},Ml=function(e){return Rl.getOuter(e)},Il=ze.detect(),Dl=function(e,n,t){return function(e,n){var t=parseFloat(e);return isNaN(t)?n:t}(zn(e,n),t)},Tl=function(e){return Il.browser.isIE()||Il.browser.isEdge()?function(e){var n=Dl(e,"padding-top",0),t=Dl(e,"padding-bottom",0),l=Dl(e,"border-top-width",0),r=Dl(e,"border-bottom-width",0),o=e.dom().getBoundingClientRect().height;return"border-box"===zn(e,"box-sizing")?o:o-n-t-(l+r)}(e):Dl(e,"height",Sl(e))},Nl=/(\d+(\.\d+)?)(\w|%)*/,Bl=/(\d+(\.\d+)?)%/,Fl=/(\d+(\.\d+)?)px|em/,Ll=function(e,n){Ln(e,"height",n+"px")},Hl=function(e,n,t,l){var r,o,i=parseInt(e,10);return function(e,n,t){return""===n||!(e.length<n.length)&&e.substr(t,t+n.length)===n}(r=e,o="%",r.length-o.length)&&"table"!==$e(n)?function(e,n,t,l){var r=Pn.table(e).map(function(e){var l=t(e);return Math.floor(n/100*l)}).getOr(n);return l(e,r),r}(n,i,t,l):i},zl=function(e){var n=function(e){return qn(e,"height").getOrThunk(function(){return Tl(e)+"px"})}(e);return n?Hl(n,e,Sl,Ll):Sl(e)},Vl=function(e,n){return dn(e,n)?parseInt(cn(e,n),10):1},ql=function(e){return qn(e,"width").fold(function(){return m.from(cn(e,"width"))},function(e){return m.some(e)})},jl=function(e,n){return e/n.pixelWidth()*100},Wl={percentageBasedSizeRegex:r(Bl),pixelBasedSizeRegex:r(Fl),setPixelWidth:function(e,n){Ln(e,"width",n+"px")},setPercentageWidth:function(e,n){Ln(e,"width",n+"%")},setHeight:Ll,getPixelWidth:function(e,n){return ql(e).fold(function(){return Pl(e)},function(t){return function(e,n,t){if(Fl.test(n)){var l=Fl.exec(n);return parseInt(l[1],10)}if(Bl.test(n)){var r=Bl.exec(n);return function(e,n){return e/100*n.pixelWidth()}(parseFloat(r[1]),t)}return Pl(e)}(e,t,n)})},getPercentageWidth:function(e,n){return ql(e).fold(function(){var t=Pl(e);return jl(t,n)},function(t){return function(e,n,t){if(Bl.test(n)){var l=Bl.exec(n);return parseFloat(l[1])}var r=Pl(e);return jl(r,t)}(e,t,n)})},getGenericWidth:function(e){return ql(e).bind(function(e){if(Nl.test(e)){var n=Nl.exec(e);return m.some({width:r(n[1]),unit:r(n[3])})}return m.none()})},setGenericWidth:function(e,n,t){Ln(e,"width",n+t)},getHeight:function(e){return function(e,n,t){return t(e)/Vl(e,n)}(e,"rowspan",zl)},getRawWidth:ql},Ul=function(e,n){Wl.getGenericWidth(e).each(function(t){var l=t.width()/2;Wl.setGenericWidth(e,l,t.unit()),Wl.setGenericWidth(n,l,t.unit())})},Ql=function(e,n){return{left:r(e),top:r(n),translate:function(t,l){return Ql(e+t,n+l)}}},Gl=Ql,Kl=function(e,n){return void 0!==e?e:void 0!==n?n:0},Yl=function(e){var n=e.dom().ownerDocument,t=n.body,l=function(e){var n=e.dom();return n===n.window&&e instanceof Window?e:on(e)?n.defaultView||n.parentWindow:null}(oe.fromDom(n)),r=n.documentElement,o=Kl(l.pageYOffset,r.scrollTop),i=Kl(l.pageXOffset,r.scrollLeft),u=Kl(r.clientTop,t.clientTop),a=Kl(r.clientLeft,t.clientLeft);return Zl(e).translate(i-a,o-u)},Zl=function(e){var n=e.dom(),t=n.ownerDocument,l=t.body,r=oe.fromDom(t.documentElement);return l===n?Gl(l.offsetLeft,l.offsetTop):function(e,n){var t=n||oe.fromDom(document.documentElement);return xn(e,i(Ve,t)).isSome()}(e,r)?function(e){var n=e.getBoundingClientRect();return Gl(n.left,n.top)}(n):Gl(0,0)},Jl=W("row","y"),Xl=W("col","x"),$l=function(e){return Yl(e).left()+Ml(e)},er=function(e){return Yl(e).left()},nr=function(e,n){return Xl(e,er(n))},tr=function(e,n){return Xl(e,$l(n))},lr=function(e){return Yl(e).top()},rr=function(e,n,t){if(0===t.length)return[];var l=O(t.slice(1),function(n,t){return n.map(function(n){return e(t,n)})}),r=t[t.length-1].map(function(e){return n(t.length-1,e)});return l.concat([r])},or={delta:o,positions:i(rr,function(e,n){return Jl(e,lr(n))},function(e,n){return Jl(e,lr(n)+El(n))}),edge:lr},ir={delta:o,edge:er,positions:i(rr,nr,tr)},ur={height:or,rtl:{delta:function(e,n){return-e},edge:$l,positions:i(rr,tr,nr)},ltr:ir},ar={ltr:ur.ltr,rtl:ur.rtl};function sr(e){var n=function(n){return e(n).isRtl()?ar.rtl:ar.ltr};return{delta:function(e,t){return n(t).delta(e,t)},edge:function(e){return n(e).edge(e)},positions:function(e,t){return n(t).positions(e,t)}}}var cr,dr=function(e){var n=Mn(e);return Nn.generate(n).grid()},fr=function(e){var n=e,t=function(){return n};return{get:t,set:function(e){n=e},clone:function(){return fr(t())}}},pr=function(e,n,t){if(0===n.length)throw new Error("You must specify at least one required field.");return K("required",n),Y(n),function(l){var r=z(l);F(n,function(e){return A(r,e)})||Q(n,r),e(n,r);var o=E(n,function(e){return!t.validate(l[e],e)});return o.length>0&&function(e,n){throw new Error("All values need to be of type: "+n+". Keys ("+U(e).join(", ")+") were not.")}(o,t.label),l}},hr=function(e,n){var t=E(n,function(n){return!A(e,n)});t.length>0&&G(t)},gr=function(e){return function(e,n){return pr(e,n,{validate:w,label:"function"})}(hr,e)},mr=function(e){var n=dn(e,"colspan")?parseInt(cn(e,"colspan"),10):1,t=dn(e,"rowspan")?parseInt(cn(e,"rowspan"),10):1;return{element:r(e),colspan:r(n),rowspan:r(t)}},vr=gr(["cell","row","replace","gap"]),br=function(e,n){vr(e);var t=fr(m.none()),l=void 0!==n?n:mr,r=function(n){return function(n){return e.cell(n)}(l(n))},o=function(e){var n=r(e);return t.get().isNone()&&t.set(m.some(n)),i=m.some({item:e,replacement:n}),n},i=m.none();return{getOrInit:function(e,n){return i.fold(function(){return o(e)},function(t){return n(e,t.item)?t.replacement:o(e)})},cursor:t.get}},yr=function(e,n){return function(t){var l=fr(m.none());vr(t);var r=[],o=function(o){var i=t.replace(o,n,{scope:e});return r.push({item:o,sub:i}),l.get().isNone()&&l.set(m.some(i)),i};return{replaceOrInit:function(e,n){return function(e,n){return M(r,function(t){return n(t.item,e)})}(e,n).fold(function(){return o(e)},function(t){return n(e,t.item)?t.sub:o(e)})},cursor:l.get}}},Cr=function(e){vr(e);var n=fr(m.none());return{combine:function(t){return n.get().isNone()&&n.set(m.some(t)),function(){var n=e.cell({element:r(t),colspan:r(1),rowspan:r(1)});return jn(n,"width"),jn(t,"width"),n}},cursor:n.get}},wr=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],xr=function(e,n){var t=e.property().name(n);return A(wr,t)},_r=function(e,n){return A(["br","img","hr","input"],e.property().name(n))},Ar=xr,kr=function(e,n){var t=e.property().name(n);return A(["ol","ul"],t)},Or=_r,Sr=kt(),Er=function(e){return Ar(Sr,e)},Rr=function(e){return kr(Sr,e)},Pr=function(e){return Or(Sr,e)},Mr=function(e){var n,t=function(e){return"br"===$e(e)},l=function(e){return mt(e).bind(function(n){var l=Ke(n).map(function(e){return!!Er(e)||(Pr(e)?"img"!==$e(e):void 0)}).getOr(!1);return Ue(n).map(function(r){return!0===l||"li"===$e(o=r)||xn(o,Rr).isSome()||t(n)||Er(r)&&!Ve(e,r)?[]:[oe.fromTag("br")];var o})}).getOr([])},r=0===(n=B(e,function(e){var n=Ye(e);return function(e){return F(e,function(e){return t(e)||rn(e)&&0===st(e).trim().length})}(n)?[]:n.concat(l(e))})).length?[oe.fromTag("br")]:n;Jn(e[0]),Zn(e[0],r)},Ir=Object.prototype.hasOwnProperty,Dr=(cr=function(e,n){return n},function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var t={},l=0;l<e.length;l++){var r=e[l];for(var o in r)Ir.call(r,o)&&(t[o]=cr(t[o],r[o]))}return t}),Tr=function(e){for(var n=[],t=function(e){n.push(e)},l=0;l<e.length;l++)e[l].each(t);return n},Nr=function(e,n){for(var t=0;t<e.length;t++){var l=n(e[t],t);if(l.isSome())return l}return m.none()},Br=function(e,n){return le.rowcells(n,e.section())},Fr=function(e,n){return e.cells()[n]},Lr={addCell:function(e,n,t){var l=e.cells(),r=l.slice(0,n),o=l.slice(n),i=r.concat([t]).concat(o);return Br(e,i)},setCells:Br,mutateCell:function(e,n,t){e.cells()[n]=t},getCell:Fr,getCellElement:function(e,n){return Fr(e,n).element()},mapCells:function(e,n){var t=e.cells(),l=O(t,n);return le.rowcells(l,e.section())},cellLength:function(e){return e.cells().length}},Hr=function(e,n){if(0===e.length)return 0;var t=e[0];return I(e,function(e){return!n(t.element(),e.element())}).fold(function(){return e.length},function(e){return e})},zr=function(e,n,t,l){var o=function(e,n){return e[n]}(e,n).cells().slice(t),i=Hr(o,l),u=function(e,n){return O(e,function(e){return Lr.getCell(e,n)})}(e,t).slice(n),a=Hr(u,l);return{colspan:r(i),rowspan:r(a)}},Vr=function(e,n){var t=O(e,function(e,n){return O(e.cells(),function(e,n){return!1})});return O(e,function(l,r){var o=B(l.cells(),function(l,o){if(!1===t[r][o]){var i=zr(e,r,o,n);return function(e,n,l,r){for(var o=e;o<e+l;o++)for(var i=n;i<n+r;i++)t[o][i]=!0}(r,o,i.rowspan(),i.colspan()),[le.detailnew(l.element(),i.rowspan(),i.colspan(),l.isNew())]}return[]});return le.rowdetails(o,l.section())})},qr=function(e,n,t){for(var l=[],r=0;r<e.grid().rows();r++){for(var o=[],i=0;i<e.grid().columns();i++){var u=Nn.getAt(e,r,i).map(function(e){return le.elementnew(e.element(),t)}).getOrThunk(function(){return le.elementnew(n.gap(),!0)});o.push(u)}var a=le.rowcells(o,e.all()[r].section());l.push(a)}return l},jr=function(e,n,t,l){t===l?fn(e,n):an(e,n,t)},Wr=function(e,n){var t=[],l=[],o=function(n,r){n.length>0?function(n,r){var o=An(e,r).getOrThunk(function(){var n=oe.fromTag(r,We(e).dom());return Gn(e,n),n});Jn(o);var i=O(n,function(e){e.isNew()&&t.push(e.element());var n=e.element();return Jn(n),S(e.cells(),function(e){e.isNew()&&l.push(e.element()),jr(e.element(),"colspan",e.colspan(),1),jr(e.element(),"rowspan",e.rowspan(),1),Gn(n,e.element())}),n});Zn(o,i)}(n,r):function(n){An(e,n).each(Xn)}(r)},i=[],u=[],a=[];return S(n,function(e){switch(e.section()){case"thead":i.push(e);break;case"tbody":u.push(e);break;case"tfoot":a.push(e)}}),o(i,"thead"),o(u,"tbody"),o(a,"tfoot"),{newRows:r(t),newCells:r(l)}},Ur=function(e){return O(e,function(e){var n=ot(e.element());return S(e.cells(),function(e){var t=it(e.element());jr(t,"colspan",e.colspan(),1),jr(t,"rowspan",e.rowspan(),1),Gn(n,t)}),n})},Qr=function(e,n){for(var t=[],l=0;l<e;l++)t.push(n(l));return t},Gr=function(e,n){for(var t=[],l=e;l<n;l++)t.push(l);return t},Kr=function(e,n){if(n<0||n>=e.length-1)return m.none();var t=e[n].fold(function(){var t=H(e.slice(0,n));return Nr(t,function(e,n){return e.map(function(e){return{value:e,delta:n+1}})})},function(e){return m.some({value:e,delta:0})}),l=e[n+1].fold(function(){var t=e.slice(n+1);return Nr(t,function(e,n){return e.map(function(e){return{value:e,delta:n+1}})})},function(e){return m.some({value:e,delta:1})});return t.bind(function(e){return l.map(function(n){var t=n.delta+e.delta;return Math.abs(n.value-e.value)/t})})},Yr=function(e,n,t){var l=e();return M(l,n).orThunk(function(){return m.from(l[0]).orThunk(t)}).map(function(e){return e.element()})},Zr=function(e){var n=e.grid(),t=Gr(0,n.columns()),l=Gr(0,n.rows());return O(t,function(n){return Yr(function(){return B(l,function(t){return Nn.getAt(e,t,n).filter(function(e){return e.column()===n}).fold(r([]),function(e){return[e]})})},function(e){return 1===e.colspan()},function(){return Nn.getAt(e,0,n)})})},Jr=function(e){var n=e.grid(),t=Gr(0,n.rows()),l=Gr(0,n.columns());return O(t,function(n){return Yr(function(){return B(l,function(t){return Nn.getAt(e,n,t).filter(function(e){return e.row()===n}).fold(r([]),function(e){return[e]})})},function(e){return 1===e.rowspan()},function(){return Nn.getAt(e,n,0)})})},Xr=function(e,n,t,l,r){var o=oe.fromTag("div");return Hn(o,{position:"absolute",left:n-l/2+"px",top:t+"px",height:r+"px",width:l+"px"}),sn(o,{"data-column":e,role:"presentation"}),o},$r=function(e,n,t,l,r){var o=oe.fromTag("div");return Hn(o,{position:"absolute",left:n+"px",top:t-r/2+"px",height:r+"px",width:l+"px"}),sn(o,{"data-row":e,role:"presentation"}),o},eo=function(e){var n=e.replace(/\./g,"-");return{resolve:function(e){return n+"-"+e}}},no={resolve:eo("ephox-snooker").resolve},to=function(e,n){var t=cn(e,n);return void 0===t||""===t?[]:t.split(" ")},lo=function(e){return void 0!==e.dom().classList},ro=function(e,n){return function(e,n,t){var l=to(e,n).concat([t]);return an(e,n,l.join(" ")),!0}(e,"class",n)},oo=function(e,n){return function(e,n,t){var l=E(to(e,n),function(e){return e!==t});return l.length>0?an(e,n,l.join(" ")):fn(e,n),!1}(e,"class",n)},io=function(e,n){lo(e)?e.dom().classList.add(n):ro(e,n)},uo=function(e){0===(lo(e)?e.dom().classList:function(e){return to(e,"class")}(e)).length&&fn(e,"class")},ao=function(e,n){return lo(e)&&e.dom().classList.contains(n)},so=no.resolve("resizer-bar"),co=no.resolve("resizer-rows"),fo=no.resolve("resizer-cols"),po=function(e){var n=Cn(e.parent(),"."+so);S(n,Xn)},ho=function(e,n,t){var l=e.origin();S(n,function(n,r){n.each(function(n){var r=t(l,n);io(r,so),Gn(e.parent(),r)})})},go=function(e,n,t,l,r,o){var i=Yl(n);!function(e,n,t,l){ho(e,n,function(e,n){var r=$r(n.row(),t.left()-e.left(),n.y()-e.top(),l,7);return io(r,co),r})}(e,t.length>0?r.positions(t,n):[],i,Ml(n)),function(e,n,t,l){ho(e,n,function(e,n){var r=Xr(n.col(),n.x()-e.left(),t.top()-e.top(),7,l);return io(r,fo),r})}(e,l.length>0?o.positions(l,n):[],i,El(n))},mo=function(e,n){var t=Cn(e.parent(),"."+so);S(t,n)},vo={refresh:function(e,n,t,l){po(e);var r=Mn(n),o=Nn.generate(r),i=Jr(o),u=Zr(o);go(e,n,i,u,t,l)},hide:function(e){mo(e,function(e){Ln(e,"display","none")})},show:function(e){mo(e,function(e){Ln(e,"display","block")})},destroy:po,isRowBar:function(e){return ao(e,co)},isColBar:function(e){return ao(e,fo)}},bo=function(e,n){return O(e,function(e){var t=function(e){return Nr(e,function(e){return Ue(e.element()).map(function(e){var n=Ue(e).isNone();return le.elementnew(e,n)})}).getOrThunk(function(){return le.elementnew(n.row(),!0)})}(e.details());return le.rowdatanew(t.element(),e.details(),e.section(),t.isNew())})},yo=function(e,n){var t=Vr(e,Ve);return bo(t,n)},Co=function(e,n){var t=N(O(e.all(),function(e){return e.cells()}));return M(t,function(e){return Ve(n,e.element())})},wo=function(e,n,t,l,o){return function(i,u,a,s,c){var d=Mn(u),f=Nn.generate(d);return n(f,a).map(function(n){var t=function(e,n){return qr(e,n,!1)}(f,s),l=e(t,n,Ve,o(s)),i=yo(l.grid(),s);return{grid:r(i),cursor:l.cursor}}).fold(function(){return m.none()},function(e){var n=Wr(u,e.grid());return t(u,e.grid(),c),l(u),vo.refresh(i,u,ur.height,c),m.some({cursor:e.cursor,newRows:n.newRows,newCells:n.newCells})})}},xo=yo,_o=function(e,n){return Pn.cell(n.element()).bind(function(n){return Co(e,n)})},Ao=function(e,n){var t=O(n.selection(),function(n){return Pn.cell(n).bind(function(n){return Co(e,n)})}),l=Tr(t);return l.length>0?m.some(l):m.none()},ko=function(e,n){return Pn.cell(n.element()).bind(function(t){return Co(e,t).map(function(e){return Dr(e,{generators:n.generators,clipboard:n.clipboard})})})},Oo=function(e,n){var t=O(n.selection(),function(n){return Pn.cell(n).bind(function(n){return Co(e,n)})}),l=Tr(t);return l.length>0?m.some(Dr({cells:l},{generators:n.generators,clipboard:n.clipboard})):m.none()},So=function(e,n){return n.mergable()},Eo=function(e,n){return n.unmergable()},Ro=function(e){return{is:function(n){return e===n},isValue:c,isError:s,getOr:r(e),getOrThunk:r(e),getOrDie:r(e),or:function(n){return Ro(e)},orThunk:function(n){return Ro(e)},fold:function(n,t){return t(e)},map:function(n){return Ro(n(e))},each:function(n){n(e)},bind:function(n){return n(e)},exists:function(n){return n(e)},forall:function(n){return n(e)},toOption:function(){return m.some(e)}}},Po=function(e){return{is:s,isValue:s,isError:c,getOr:o,getOrThunk:function(e){return e()},getOrDie:function(){return(n=String(e),function(){throw new Error(n)})();var n},or:function(e){return e},orThunk:function(e){return e()},fold:function(n,t){return n(e)},map:function(n){return Po(e)},each:t,bind:function(n){return Po(e)},exists:s,forall:c,toOption:m.none}},Mo={value:Ro,error:Po},Io=function(e,n){return O(e,function(){return le.elementnew(n.cell(),!0)})},Do=function(e,n,t){return e.concat(Qr(n,function(n){return Lr.setCells(e[e.length-1],Io(e[e.length-1].cells(),t))}))},To=function(e,n,t){return O(e,function(e){return Lr.setCells(e,e.cells().concat(Io(Gr(0,n),t)))})},No=function(e,n,t){if(e.row()>=n.length||e.column()>Lr.cellLength(n[0]))return Mo.error("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var l=n.slice(e.row()),o=l[0].cells().slice(e.column()),i=Lr.cellLength(t[0]),u=t.length;return Mo.value({rowDelta:r(l.length-u),colDelta:r(o.length-i)})},Bo=function(e,n){var t=Lr.cellLength(e[0]),l=Lr.cellLength(n[0]);return{rowDelta:r(0),colDelta:r(t-l)}},Fo=function(e,n,t){var l=n.colDelta()<0?To:o;return(n.rowDelta()<0?Do:o)(l(e,Math.abs(n.colDelta()),t),Math.abs(n.rowDelta()),t)},Lo=function(e,n,t,l){if(0===e.length)return e;for(var r=n.startRow();r<=n.finishRow();r++)for(var o=n.startCol();o<=n.finishCol();o++)Lr.mutateCell(e[r],o,le.elementnew(l(),!1));return e},Ho=function(e,n,t,l){for(var r=!0,o=0;o<e.length;o++)for(var i=0;i<Lr.cellLength(e[0]);i++){var u=t(Lr.getCellElement(e[o],i),n);!0===u&&!1===r?Lr.mutateCell(e[o],i,le.elementnew(l(),!0)):!0===u&&(r=!1)}return e},zo=function(e,n,t,l){if(n>0&&n<e.length){var r=function(e,n){return P(e,function(e,t){return k(e,function(e){return n(e.element(),t.element())})?e:e.concat([t])},[])}(e[n-1].cells(),t);S(r,function(r){for(var o=m.none(),i=n;i<e.length;i++)for(var u=0;u<Lr.cellLength(e[0]);u++){var a=e[i].cells()[u];t(a.element(),r.element())&&(o.isNone()&&(o=m.some(l())),o.each(function(n){Lr.mutateCell(e[i],u,le.elementnew(n,!0))}))}})}return e},Vo=function(e,n,t,l){var r=Lr.getCell(e[n],t),o=i(l,r.element()),u=e[n];return e.length>1&&Lr.cellLength(u)>1&&(t>0&&o(Lr.getCellElement(u,t-1))||t<u.length-1&&o(Lr.getCellElement(u,t+1))||n>0&&o(Lr.getCellElement(e[n-1],t))||n<e.length-1&&o(Lr.getCellElement(e[n+1],t)))},qo=function(e,n,t,l,r){return No(e,n,t).map(function(o){var i=Fo(n,o,l);return function(e,n,t,l,r){for(var o=e.row(),i=e.column(),u=o+t.length,a=i+Lr.cellLength(t[0]),s=o;s<u;s++)for(var c=i;c<a;c++){Vo(n,s,c,r)&&Ho(n,Lr.getCellElement(n[s],c),r,l.cell);var d=Lr.getCellElement(t[s-o],c-i),f=l.replace(d);Lr.mutateCell(n[s],c,le.elementnew(f,!0))}return n}(e,i,t,l,r)})},jo=function(e,n,t,l,r){zo(n,e,r,l.cell);var o=Bo(t,n),i=Fo(t,o,l),u=Bo(n,i),a=Fo(n,u,l);return a.slice(0,e).concat(i).concat(a.slice(e,a.length))},Wo=function(e,n,t,l,r){var o=e.slice(0,n),i=e.slice(n),u=Lr.mapCells(e[t],function(t,o){return n>0&&n<e.length&&l(Lr.getCellElement(e[n-1],o),Lr.getCellElement(e[n],o))?Lr.getCell(e[n],o):le.elementnew(r(t.element(),l),!0)});return o.concat([u]).concat(i)},Uo=function(e,n,t,l,r){return O(e,function(e){var o=n>0&&n<Lr.cellLength(e)&&l(Lr.getCellElement(e,n-1),Lr.getCellElement(e,n))?Lr.getCell(e,n):le.elementnew(r(Lr.getCellElement(e,t),l),!0);return Lr.addCell(e,n,o)})},Qo=function(e,n,t,l,r){var o=t+1;return O(e,function(e,i){var u=i===n?le.elementnew(r(Lr.getCellElement(e,t),l),!0):Lr.getCell(e,t);return Lr.addCell(e,o,u)})},Go=function(e,n,t,l,r){var o=n+1,i=e.slice(0,o),u=e.slice(o),a=Lr.mapCells(e[n],function(e,n){return n===t?le.elementnew(r(e.element(),l),!0):e});return i.concat([a]).concat(u)},Ko=function(e,n,t){return e.slice(0,n).concat(e.slice(t+1))},Yo=function(e,n,t){var l=O(e,function(e){var l=e.cells().slice(0,n).concat(e.cells().slice(t+1));return le.rowcells(l,e.section())});return E(l,function(e){return e.cells().length>0})},Zo=function(e,n,t,l){return O(e,function(e){return Lr.mapCells(e,function(e){return function(e){return k(n,function(n){return t(e.element(),n.element())})}(e)?le.elementnew(l(e.element(),t),!0):e})})},Jo=function(e,n,t,l){return void 0!==Lr.getCellElement(e[n],t)&&n>0&&l(Lr.getCellElement(e[n-1],t),Lr.getCellElement(e[n],t))},Xo=function(e,n,t){return n>0&&t(Lr.getCellElement(e,n-1),Lr.getCellElement(e,n))},$o=function(e,n,t,l){var r=B(e,function(l,r){return Jo(e,r,n,t)||Xo(l,n,t)?[]:[Lr.getCell(l,n)]});return Zo(e,r,t,l)},ei=function(e,n,t,l){var r=e[n],o=B(r.cells(),function(l,o){return Jo(e,n,o,t)||Xo(r,o,t)?[]:[l]});return Zo(e,o,t,l)},ni=function(e){return{fold:e}},ti=function(){return ni(function(e,n,t,l,r){return e()})},li=function(e){return ni(function(n,t,l,r,o){return t(e)})},ri=function(e,n){return ni(function(t,l,r,o,i){return r(e,n)})},oi=function(e,n,t){return ni(function(l,r,o,i,u){return i(e,n,t)})},ii=function(e,n){return ni(function(t,l,r,o,i){return i(e,n)})},ui=function(e,n,t,l){var o=e.slice(0),i=function(e,n){return 0===e.length?ti():1===e.length?li(0):0===n?ri(0,1):n===e.length-1?ii(n-1,n):n>0&&n<e.length-1?oi(n-1,n,n+1):ti()}(e,n),u=function(e){return O(e,r(0))},a=r(u(o)),s=function(e,n){if(t>=0){var r=Math.max(l.minCellWidth(),o[n]-t);return u(o.slice(0,e)).concat([t,r-o[n]]).concat(u(o.slice(n+1)))}var i=Math.max(l.minCellWidth(),o[e]+t),a=o[e]-i;return u(o.slice(0,e)).concat([i-o[e],a]).concat(u(o.slice(n+1)))},c=s;return i.fold(a,function(e){return l.singleColumnWidth(o[e],t)},c,function(e,n,t){return s(n,t)},function(e,n){if(t>=0)return u(o.slice(0,n)).concat([t]);var r=Math.max(l.minCellWidth(),o[n]+t);return u(o.slice(0,n)).concat([r-o[n]])})},ai=function(e,n){return dn(e,n)&&parseInt(cn(e,n),10)>1},si={hasColspan:function(e){return ai(e,"colspan")},hasRowspan:function(e){return ai(e,"rowspan")},minWidth:r(10),minHeight:r(10),getInt:function(e,n){return parseInt(zn(e,n),10)}},ci=function(e,n,t){return qn(e,n).fold(function(){return t(e)+"px"},function(e){return e})},di=function(e){return ci(e,"width",Wl.getPixelWidth)},fi=function(e){return ci(e,"height",Wl.getHeight)},pi=function(e,n,t,l,r){var o=Zr(e),i=O(o,function(e){return e.map(n.edge)});return O(o,function(e,n){return e.filter(u(si.hasColspan)).fold(function(){var e=Kr(i,n);return l(e)},function(e){return t(e,r)})})},hi=function(e){return e.map(function(e){return e+"px"}).getOr("")},gi=function(e,n,t,l){var r=Jr(e),o=O(r,function(e){return e.map(n.edge)});return O(r,function(e,n){return e.filter(u(si.hasRowspan)).fold(function(){var e=Kr(o,n);return l(e)},function(e){return t(e)})})},mi={getRawWidths:function(e,n){return pi(e,n,di,hi)},getPixelWidths:function(e,n,t){return pi(e,n,Wl.getPixelWidth,function(e){return e.getOrThunk(t.minCellWidth)},t)},getPercentageWidths:function(e,n,t){return pi(e,n,Wl.getPercentageWidth,function(e){return e.fold(function(){return t.minCellWidth()},function(e){return e/t.pixelWidth()*100})},t)},getPixelHeights:function(e,n){return gi(e,n,Wl.getHeight,function(e){return e.getOrThunk(si.minHeight)})},getRawHeights:function(e,n){return gi(e,n,fi,hi)}},vi=function(e,n,t){for(var l=0,r=e;r<n;r++)l+=void 0!==t[r]?t[r]:0;return l},bi=function(e,n){var t=Nn.justCells(e);return O(t,function(e){var t=vi(e.column(),e.column()+e.colspan(),n);return{element:e.element,width:r(t),colspan:e.colspan}})},yi=function(e,n){var t=Nn.justCells(e);return O(t,function(e){var t=vi(e.row(),e.row()+e.rowspan(),n);return{element:e.element,height:r(t),rowspan:e.rowspan}})},Ci=function(e,n){return O(e.all(),function(e,t){return{element:e.element,height:r(n[t])}})},wi=function(e){var n=parseInt(e,10),t=o;return{width:r(n),pixelWidth:r(n),getWidths:mi.getPixelWidths,getCellDelta:t,singleColumnWidth:function(e,n){return[Math.max(si.minWidth(),e+n)-e]},minCellWidth:si.minWidth,setElementWidth:Wl.setPixelWidth,setTableWidth:function(e,n,t){var l=R(n,function(e,n){return e+n},0);Wl.setPixelWidth(e,l)}}},xi=function(e,n){if(Wl.percentageBasedSizeRegex().test(n))return function(e,n){var t=parseFloat(e),l=Pl(n);return{width:r(t),pixelWidth:r(l),getWidths:mi.getPercentageWidths,getCellDelta:function(e){return e/l*100},singleColumnWidth:function(e,n){return[100-e]},minCellWidth:function(){return si.minWidth()/l*100},setElementWidth:Wl.setPercentageWidth,setTableWidth:function(e,n,l){var r=t+l;Wl.setPercentageWidth(e,r)}}}(Wl.percentageBasedSizeRegex().exec(n)[1],e);if(Wl.pixelBasedSizeRegex().test(n)){var t=Wl.pixelBasedSizeRegex().exec(n);return wi(t[1])}var l=Pl(e);return wi(l)},_i=function(e){return Wl.getRawWidth(e).fold(function(){var n=Pl(e);return wi(n)},function(n){return xi(e,n)})},Ai=function(e){return Nn.generate(e)},ki=function(e){var n=Mn(e);return Ai(n)},Oi={adjustWidth:function(e,n,t,l){var r=_i(e),o=r.getCellDelta(n),i=ki(e),u=r.getWidths(i,l,r),a=ui(u,t,o,r),s=O(a,function(e,n){return e+u[n]}),c=bi(i,s);S(c,function(e){r.setElementWidth(e.element(),e.width())}),t===i.grid().columns()-1&&r.setTableWidth(e,s,o)},adjustHeight:function(e,n,t,l){var r=ki(e),o=mi.getPixelHeights(r,l),i=O(o,function(e,l){return t===l?Math.max(n+e,si.minHeight()):e}),u=yi(r,i),a=Ci(r,i);S(a,function(e){Wl.setHeight(e.element(),e.height())}),S(u,function(e){Wl.setHeight(e.element(),e.height())});var s=R(i,function(e,n){return e+n},0);Wl.setHeight(e,s)},adjustWidthTo:function(e,n,t){var l=_i(e),r=Ai(n),o=l.getWidths(r,t,l),i=bi(r,o);S(i,function(e){l.setElementWidth(e.element(),e.width())});var u=R(o,function(e,n){return n+e},0);i.length>0&&l.setElementWidth(e,u)}},Si=function(e){0===Pn.cells(e).length&&Xn(e)},Ei=W("grid","cursor"),Ri=function(e,n,t){return Pi(e,n,t).orThunk(function(){return Pi(e,0,0)})},Pi=function(e,n,t){return m.from(e[n]).bind(function(e){return m.from(e.cells()[t]).bind(function(e){return m.from(e.element())})})},Mi=function(e,n,t){return Ei(e,Pi(e,n,t))},Ii=function(e){return P(e,function(e,n){return k(e,function(e){return e.row()===n.row()})?e:e.concat([n])},[]).sort(function(e,n){return e.row()-n.row()})},Di=function(e){return P(e,function(e,n){return k(e,function(e){return e.column()===n.column()})?e:e.concat([n])},[]).sort(function(e,n){return e.column()-n.column()})},Ti=function(e,n,t){var l=In(e,t),r=Nn.generate(l);return qr(r,n,!0)},Ni=Oi.adjustWidthTo,Bi={insertRowBefore:wo(function(e,n,t,l){var r=n.row(),o=n.row(),i=Wo(e,o,r,t,l.getOrInit);return Mi(i,o,n.column())},_o,t,t,br),insertRowsBefore:wo(function(e,n,t,l){var r=n[0].row(),o=n[0].row(),i=Ii(n),u=P(i,function(e,n){return Wo(e,o,r,t,l.getOrInit)},e);return Mi(u,o,n[0].column())},Ao,t,t,br),insertRowAfter:wo(function(e,n,t,l){var r=n.row(),o=n.row()+n.rowspan(),i=Wo(e,o,r,t,l.getOrInit);return Mi(i,o,n.column())},_o,t,t,br),insertRowsAfter:wo(function(e,n,t,l){var r=Ii(n),o=r[r.length-1].row(),i=r[r.length-1].row()+r[r.length-1].rowspan(),u=P(r,function(e,n){return Wo(e,i,o,t,l.getOrInit)},e);return Mi(u,i,n[0].column())},Ao,t,t,br),insertColumnBefore:wo(function(e,n,t,l){var r=n.column(),o=n.column(),i=Uo(e,o,r,t,l.getOrInit);return Mi(i,n.row(),o)},_o,Ni,t,br),insertColumnsBefore:wo(function(e,n,t,l){var r=Di(n),o=r[0].column(),i=r[0].column(),u=P(r,function(e,n){return Uo(e,i,o,t,l.getOrInit)},e);return Mi(u,n[0].row(),i)},Ao,Ni,t,br),insertColumnAfter:wo(function(e,n,t,l){var r=n.column(),o=n.column()+n.colspan(),i=Uo(e,o,r,t,l.getOrInit);return Mi(i,n.row(),o)},_o,Ni,t,br),insertColumnsAfter:wo(function(e,n,t,l){var r=n[n.length-1].column(),o=n[n.length-1].column()+n[n.length-1].colspan(),i=Di(n),u=P(i,function(e,n){return Uo(e,o,r,t,l.getOrInit)},e);return Mi(u,n[0].row(),o)},Ao,Ni,t,br),splitCellIntoColumns:wo(function(e,n,t,l){var r=Qo(e,n.row(),n.column(),t,l.getOrInit);return Mi(r,n.row(),n.column())},_o,t,t,br),splitCellIntoRows:wo(function(e,n,t,l){var r=Go(e,n.row(),n.column(),t,l.getOrInit);return Mi(r,n.row(),n.column())},_o,t,t,br),eraseColumns:wo(function(e,n,t,l){var r=Di(n),o=Yo(e,r[0].column(),r[r.length-1].column()),i=Ri(o,n[0].row(),n[0].column());return Ei(o,i)},Ao,Ni,Si,br),eraseRows:wo(function(e,n,t,l){var r=Ii(n),o=Ko(e,r[0].row(),r[r.length-1].row()),i=Ri(o,n[0].row(),n[0].column());return Ei(o,i)},Ao,t,Si,br),makeColumnHeader:wo(function(e,n,t,l){var r=$o(e,n.column(),t,l.replaceOrInit);return Mi(r,n.row(),n.column())},_o,t,t,yr("row","th")),unmakeColumnHeader:wo(function(e,n,t,l){var r=$o(e,n.column(),t,l.replaceOrInit);return Mi(r,n.row(),n.column())},_o,t,t,yr(null,"td")),makeRowHeader:wo(function(e,n,t,l){var r=ei(e,n.row(),t,l.replaceOrInit);return Mi(r,n.row(),n.column())},_o,t,t,yr("col","th")),unmakeRowHeader:wo(function(e,n,t,l){var r=ei(e,n.row(),t,l.replaceOrInit);return Mi(r,n.row(),n.column())},_o,t,t,yr(null,"td")),mergeCells:wo(function(e,n,t,l){var o=n.cells();Mr(o);var i=Lo(e,n.bounds(),t,r(o[0]));return Ei(i,m.from(o[0]))},So,t,t,Cr),unmergeCells:wo(function(e,n,t,l){var r=R(n,function(e,n){return Ho(e,n,t,l.combine(n))},e);return Ei(r,m.from(n[0]))},Eo,t,t,Cr),pasteCells:wo(function(e,n,t,l){var r,o,i,u,a=(r=n.clipboard(),o=n.generators(),i=Mn(r),u=Nn.generate(i),qr(u,o,!0)),s=le.address(n.row(),n.column());return qo(s,e,a,n.generators(),t).fold(function(){return Ei(e,m.some(n.element()))},function(e){var t=Ri(e,n.row(),n.column());return Ei(e,t)})},ko,Ni,t,br),pasteRowsBefore:wo(function(e,n,t,l){var r=e[n.cells[0].row()],o=n.cells[0].row(),i=Ti(n.clipboard(),n.generators(),r),u=jo(o,e,i,n.generators(),t),a=Ri(u,n.cells[0].row(),n.cells[0].column());return Ei(u,a)},Oo,t,t,br),pasteRowsAfter:wo(function(e,n,t,l){var r=e[n.cells[0].row()],o=n.cells[n.cells.length-1].row()+n.cells[n.cells.length-1].rowspan(),i=Ti(n.clipboard(),n.generators(),r),u=jo(o,e,i,n.generators(),t),a=Ri(u,n.cells[0].row(),n.cells[0].column());return Ei(u,a)},Oo,t,t,br)},Fi=function(e){return oe.fromDom(e.getBody())},Li=function(e){return e.getBoundingClientRect().width},Hi=function(e){return e.getBoundingClientRect().height},zi=function(e){return function(n){return Ve(n,Fi(e))}},Vi=function(e){return/^[0-9]+$/.test(e)&&(e+="px"),e},qi=function(e){var n=Cn(e,"td[data-mce-style],th[data-mce-style]");fn(e,"data-mce-style"),S(n,function(e){fn(e,"data-mce-style")})},ji={isRtl:r(!1)},Wi={isRtl:r(!0)},Ui={directionAt:function(e){return"rtl"===function(e){return"rtl"===zn(e,"direction")?"rtl":"ltr"}(e)?Wi:ji}},Qi=["tableprops","tabledelete","|","tableinsertrowbefore","tableinsertrowafter","tabledeleterow","|","tableinsertcolbefore","tableinsertcolafter","tabledeletecol"],Gi={"border-collapse":"collapse",width:"100%"},Ki={border:"1"},Yi=function(e){return e.getParam("table_default_styles",Gi,"object")},Zi=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},Ji=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},Xi=function(e){return e.getParam("table_row_advtab",!0,"boolean")},$i=function(e){return e.getParam("table_advtab",!0,"boolean")},eu=function(e){return e.getParam("table_style_by_css",!1,"boolean")},nu=function(e){return e.getParam("table_cell_class_list",[],"array")},tu=function(e){return e.getParam("table_row_class_list",[],"array")},lu=function(e){return e.getParam("table_class_list",[],"array")},ru=function(e){return!1===e.getParam("table_responsive_width")},ou=function(e,n){return e.fire("newrow",{node:n})},iu=function(e,n){return e.fire("newcell",{node:n})},uu=function(e,n,t,l){e.fire("ObjectResizeStart",{target:n,width:t,height:l})},au=function(e,n,t,l){e.fire("ObjectResized",{target:n,width:t,height:l})},su=function(e,n){var l=function(e){return"table"===$e(Fi(e))},r=function(e){var n=e.getParam("table_clone_elements");return b(n)?m.some(n.split(/[ ,]/)):Array.isArray(n)?m.some(n):m.none()}(e),o=function(n,t,l,o){return function(i,u){qi(i);var a=o(),s=oe.fromDom(e.getDoc()),c=sr(Ui.directionAt),d=xt(l,s,r);return t(i)?n(a,i,u,d,c).bind(function(n){return S(n.newRows(),function(n){ou(e,n.dom())}),S(n.newCells(),function(n){iu(e,n.dom())}),n.cursor().map(function(n){var t=e.dom.createRng();return t.setStart(n.dom(),0),t.setEnd(n.dom(),0),t})}):m.none()}};return{deleteRow:o(Bi.eraseRows,function(n){var t=dr(n);return!1===l(e)||t.rows()>1},t,n),deleteColumn:o(Bi.eraseColumns,function(n){var t=dr(n);return!1===l(e)||t.columns()>1},t,n),insertRowsBefore:o(Bi.insertRowsBefore,c,t,n),insertRowsAfter:o(Bi.insertRowsAfter,c,t,n),insertColumnsBefore:o(Bi.insertColumnsBefore,c,Ul,n),insertColumnsAfter:o(Bi.insertColumnsAfter,c,Ul,n),mergeCells:o(Bi.mergeCells,c,t,n),unmergeCells:o(Bi.unmergeCells,c,t,n),pasteRowsBefore:o(Bi.pasteRowsBefore,c,t,n),pasteRowsAfter:o(Bi.pasteRowsAfter,c,t,n),pasteCells:o(Bi.pasteCells,c,t,n)}},cu=function(e,n,t){var l=Mn(e),r=Nn.generate(l);return Ao(r,n).map(function(e){var n=qr(r,t,!1).slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan()),l=xo(n,t);return Ur(l)})},du=tinymce.util.Tools.resolve("tinymce.util.Tools"),fu={applyAlign:function(e,n,t){t&&e.formatter.apply("align"+t,{},n)},applyVAlign:function(e,n,t){t&&e.formatter.apply("valign"+t,{},n)},unApplyAlign:function(e,n){du.each("left center right".split(" "),function(t){e.formatter.remove("align"+t,{},n)})},unApplyVAlign:function(e,n){du.each("top middle bottom".split(" "),function(t){e.formatter.remove("valign"+t,{},n)})},getTDTHOverallStyle:function(e,n,t){var l;return l=function(n,l){for(var r=0;r<l.length;r++){var o=e.getStyle(l[r],t);if("undefined"===typeof n&&(n=o),n!==o)return""}return n}(l,e.select("td,th",n))}},pu=function(e,n){var t=e.dom,l=n.control.rootControl,r=l.toJSON(),o=t.parseStyle(r.style);o["border-style"]=r.borderStyle,o["border-color"]=r.borderColor,o["background-color"]=r.backgroundColor,o.width=r.width?Vi(r.width):"",o.height=r.height?Vi(r.height):"",l.find("#style").value(t.serializeStyle(t.parseStyle(t.serializeStyle(o))))},hu=function(e,n){var t=e.dom,l=n.control.rootControl,r=l.toJSON(),o=t.parseStyle(r.style);l.find("#borderStyle").value(o["border-style"]||""),l.find("#borderColor").value(o["border-color"]||""),l.find("#backgroundColor").value(o["background-color"]||""),l.find("#width").value(o.width||""),l.find("#height").value(o.height||"")},gu={createStyleForm:function(e){var n=function(){var n=function(e){return e.getParam("color_picker_callback")}(e);if(n)return function(t){return n.call(e,function(e){t.control.value(e).fire("change")},t.control.value())}};return{title:"Advanced",type:"form",defaults:{onchange:i(pu,e)},items:[{label:"Style",name:"style",type:"textbox",onchange:i(hu,e)},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border style",type:"listbox",name:"borderStyle",width:90,onselect:i(pu,e),values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{label:"Border color",type:"colorbox",name:"borderColor",onaction:n()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:n()}]}]}},buildListItems:function(e,n,t){var l=function(e,t){return t=t||[],du.each(e,function(e){var r={text:e.text||e.title};e.menu?r.menu=l(e.menu):(r.value=e.value,n&&n(r)),t.push(r)}),t};return l(e,t||[])},updateStyleField:pu,extractAdvancedStyles:function(e,n){var t=e.parseStyle(e.getAttrib(n,"style")),l={};return t["border-style"]&&(l.borderStyle=t["border-style"]),t["border-color"]&&(l.borderColor=t["border-color"]),t["background-color"]&&(l.backgroundColor=t["background-color"]),l.style=e.serializeStyle(t),l},updateAdvancedFields:hu,syncAdvancedStyleFields:function(e,n){n.control.rootControl.find("#style")[0].getEl().isEqualNode(document.activeElement)?hu(e,n):pu(e,n)}},mu=function(e,n,t){var l,r=e.dom;function o(e,t,l){(1===n.length||l)&&r.setAttrib(e,t,l)}function i(e,t,l){(1===n.length||l)&&r.setStyle(e,t,l)}Ji(e)&&gu.syncAdvancedStyleFields(e,t),l=t.control.rootControl.toJSON(),e.undoManager.transact(function(){du.each(n,function(t){var u,a;o(t,"scope",l.scope),1===n.length?o(t,"style",l.style):(u=t,a=l.style,delete u.dataset.mceStyle,u.style.cssText+=";"+a),o(t,"class",l.class),i(t,"width",Vi(l.width)),i(t,"height",Vi(l.height)),l.type&&t.nodeName.toLowerCase()!==l.type&&(t=r.rename(t,l.type)),1===n.length&&(fu.unApplyAlign(e,t),fu.unApplyVAlign(e,t)),l.align&&fu.applyAlign(e,t,l.align),l.valign&&fu.applyVAlign(e,t,l.valign)}),e.focus()})},vu=function(e){var n,t,l,r=[];if(r=e.dom.select("td[data-mce-selected],th[data-mce-selected]"),n=e.dom.getParent(e.selection.getStart(),"td,th"),!r.length&&n&&r.push(n),n=n||r[0]){t=r.length>1?{width:"",height:"",scope:"",class:"",align:"",valign:"",style:"",type:n.nodeName.toLowerCase()}:function(e,n){var t=e.dom,l={width:t.getStyle(n,"width")||t.getAttrib(n,"width"),height:t.getStyle(n,"height")||t.getAttrib(n,"height"),scope:t.getAttrib(n,"scope"),class:t.getAttrib(n,"class"),type:n.nodeName.toLowerCase(),style:"",align:"",valign:""};return du.each("left center right".split(" "),function(t){e.formatter.matchNode(n,"align"+t)&&(l.align=t)}),du.each("top middle bottom".split(" "),function(t){e.formatter.matchNode(n,"valign"+t)&&(l.valign=t)}),Ji(e)&&du.extend(l,gu.extractAdvancedStyles(t,n)),l}(e,n),nu(e).length>0&&(l={name:"class",type:"listbox",label:"Class",values:gu.buildListItems(nu(e),function(n){n.value&&(n.textStyle=function(){return e.formatter.getCssText({block:"td",classes:[n.value]})})})});var o={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width",onchange:i(gu.updateStyleField,e)},{label:"Height",name:"height",onchange:i(gu.updateStyleField,e)},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},l]};Ji(e)?e.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:t,body:[{title:"General",type:"form",items:o},gu.createStyleForm(e)],onsubmit:i(mu,e,r)}):e.windowManager.open({title:"Cell properties",data:t,body:o,onsubmit:i(mu,e,r)})}},bu=function(e,n,t){var l=e.getParent(n,"table"),r=n.parentNode,o=e.select(t,l)[0];o||(o=e.create(t),l.firstChild?"CAPTION"===l.firstChild.nodeName?e.insertAfter(o,l.firstChild):l.insertBefore(o,l.firstChild):l.appendChild(o)),o.appendChild(n),r.hasChildNodes()||e.remove(r)};function yu(e,n,t,l){var r=e.dom;function o(e,t,l){(1===n.length||l)&&r.setAttrib(e,t,l)}Xi(e)&&gu.syncAdvancedStyleFields(e,l);var i=l.control.rootControl.toJSON();e.undoManager.transact(function(){du.each(n,function(l){var u,a,s;o(l,"scope",i.scope),o(l,"style",i.style),o(l,"class",i.class),u=l,a="height",s=Vi(i.height),(1===n.length||s)&&r.setStyle(u,a,s),i.type!==l.parentNode.nodeName.toLowerCase()&&bu(e.dom,l,i.type),i.align!==t.align&&(fu.unApplyAlign(e,l),fu.applyAlign(e,l,i.align))}),e.focus()})}var Cu=function(e){var n,t,l,r,o,u,a=e.dom,s=[];n=a.getParent(e.selection.getStart(),"table"),t=a.getParent(e.selection.getStart(),"td,th"),du.each(n.rows,function(e){du.each(e.cells,function(n){if(a.getAttrib(n,"data-mce-selected")||n===t)return s.push(e),!1})}),(l=s[0])&&(o=s.length>1?{height:"",scope:"",style:"",class:"",align:"",type:l.parentNode.nodeName.toLowerCase()}:function(e,n){var t=e.dom,l={height:t.getStyle(n,"height")||t.getAttrib(n,"height"),scope:t.getAttrib(n,"scope"),class:t.getAttrib(n,"class"),align:"",style:"",type:n.parentNode.nodeName.toLowerCase()};return du.each("left center right".split(" "),function(t){e.formatter.matchNode(n,"align"+t)&&(l.align=t)}),Xi(e)&&du.extend(l,gu.extractAdvancedStyles(t,n)),l}(e,l),tu(e).length>0&&(r={name:"class",type:"listbox",label:"Class",values:gu.buildListItems(tu(e),function(n){n.value&&(n.textStyle=function(){return e.formatter.getCssText({block:"tr",classes:[n.value]})})})}),u={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},r]},Xi(e)?e.windowManager.open({title:"Row properties",data:o,bodyType:"tabpanel",body:[{title:"General",type:"form",items:u},gu.createStyleForm(e)],onsubmit:i(yu,e,s,o)}):e.windowManager.open({title:"Row properties",data:o,body:u,onsubmit:i(yu,e,s,o)}))},wu=tinymce.util.Tools.resolve("tinymce.Env"),xu={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},_u=function(e,n,t,l,r){void 0===r&&(r=xu);var o=oe.fromTag("table");Hn(o,r.styles),sn(o,r.attributes);var i=oe.fromTag("tbody");Gn(o,i);for(var u=[],a=0;a<e;a++){for(var s=oe.fromTag("tr"),c=0;c<n;c++){var d=a<t||c<l?oe.fromTag("th"):oe.fromTag("td");c<l&&an(d,"scope","row"),a<t&&an(d,"scope","col"),Gn(d,oe.fromTag("br")),r.percentages&&Ln(d,"width",100/n+"%"),Gn(s,d)}u.push(s)}return Zn(i,u),o},Au=function(e,n){e.selection.select(n.dom(),!0),e.selection.collapse(!0)},ku=function(e,n,t){var l,r=Yi(e),o={styles:r,attributes:function(e){return e.getParam("table_default_attributes",Ki,"object")}(e),percentages:(l=r.width,b(l)&&-1!==l.indexOf("%")&&!ru(e))},u=_u(t,n,0,0,o);an(u,"data-mce-id","__mce");var a,s,c,d=(a=u,s=oe.fromTag("div"),c=oe.fromDom(a.dom().cloneNode(!0)),Gn(s,c),function(e){return e.dom().innerHTML}(s));return e.insertContent(d),kn(Fi(e),'table[data-mce-id="__mce"]').map(function(n){return ru(e)&&Ln(n,"width",zn(n,"width")),fn(n,"data-mce-id"),function(e,n){S(Cn(n,"tr"),function(n){ou(e,n.dom()),S(Cn(n,"th,td"),function(n){iu(e,n.dom())})})}(e,n),function(e,n){kn(n,"td,th").each(i(Au,e))}(e,n),n.dom()}).getOr(null)};function Ou(e,n,t,l){if("TD"===n.tagName||"TH"===n.tagName)e.setStyle(n,t,l);else if(n.children)for(var r=0;r<n.children.length;r++)Ou(e,n.children[r],t,l)}var Su=function(e,n,t){var l,r,o=e.dom;$i(e)&&gu.syncAdvancedStyleFields(e,t),!1===(r=t.control.rootControl.toJSON()).class&&delete r.class,e.undoManager.transact(function(){n||(n=ku(e,r.cols||1,r.rows||1)),function(e,n,t){var l,r=e.dom,o={},i={};if(o.class=t.class,i.height=Vi(t.height),r.getAttrib(n,"width")&&!eu(e)?o.width=(l=t.width)?l.replace(/px$/,""):"":i.width=Vi(t.width),eu(e)?(i["border-width"]=Vi(t.border),i["border-spacing"]=Vi(t.cellspacing),du.extend(o,{"data-mce-border-color":t.borderColor,"data-mce-cell-padding":t.cellpadding,"data-mce-border":t.border})):du.extend(o,{border:t.border,cellpadding:t.cellpadding,cellspacing:t.cellspacing}),eu(e)&&n.children)for(var u=0;u<n.children.length;u++)Ou(r,n.children[u],{"border-width":Vi(t.border),"border-color":t.borderColor,padding:Vi(t.cellpadding)});t.style?du.extend(i,r.parseStyle(t.style)):i=du.extend({},r.parseStyle(r.getAttrib(n,"style")),i),o.style=r.serializeStyle(i),r.setAttribs(n,o)}(e,n,r),(l=o.select("caption",n)[0])&&!r.caption&&o.remove(l),!l&&r.caption&&((l=o.create("caption")).innerHTML=wu.ie?"\xa0":'<br data-mce-bogus="1"/>',n.insertBefore(l,n.firstChild)),fu.unApplyAlign(e,n),r.align&&fu.applyAlign(e,n,r.align),e.focus(),e.addVisual()})},Eu=function(e,n){var t,l,r,o,u,a=e.dom,s={};!0===n?(t=a.getParent(e.selection.getStart(),"table"))&&(s=function(e,n){var t=e.dom,l={width:t.getStyle(n,"width")||t.getAttrib(n,"width"),height:t.getStyle(n,"height")||t.getAttrib(n,"height"),cellspacing:t.getStyle(n,"border-spacing")||t.getAttrib(n,"cellspacing"),cellpadding:t.getAttrib(n,"data-mce-cell-padding")||t.getAttrib(n,"cellpadding")||fu.getTDTHOverallStyle(e.dom,n,"padding"),border:t.getAttrib(n,"data-mce-border")||t.getAttrib(n,"border")||fu.getTDTHOverallStyle(e.dom,n,"border"),borderColor:t.getAttrib(n,"data-mce-border-color"),caption:!!t.select("caption",n)[0],class:t.getAttrib(n,"class")};return du.each("left center right".split(" "),function(t){e.formatter.matchNode(n,"align"+t)&&(l.align=t)}),$i(e)&&du.extend(l,gu.extractAdvancedStyles(t,n)),l}(e,t)):(l={label:"Cols",name:"cols"},r={label:"Rows",name:"rows"}),lu(e).length>0&&(s.class&&(s.class=s.class.replace(/\s*mce\-item\-table\s*/g,"")),o={name:"class",type:"listbox",label:"Class",values:gu.buildListItems(lu(e),function(n){n.value&&(n.textStyle=function(){return e.formatter.getCssText({block:"table",classes:[n.value]})})})}),u={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:function(e){return e.getParam("table_appearance_options",!0,"boolean")}(e)?[l,r,{label:"Width",name:"width",onchange:i(gu.updateStyleField,e)},{label:"Height",name:"height",onchange:i(gu.updateStyleField,e)},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[l,r,{label:"Width",name:"width",onchange:i(gu.updateStyleField,e)},{label:"Height",name:"height",onchange:i(gu.updateStyleField,e)}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},o]},$i(e)?e.windowManager.open({title:"Table properties",data:s,bodyType:"tabpanel",body:[{title:"General",type:"form",items:u},gu.createStyleForm(e)],onsubmit:i(Su,e,t)}):e.windowManager.open({title:"Table properties",data:s,body:u,onsubmit:i(Su,e,t)})},Ru=du.each,Pu={registerCommands:function(e,n,l,r,o){var a=zi(e),s=function(){return oe.fromDom(e.dom.getParent(e.selection.getStart(),"th,td"))},c=function(e){return Pn.table(e,a)},d=function(e){return{width:Li(e.dom()),height:Li(e.dom())}},f=function(n){var t=s();c(t).each(function(o){var i=_l.forMenu(r,o,t),u=d(o);n(o,i).each(function(n){!function(e,n,t){var l=d(t);n.width===l.width&&n.height===l.height||(uu(e,t.dom(),n.width,n.height),au(e,t.dom(),l.width,l.height))}(e,u,o),e.selection.setRng(n),e.focus(),l.clear(o),qi(o)})})},p=function(n){var l=s();return c(l).bind(function(n){var o=oe.fromDom(e.getDoc()),i=_l.forMenu(r,n,l),u=xt(t,o,m.none());return cu(n,i,u)})},h=function(n){o.get().each(function(t){var o=O(t,function(e){return it(e)}),i=s();c(i).bind(function(t){var u=oe.fromDom(e.getDoc()),a=_t(u),s=_l.pasteRows(r,t,i,o,a);n(t,s).each(function(n){e.selection.setRng(n),e.focus(),l.clear(t)})})})};Ru({mceTableSplitCells:function(){f(n.unmergeCells)},mceTableMergeCells:function(){f(n.mergeCells)},mceTableInsertRowBefore:function(){f(n.insertRowsBefore)},mceTableInsertRowAfter:function(){f(n.insertRowsAfter)},mceTableInsertColBefore:function(){f(n.insertColumnsBefore)},mceTableInsertColAfter:function(){f(n.insertColumnsAfter)},mceTableDeleteCol:function(){f(n.deleteColumn)},mceTableDeleteRow:function(){f(n.deleteRow)},mceTableCutRow:function(e){o.set(p()),f(n.deleteRow)},mceTableCopyRow:function(e){o.set(p())},mceTablePasteRowBefore:function(e){h(n.pasteRowsBefore)},mceTablePasteRowAfter:function(e){h(n.pasteRowsAfter)},mceTableDelete:function(){var n=oe.fromDom(e.dom.getParent(e.selection.getStart(),"th,td"));Pn.table(n,a).filter(u(a)).each(function(n){var t=oe.fromText("");Un(n,t),Xn(n);var l=e.dom.createRng();l.setStart(t.dom(),0),l.setEnd(t.dom(),0),e.selection.setRng(l)})}},function(n,t){e.addCommand(t,n)}),Ru({mceInsertTable:i(Eu,e),mceTableProps:i(Eu,e,!0),mceTableRowProps:i(Cu,e),mceTableCellProps:i(vu,e)},function(n,t){e.addCommand(t,function(e,t){n(t)})})}},Mu=function(e){var n=m.from(e.dom().documentElement).map(oe.fromDom).getOr(e);return{parent:r(n),view:r(e),origin:r(Gl(0,0))}},Iu=function(e,n){return{parent:r(n),view:r(e),origin:r(Gl(0,0))}};function Du(e){var n=W.apply(null,e),t=[];return{bind:function(e){if(void 0===e)throw"Event bind error: undefined handler";t.push(e)},unbind:function(e){t=E(t,function(n){return n!==e})},trigger:function(){var e=n.apply(null,arguments);S(t,function(n){n(e)})}}}var Tu={create:function(e){return{registry:q(e,function(e){return{bind:e.bind,unbind:e.unbind}}),trigger:q(e,function(e){return e.trigger})}}},Nu={mode:gr(["compare","extract","mutate","sink"]),sink:gr(["element","start","stop","destroy"]),api:gr(["forceDrop","drop","move","delayDrop"])},Bu={resolve:eo("ephox-dragster").resolve},Fu=function(e,n){return function(t){if(e(t)){var o=oe.fromDom(t.target),i=function(){t.stopPropagation()},u=function(){t.preventDefault()},a=l(u,i),s=function(e,n,t,l,o,i,u){return{target:r(e),x:r(n),y:r(t),stop:l,prevent:o,kill:i,raw:r(u)}}(o,t.clientX,t.clientY,i,u,a,t);n(s)}}},Lu=function(e,n,t,l){return function(e,n,t,l,r){var o=Fu(t,l);return e.dom().addEventListener(n,o,r),{unbind:i(Hu,e,n,o,r)}}(e,n,t,l,!1)},Hu=function(e,n,t,l){e.dom().removeEventListener(n,t,l)},zu=r(!0),Vu=function(e,n,t){return Lu(e,n,zu,t)},qu=Nu.mode({compare:function(e,n){return Gl(n.left()-e.left(),n.top()-e.top())},extract:function(e){return m.some(Gl(e.x(),e.y()))},sink:function(e,n){var t=function(e){var n=Dr({layerClass:Bu.resolve("blocker")},e),t=oe.fromTag("div");return an(t,"role","presentation"),Hn(t,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),io(t,Bu.resolve("blocker")),io(t,n.layerClass),{element:function(){return t},destroy:function(){Xn(t)}}}(n),l=Vu(t.element(),"mousedown",e.forceDrop),r=Vu(t.element(),"mouseup",e.drop),o=Vu(t.element(),"mousemove",e.move),i=Vu(t.element(),"mouseout",e.delayDrop);return Nu.sink({element:t.element,start:function(e){Gn(e,t.element())},stop:function(){Xn(t.element())},destroy:function(){t.destroy(),r.unbind(),o.unbind(),i.unbind(),l.unbind()}})},mutate:function(e,n){e.mutate(n.left(),n.top())}});function ju(){var e=m.none(),n=Tu.create({move:Du(["info"])});return{onEvent:function(t,l){l.extract(t).each(function(t){(function(n,t){var l=e.map(function(e){return n.compare(e,t)});return e=m.some(t),l})(l,t).each(function(e){n.trigger.move(e)})})},reset:function(){e=m.none()},events:n.registry}}function Wu(){var e={onEvent:function(e,n){},reset:t},n=ju(),l=e;return{on:function(){l.reset(),l=n},off:function(){l.reset(),l=e},isOn:function(){return l===n},onEvent:function(e,n){l.onEvent(e,n)},events:n.events}}var Uu=function(e,n,t){var l,r,o,i=!1,u=Tu.create({start:Du([]),stop:Du([])}),a=Wu(),s=function(){f.stop(),a.isOn()&&(a.off(),u.trigger.stop())},c=(l=s,r=200,o=null,{cancel:function(){null!==o&&(clearTimeout(o),o=null)},throttle:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null!==o&&clearTimeout(o),o=setTimeout(function(){l.apply(null,e),o=null},r)}});a.events.move.bind(function(t){n.mutate(e,t.info())});var d=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);if(i)return e.apply(null,n)}},f=n.sink(Nu.api({forceDrop:s,drop:d(s),move:d(function(e,t){c.cancel(),a.onEvent(e,n)}),delayDrop:d(c.throttle)}),t);return{element:f.element,go:function(e){f.start(e),a.on(),u.trigger.start()},on:function(){i=!0},off:function(){i=!1},destroy:function(){f.destroy()},events:u.registry}},Qu={transform:function(e,n){var t=void 0!==n?n:{},l=void 0!==t.mode?t.mode:qu;return Uu(e,l,n)}};function Gu(){var e=Tu.create({drag:Du(["xDelta","yDelta","target"])}),n=m.none(),t=function(){var e=Tu.create({drag:Du(["xDelta","yDelta"])});return{mutate:function(n,t){e.trigger.drag(n,t)},events:e.registry}}();return t.events.drag.bind(function(t){n.each(function(n){e.trigger.drag(t.xDelta(),t.yDelta(),n)})}),{assign:function(e){n=m.some(e)},get:function(){return n},mutate:t.mutate,events:e.registry}}var Ku=function(e,n,t){return On(e,n,t).isSome()},Yu=no.resolve("resizer-bar-dragging");function Zu(e,n){var t=ur.height,l=function(e,n,t){var l=Gu(),r=Qu.transform(l,{}),o=m.none(),u=function(e,n){return m.from(cn(e,n))};l.events.drag.bind(function(e){u(e.target(),"data-row").each(function(n){var t=si.getInt(e.target(),"top");Ln(e.target(),"top",t+e.yDelta()+"px")}),u(e.target(),"data-column").each(function(n){var t=si.getInt(e.target(),"left");Ln(e.target(),"left",t+e.xDelta()+"px")})});var a=function(e,n){return si.getInt(e,n)-parseInt(cn(e,"data-initial-"+n),10)};r.events.stop.bind(function(){l.get().each(function(l){o.each(function(r){u(l,"data-row").each(function(e){var n=a(l,"top");fn(l,"data-initial-top"),p.trigger.adjustHeight(r,n,parseInt(e,10))}),u(l,"data-column").each(function(e){var n=a(l,"left");fn(l,"data-initial-left"),p.trigger.adjustWidth(r,n,parseInt(e,10))}),vo.refresh(e,r,t,n)})})});var s=function(n,t){p.trigger.startAdjust(),l.assign(n),an(n,"data-initial-"+t,parseInt(zn(n,t),10)),io(n,Yu),Ln(n,"opacity","0.2"),r.go(e.parent())},c=Vu(e.parent(),"mousedown",function(e){vo.isRowBar(e.target())&&s(e.target(),"top"),vo.isColBar(e.target())&&s(e.target(),"left")}),d=function(n){return Ve(n,e.view())},f=Vu(e.view(),"mouseover",function(l){"table"===$e(l.target())||Ku(l.target(),"table",d)?(o="table"===$e(l.target())?m.some(l.target()):_n(l.target(),"table",d)).each(function(l){vo.refresh(e,l,t,n)}):hn(l.target())&&vo.destroy(e)}),p=Tu.create({adjustHeight:Du(["table","delta","row"]),adjustWidth:Du(["table","delta","column"]),startAdjust:Du([])});return{destroy:function(){c.unbind(),f.unbind(),r.destroy(),vo.destroy(e)},refresh:function(l){vo.refresh(e,l,t,n)},on:r.on,off:r.off,hideBars:i(vo.hide,e),showBars:i(vo.show,e),events:p.registry}}(e,n,t),r=Tu.create({beforeResize:Du(["table"]),afterResize:Du(["table"]),startDrag:Du([])});return l.events.adjustHeight.bind(function(e){r.trigger.beforeResize(e.table());var n=t.delta(e.delta(),e.table());Oi.adjustHeight(e.table(),n,e.row(),t),r.trigger.afterResize(e.table())}),l.events.startAdjust.bind(function(e){r.trigger.startDrag()}),l.events.adjustWidth.bind(function(e){r.trigger.beforeResize(e.table());var t=n.delta(e.delta(),e.table());Oi.adjustWidth(e.table(),t,e.column(),n),r.trigger.afterResize(e.table())}),{on:l.on,off:l.off,hideBars:l.hideBars,showBars:l.showBars,destroy:l.destroy,events:r.registry}}var Ju=function(e,n){return e.inline?Iu(Fi(e),function(){var e=oe.fromTag("div");return Hn(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Gn(gn(),e),e}()):Mu(oe.fromDom(e.getDoc()))},Xu=function(e,n){e.inline&&Xn(n.parent())},$u=function(e){var n,t,l=m.none(),r=m.none(),o=m.none(),i=/(\d+(\.\d+)?)%/,u=function(e){return"TABLE"===e.nodeName};return e.on("init",function(){var n=sr(Ui.directionAt),t=Ju(e);if(o=m.some(t),function(e){var n=e.getParam("object_resizing",!0);return"table"===n||n}(e)&&function(e){return e.getParam("table_resize_bars",!0,"boolean")}(e)){var i=Zu(t,n);i.on(),i.events.startDrag.bind(function(n){l=m.some(e.selection.getRng())}),i.events.beforeResize.bind(function(n){var t=n.table().dom();uu(e,t,Li(t),Hi(t))}),i.events.afterResize.bind(function(n){var t=n.table(),r=t.dom();qi(t),l.each(function(n){e.selection.setRng(n),e.focus()}),au(e,r,Li(r),Hi(r)),e.undoManager.add()}),r=m.some(i)}}),e.on("ObjectResizeStart",function(l){var r,o=l.target;u(o)&&(n=l.width,r=o,t=e.dom.getStyle(r,"width")||e.dom.getAttrib(r,"width"))}),e.on("ObjectResized",function(l){var r=l.target;if(u(r)){var o=r;if(i.test(t)){var a=parseFloat(i.exec(t)[1]),s=l.width*a/n;e.dom.setStyle(o,"width",s+"%")}else{var c=[];du.each(o.rows,function(n){du.each(n.cells,function(n){var t=e.dom.getStyle(n,"width",!0);c.push({cell:n,width:t})})}),du.each(c,function(n){e.dom.setStyle(n.cell,"width",n.width),e.dom.setAttrib(n.cell,"width",null)})}}}),{lazyResize:function(){return r},lazyWire:function(){return o.getOr(Mu(oe.fromDom(e.getBody())))},destroy:function(){r.each(function(e){e.destroy()}),o.each(function(n){Xu(e,n)})}}},ea=function(e){return{fold:e}},na=function(e){return ea(function(n,t,l,r){return n(e)})},ta=function(e){return ea(function(n,t,l,r){return t(e)})},la=function(e,n){return ea(function(t,l,r,o){return r(e,n)})},ra=function(e){return ea(function(n,t,l,r){return r(e)})},oa=function(e,n){return Pn.table(e,n).bind(function(n){var t=Pn.cells(n);return I(t,function(n){return Ve(e,n)}).map(function(e){return{index:r(e),all:r(t)}})})},ia=function(e,n){return oa(e,n).fold(function(){return na(e)},function(n){return n.index()+1<n.all().length?la(e,n.all()[n.index()+1]):ra(e)})},ua=function(e,n){return oa(e,n).fold(function(){return na()},function(n){return n.index()-1>=0?la(e,n.all()[n.index()-1]):ta(e)})},aa=hl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),sa={before:aa.before,on:aa.on,after:aa.after,cata:function(e,n,t,l){return e.fold(n,t,l)},getStart:function(e){return e.fold(o,o,o)}},ca=hl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),da=W("start","soffset","finish","foffset"),fa=function(e){return function(e){var n=e.dom().ownerDocument.defaultView;return oe.fromDom(n)}(function(e){return e.match({domRange:function(e){return oe.fromDom(e.startContainer)},relative:function(e,n){return sa.getStart(e)},exact:function(e,n,t,l){return e}})}(e))},pa=ca.relative,ha=ca.exact,ga=function(e,n,t,l){var r=function(e,n,t,l){var r=We(e).dom().createRange();return r.setStart(e.dom(),n),r.setEnd(t.dom(),l),r}(e,n,t,l),o=Ve(e,t)&&n===l;return r.collapsed&&!o},ma=function(e,n){e.selectNodeContents(n.dom())},va=function(e,n,t){var l,r=e.document.createRange();return l=r,n.fold(function(e){l.setStartBefore(e.dom())},function(e,n){l.setStart(e.dom(),n)},function(e){l.setStartAfter(e.dom())}),function(e,n){n.fold(function(n){e.setEndBefore(n.dom())},function(n,t){e.setEnd(n.dom(),t)},function(n){e.setEndAfter(n.dom())})}(r,t),r},ba=function(e,n,t,l,r){var o=e.document.createRange();return o.setStart(n.dom(),t),o.setEnd(l.dom(),r),o},ya=function(e){return{left:r(e.left),top:r(e.top),right:r(e.right),bottom:r(e.bottom),width:r(e.width),height:r(e.height)}},Ca=hl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),wa=function(e,n,t){return n(oe.fromDom(t.startContainer),t.startOffset,oe.fromDom(t.endContainer),t.endOffset)},xa=function(e,n){return function(e,n){var t=n.ltr();return t.collapsed?n.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return Ca.rtl(oe.fromDom(e.endContainer),e.endOffset,oe.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return wa(0,Ca.ltr,t)}):wa(0,Ca.ltr,t)}(0,function(e,n){return n.match({domRange:function(e){return{ltr:r(e),rtl:m.none}},relative:function(n,t){return{ltr:Ce(function(){return va(e,n,t)}),rtl:Ce(function(){return m.some(va(e,t,n))})}},exact:function(n,t,l,r){return{ltr:Ce(function(){return ba(e,n,t,l,r)}),rtl:Ce(function(){return m.some(ba(e,l,r,n,t))})}}})}(e,n))},_a=function(e,n){return xa(e,n).match({ltr:function(n,t,l,r){var o=e.document.createRange();return o.setStart(n.dom(),t),o.setEnd(l.dom(),r),o},rtl:function(n,t,l,r){var o=e.document.createRange();return o.setStart(l.dom(),r),o.setEnd(n.dom(),t),o}})},Aa=function(e,n,t){return n>=e.left&&n<=e.right&&t>=e.top&&t<=e.bottom},ka=function(e,n,t,l,r){var o=function(t){var l=e.dom().createRange();return l.setStart(n.dom(),t),l.collapse(!0),l},i=st(n).length,u=function(e,n,t,l,r){if(0===r)return 0;if(n===l)return r-1;for(var o=l,i=1;i<r;i++){var u=e(i),a=Math.abs(n-u.left);if(t<=u.bottom){if(t<u.top||a>o)return i-1;o=a}}return 0}(function(e){return o(e).getBoundingClientRect()},t,l,r.right,i);return o(u)},Oa=function(e,n,t,l){var r=e.dom().createRange();r.selectNode(n.dom());var o=r.getClientRects();return Nr(o,function(e){return Aa(e,t,l)?m.some(e):m.none()}).map(function(r){return ka(e,n,t,l,r)})},Sa=function(e,n,t,l){var r=e.dom().createRange(),o=Ye(n);return Nr(o,function(n){return r.selectNode(n.dom()),Aa(r.getBoundingClientRect(),t,l)?Ea(e,n,t,l):m.none()})},Ea=function(e,n,t,l){return(rn(n)?Oa:Sa)(e,n,t,l)},Ra=function(e,n){return n-e.left<e.right-n},Pa=function(e,n,t){var l=e.dom().createRange();return l.selectNode(n.dom()),l.collapse(t),l},Ma=function(e,n,t){var l=e.dom().createRange();l.selectNode(n.dom());var r=l.getBoundingClientRect(),o=Ra(r,t);return(!0===o?gt:mt)(n).map(function(n){return Pa(e,n,o)})},Ia=function(e,n,t){var l=n.dom().getBoundingClientRect(),r=Ra(l,t);return m.some(Pa(e,n,r))},Da=function(e,n,t,l){var r=e.dom().createRange();r.selectNode(n.dom());var o=r.getBoundingClientRect();return function(e,n,t,l){var r=e.dom().createRange();r.selectNode(n.dom());var o=r.getBoundingClientRect(),i=Math.max(o.left,Math.min(o.right,t)),u=Math.max(o.top,Math.min(o.bottom,l));return Ea(e,n,i,u)}(e,n,Math.max(o.left,Math.min(o.right,t)),Math.max(o.top,Math.min(o.bottom,l)))},Ta=document.caretPositionFromPoint?function(e,n,t){return m.from(e.dom().caretPositionFromPoint(n,t)).bind(function(n){if(null===n.offsetNode)return m.none();var t=e.dom().createRange();return t.setStart(n.offsetNode,n.offset),t.collapse(),m.some(t)})}:document.caretRangeFromPoint?function(e,n,t){return m.from(e.dom().caretRangeFromPoint(n,t))}:function(e,n,t){return oe.fromPoint(e,n,t).bind(function(l){var r=function(){return function(e,n,t){return(0===Ye(n).length?Ia:Ma)(e,n,t)}(e,l,n)};return 0===Ye(l).length?r():Da(e,l,n,t).orThunk(r)})},Na=function(e,n){var t=$e(e);return"input"===t?sa.after(e):A(["br","img"],t)?0===n?sa.before(e):sa.after(e):sa.on(e,n)},Ba=function(e,n){var t=e.fold(sa.before,Na,sa.after),l=n.fold(sa.before,Na,sa.after);return pa(t,l)},Fa=function(e,n,t,l){var r=Na(e,n),o=Na(t,l);return pa(r,o)},La=function(e,n){m.from(e.getSelection()).each(function(e){e.removeAllRanges(),e.addRange(n)})},Ha=function(e,n,t,l,r){var o=ba(e,n,t,l,r);La(e,o)},za=function(e,n){return xa(e,n).match({ltr:function(n,t,l,r){Ha(e,n,t,l,r)},rtl:function(n,t,l,r){var o=e.getSelection();if(o.setBaseAndExtent)o.setBaseAndExtent(n.dom(),t,l.dom(),r);else if(o.extend)try{!function(e,n,t,l,r,o){n.collapse(t.dom(),l),n.extend(r.dom(),o)}(0,o,n,t,l,r)}catch(o){Ha(e,l,r,n,t)}else Ha(e,l,r,n,t)}})},Va=function(e,n,t,l,r){var o=Fa(n,t,l,r);za(e,o)},qa=function(e,n,t){var l=Ba(n,t);za(e,l)},ja=function(e){var n=fa(e).dom(),t=function(e,t,l,r){return ba(n,e,t,l,r)},l=function(e){return e.match({domRange:function(e){var n=oe.fromDom(e.startContainer),t=oe.fromDom(e.endContainer);return Fa(n,e.startOffset,t,e.endOffset)},relative:Ba,exact:Fa})}(e);return xa(n,l).match({ltr:t,rtl:t})},Wa=function(e){var n=oe.fromDom(e.anchorNode),t=oe.fromDom(e.focusNode);return ga(n,e.anchorOffset,t,e.focusOffset)?m.some(da(oe.fromDom(e.anchorNode),e.anchorOffset,oe.fromDom(e.focusNode),e.focusOffset)):function(e){if(e.rangeCount>0){var n=e.getRangeAt(0),t=e.getRangeAt(e.rangeCount-1);return m.some(da(oe.fromDom(n.startContainer),n.startOffset,oe.fromDom(t.endContainer),t.endOffset))}return m.none()}(e)},Ua=function(e,n){var t=function(e,n){var t=e.document.createRange();return ma(t,n),t}(e,n);La(e,t)},Qa=function(e){return function(e){return m.from(e.getSelection()).filter(function(e){return e.rangeCount>0}).bind(Wa)}(e).map(function(e){return ha(e.start(),e.soffset(),e.finish(),e.foffset())})},Ga=function(e,n){return function(e){var n=e.getClientRects(),t=n.length>0?n[0]:e.getBoundingClientRect();return t.width>0||t.height>0?m.some(t).map(ya):m.none()}(_a(e,n))},Ka=function(e,n,t){return function(e,n,t){var l=oe.fromDom(e.document);return Ta(l,n,t).map(function(e){return da(oe.fromDom(e.startContainer),e.startOffset,oe.fromDom(e.endContainer),e.endOffset)})}(e,n,t)},Ya=function(e){e.getSelection().removeAllRanges()},Za=tinymce.util.Tools.resolve("tinymce.util.VK"),Ja=function(e,n,t,l){return ns(e,n,ia(t),l)},Xa=function(e,n,t,l){return ns(e,n,ua(t),l)},$a=function(e,n){var t=ha(n,0,n,0);return ja(t)},es=function(e,n){var t,l=Cn(n,"tr");return(t=l,0===t.length?m.none():m.some(t[t.length-1])).bind(function(e){return kn(e,"td,th").map(function(e){return $a(0,e)})})},ns=function(e,n,t,l,r){return t.fold(m.none,m.none,function(e,n){return gt(n).map(function(e){return $a(0,e)})},function(t){return Pn.table(t,n).bind(function(n){var r=_l.noMenu(t);return e.undoManager.transact(function(){l.insertRowsAfter(n,r)}),es(0,n)})})},ts=["table","li","dl"],ls={handle:function(e,n,t,l){if(e.keyCode===Za.TAB){var r=Fi(n),o=function(e){var n=$e(e);return Ve(e,r)||A(ts,n)},i=n.selection.getRng();if(i.collapsed){var u=oe.fromDom(i.startContainer);Pn.cell(u,o).each(function(r){e.preventDefault(),(e.shiftKey?Xa:Ja)(n,o,r,t,l).each(function(e){n.selection.setRng(e)})})}}}},rs={response:W("selection","kill")},os=function(e){return function(n){return n===e}},is=os(38),us=os(40),as={ltr:{isBackward:os(37),isForward:os(39)},rtl:{isBackward:os(39),isForward:os(37)},isUp:is,isDown:us,isNavigation:function(e){return e>=37&&e<=40}},ss={convertToRange:function(e,n){var t=_a(e,n);return{start:r(oe.fromDom(t.startContainer)),soffset:r(t.startOffset),finish:r(oe.fromDom(t.endContainer)),foffset:r(t.endOffset)}},makeSitus:function(e,n,t,l){return{start:r(sa.on(e,n)),finish:r(sa.on(t,l))}}},cs=(ze.detect().browser.isSafari(),function(e){var n=void 0!==e?e.dom():document,t=n.body.scrollLeft||n.documentElement.scrollLeft,l=n.body.scrollTop||n.documentElement.scrollTop;return Gl(t,l)}),ds=function(e,n,t){(void 0!==t?t.dom():document).defaultView.scrollBy(e,n)};function fs(e){return{elementFromPoint:function(n,t){return oe.fromPoint(oe.fromDom(e.document),n,t)},getRect:function(e){return e.dom().getBoundingClientRect()},getRangedRect:function(n,t,l,r){var o=ha(n,t,l,r);return Ga(e,o).map(function(e){return q(e,a)})},getSelection:function(){return Qa(e).map(function(n){return ss.convertToRange(e,n)})},fromSitus:function(n){var t=pa(n.start(),n.finish());return ss.convertToRange(e,t)},situsFromPoint:function(n,t){return Ka(e,n,t).map(function(e){return{start:r(sa.on(e.start(),e.soffset())),finish:r(sa.on(e.finish(),e.foffset()))}})},clearSelection:function(){Ya(e)},setSelection:function(n){Va(e,n.start(),n.soffset(),n.finish(),n.foffset())},setRelativeSelection:function(n,t){qa(e,n,t)},selectContents:function(n){Ua(e,n)},getInnerHeight:function(){return e.innerHeight},getScrollY:function(){return cs(oe.fromDom(e.document)).top()},scrollBy:function(n,t){ds(n,t,oe.fromDom(e.document))}}}var ps=function(e,n,t,l,r){return Ve(t,l)?m.none():sl.identify(t,l,n).bind(function(n){var l=n.boxes().getOr([]);return l.length>0?(r(e,l,n.start(),n.finish()),m.some(rs.response(m.some(ss.makeSitus(t,0,t,ft(t))),!0))):m.none()})},hs={sync:function(e,n,t,l,r,o,i){return Ve(t,r)&&l===o?m.none():On(t,"td,th",n).bind(function(t){return On(r,"td,th",n).bind(function(l){return ps(e,n,t,l,i)})})},detect:ps,update:function(e,n,t,l,r){return sl.shiftSelection(l,e,n,r.firstSelectedSelector(),r.lastSelectedSelector()).map(function(e){return r.clear(t),r.selectRange(t,e.boxes(),e.start(),e.finish()),e.boxes()})}},gs=Z(["left","top","right","bottom"],[]),ms={nu:gs,moveUp:function(e,n){return gs({left:e.left(),top:e.top()-n,right:e.right(),bottom:e.bottom()-n})},moveDown:function(e,n){return gs({left:e.left(),top:e.top()+n,right:e.right(),bottom:e.bottom()+n})},moveBottomTo:function(e,n){var t=e.bottom()-e.top();return gs({left:e.left(),top:n-t,right:e.right(),bottom:n})},moveTopTo:function(e,n){var t=e.bottom()-e.top();return gs({left:e.left(),top:n,right:e.right(),bottom:n+t})},getTop:function(e){return e.top()},getBottom:function(e){return e.bottom()},translate:function(e,n,t){return gs({left:e.left()+n,top:e.top()+t,right:e.right()+n,bottom:e.bottom()+t})},toString:function(e){return"("+e.left()+", "+e.top()+") -> ("+e.right()+", "+e.bottom()+")"}},vs=function(e){return ms.nu({left:e.left,top:e.top,right:e.right,bottom:e.bottom})},bs=function(e,n){return m.some(e.getRect(n))},ys=function(e,n,t){return ln(n)?bs(e,n).map(vs):rn(n)?function(e,n,t){return t>=0&&t<ft(n)?e.getRangedRect(n,t,n,t+1):t>0?e.getRangedRect(n,t-1,n,t):m.none()}(e,n,t).map(vs):m.none()},Cs=function(e,n){return ln(n)?bs(e,n).map(vs):rn(n)?e.getRangedRect(n,0,n,ft(n)).map(vs):m.none()},ws=W("item","mode"),xs=function(e,n,t,l){var r=void 0!==l?l:_s;return e.property().parent(n).map(function(e){return ws(e,r)})},_s=function(e,n,t,l){var r=void 0!==l?l:As;return t.sibling(e,n).map(function(e){return ws(e,r)})},As=function(e,n,t,l){var r=void 0!==l?l:As,o=e.property().children(n);return t.first(o).map(function(e){return ws(e,r)})},ks=[{current:xs,next:_s,fallback:m.none()},{current:_s,next:As,fallback:m.some(xs)},{current:As,next:As,fallback:m.some(_s)}],Os=function(e,n,t,l,r){return M(r=void 0!==r?r:ks,function(e){return e.current===t}).bind(function(t){return t.current(e,n,l,t.next).orThunk(function(){return t.fallback.bind(function(t){return Os(e,n,t,l)})})})},Ss={backtrack:xs,sidestep:_s,advance:As,go:Os},Es={left:function(){return{sibling:function(e,n){return e.query().prevSibling(n)},first:function(e){return e.length>0?m.some(e[e.length-1]):m.none()}}},right:function(){return{sibling:function(e,n){return e.query().nextSibling(n)},first:function(e){return e.length>0?m.some(e[0]):m.none()}}}},Rs=function(e,n,t,l,r,o){return Ss.go(e,n,l,r).bind(function(n){return o(n.item())?m.none():t(n.item())?m.some(n.item()):Rs(e,n.item(),t,n.mode(),r,o)})},Ps=function(e,n,t,l){return Rs(e,n,t,Ss.sidestep,Es.left(),l)},Ms=function(e,n,t,l){return Rs(e,n,t,Ss.sidestep,Es.right(),l)},Is=function(e,n){return 0===e.property().children(n).length},Ds=function(e,n,t,l){return Ps(e,n,t,l)},Ts=function(e,n,t,l){return Ms(e,n,t,l)},Ns={before:function(e,n,t){return Ds(e,n,i(Is,e),t)},after:function(e,n,t){return Ts(e,n,i(Is,e),t)},seekLeft:Ds,seekRight:Ts,walkers:function(){return{left:Es.left,right:Es.right}},walk:function(e,n,t,l,r){return Ss.go(e,n,t,l,r)},backtrack:Ss.backtrack,sidestep:Ss.sidestep,advance:Ss.advance},Bs=kt(),Fs={gather:function(e,n,t){return Ns.gather(Bs,e,n,t)},before:function(e,n){return Ns.before(Bs,e,n)},after:function(e,n){return Ns.after(Bs,e,n)},seekLeft:function(e,n,t){return Ns.seekLeft(Bs,e,n,t)},seekRight:function(e,n,t){return Ns.seekRight(Bs,e,n,t)},walkers:function(){return Ns.walkers()},walk:function(e,n,t,l){return Ns.walk(Bs,e,n,t,l)}},Ls=hl([{none:[]},{retry:["caret"]}]),Hs=function(e,n,t){return(l=n,o=Er,wn(function(e){return o(e)},xn,l,o,i)).fold(r(!1),function(n){return Cs(e,n).exists(function(e){return function(e,n){return e.left()<n.left()||Math.abs(n.right()-e.left())<1||e.left()>n.right()}(t,e)})});var l,o,i},zs={point:ms.getTop,adjuster:function(e,n,t,l,r){var o=ms.moveUp(r,5);return Math.abs(t.top()-l.top())<1?Ls.retry(o):t.bottom()<r.top()?Ls.retry(o):t.bottom()===r.top()?Ls.retry(ms.moveUp(r,1)):Hs(e,n,r)?Ls.retry(ms.translate(o,5,0)):Ls.none()},move:ms.moveUp,gather:Fs.before},Vs={point:ms.getBottom,adjuster:function(e,n,t,l,r){var o=ms.moveDown(r,5);return Math.abs(t.bottom()-l.bottom())<1?Ls.retry(o):t.top()>r.bottom()?Ls.retry(o):t.top()===r.bottom()?Ls.retry(ms.moveDown(r,1)):Hs(e,n,r)?Ls.retry(ms.translate(o,5,0)):Ls.none()},move:ms.moveDown,gather:Fs.after},qs=function(e,n,t,l,r){return 0===r?m.some(l):function(e,n,t){return e.elementFromPoint(n,t).filter(function(e){return"table"===$e(e)}).isSome()}(e,l.left(),n.point(l))?function(e,n,t,l,r){return qs(e,n,t,n.move(l,5),r)}(e,n,t,l,r-1):e.situsFromPoint(l.left(),n.point(l)).bind(function(o){return o.start().fold(m.none,function(o,i){return Cs(e,o,i).bind(function(i){return n.adjuster(e,o,i,t,l).fold(m.none,function(l){return qs(e,n,t,l,r-1)})}).orThunk(function(){return m.some(l)})},m.none)})},js=function(e,n,t){var l=e.move(t,5),r=qs(n,e,t,l,100).getOr(l);return function(e,n,t){return e.point(n)>t.getInnerHeight()?m.some(e.point(n)-t.getInnerHeight()):e.point(n)<0?m.some(-e.point(n)):m.none()}(e,r,n).fold(function(){return n.situsFromPoint(r.left(),e.point(r))},function(t){return n.scrollBy(0,t),n.situsFromPoint(r.left(),e.point(r)-t)})},Ws={tryUp:i(js,zs),tryDown:i(js,Vs),ieTryUp:function(e,n){return e.situsFromPoint(n.left(),n.top()-5)},ieTryDown:function(e,n){return e.situsFromPoint(n.left(),n.bottom()+5)},getJumpSize:r(5)},Us=hl([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Qs=function(e){return On(e,"tr")},Gs={verify:function(e,n,t,l,r,o,i){return On(l,"td,th",i).bind(function(t){return On(n,"td,th",i).map(function(n){return Ve(t,n)?Ve(l,t)&&ft(t)===r?o(n):Us.none("in same cell"):Ut.sharedOne(Qs,[t,n]).fold(function(){return function(e,n,t){var l=e.getRect(n),r=e.getRect(t);return r.right>l.left&&r.left<l.right}(e,n,t)?Us.success():o(n)},function(e){return o(n)})})}).getOr(Us.none("default"))},cata:function(e,n,t,l,r){return e.fold(n,t,l,r)},adt:Us},Ks={point:W("element","offset"),delta:W("element","deltaOffset"),range:W("element","start","finish"),points:W("begin","end"),text:W("element","text")},Ys=(W("ancestor","descendants","element","index"),W("parent","children","element","index")),Zs=function(e,n){return I(e,i(Ve,n))},Js=function(e){return"br"===$e(e)},Xs=function(e,n,t){return n(e,t).bind(function(e){return rn(e)&&0===st(e).trim().length?Xs(e,n,t):m.some(e)})},$s=function(e,n,t,l){return function(e,n){return Ze(e,n).filter(Js).orThunk(function(){return Ze(e,n-1).filter(Js)})}(n,t).bind(function(n){return l.traverse(n).fold(function(){return Xs(n,l.gather,e).map(l.relative)},function(e){return(n=e,Ue(n).bind(function(e){var t=Ye(e);return Zs(t,n).map(function(l){return Ys(e,t,n,l)})})).map(function(e){return sa.on(e.parent(),e.index())});var n})})},ec=function(e,n,t,l){return(Js(n)?function(e,n,t){return t.traverse(n).orThunk(function(){return Xs(n,t.gather,e)}).map(t.relative)}(e,n,l):$s(e,n,t,l)).map(function(e){return{start:r(e),finish:r(e)}})},nc=function(e){return Gs.cata(e,function(e){return m.none()},function(){return m.none()},function(e){return m.some(Ks.point(e,0))},function(e){return m.some(Ks.point(e,ft(e)))})},tc=ze.detect(),lc=function(e,n,t,l,r,o){return 0===o?m.none():ic(e,n,t,l,r).bind(function(i){var u=e.fromSitus(i),a=Gs.verify(e,t,l,u.finish(),u.foffset(),r.failure,n);return Gs.cata(a,function(){return m.none()},function(){return m.some(i)},function(i){return Ve(t,i)&&0===l?rc(e,t,l,ms.moveUp,r):lc(e,n,i,0,r,o-1)},function(i){return Ve(t,i)&&l===ft(i)?rc(e,t,l,ms.moveDown,r):lc(e,n,i,ft(i),r,o-1)})})},rc=function(e,n,t,l,r){return ys(e,n,t).bind(function(n){return oc(e,r,l(n,Ws.getJumpSize()))})},oc=function(e,n,t){return tc.browser.isChrome()||tc.browser.isSafari()||tc.browser.isFirefox()||tc.browser.isEdge()?n.otherRetry(e,t):tc.browser.isIE()?n.ieRetry(e,t):m.none()},ic=function(e,n,t,l,r){return ys(e,t,l).bind(function(n){return oc(e,r,n)})},uc=function(e,n,t){return function(e,n,t){return e.getSelection().bind(function(l){return ec(n,l.finish(),l.foffset(),t).fold(function(){return m.some(Ks.point(l.finish(),l.foffset()))},function(r){var o=e.fromSitus(r),i=Gs.verify(e,l.finish(),l.foffset(),o.finish(),o.foffset(),t.failure,n);return nc(i)})})}(e,n,t).bind(function(l){return lc(e,n,l.element(),l.offset(),t,20).map(e.fromSitus)})},ac=ze.detect(),sc=function(e,n){return xn(e,function(e){return Ue(e).exists(function(e){return Ve(e,n)})},t).isSome();var t},cc=function(e,n,t,l,o){return On(l,"td,th",n).bind(function(l){return On(l,"table",n).bind(function(i){return sc(o,i)?uc(e,n,t).bind(function(e){return On(e.finish(),"td,th",n).map(function(n){return{start:r(l),finish:r(n),range:r(e)}})}):m.none()})})},dc=function(e,n,t,l,r,o){return ac.browser.isIE()?m.none():o(l,n).orThunk(function(){return cc(e,n,t,l,r).map(function(e){var n=e.range();return rs.response(m.some(ss.makeSitus(n.start(),n.soffset(),n.finish(),n.foffset())),!0)})})},fc=function(e,n,t,l,r,o,i){return cc(e,t,l,r,o).bind(function(e){return hs.detect(n,t,e.start(),e.finish(),i)})},pc=function(e,n){return On(e,"tr",n).bind(function(e){return On(e,"table",n).bind(function(t){var l=Cn(t,"tr");return Ve(e,l[0])?Fs.seekLeft(t,function(e){return mt(e).isSome()},n).map(function(e){var n=ft(e);return rs.response(m.some(ss.makeSitus(e,n,e,n)),!0)}):m.none()})})},hc=function(e,n){return On(e,"tr",n).bind(function(e){return On(e,"table",n).bind(function(t){var l=Cn(t,"tr");return Ve(e,l[l.length-1])?Fs.seekRight(t,function(e){return gt(e).isSome()},n).map(function(e){return rs.response(m.some(ss.makeSitus(e,0,e,0)),!0)}):m.none()})})},gc=function(e,n){return On(e,"td,th",n)},mc={down:{traverse:Ke,gather:Fs.after,relative:sa.before,otherRetry:Ws.tryDown,ieRetry:Ws.ieTryDown,failure:Gs.adt.failedDown},up:{traverse:Ge,gather:Fs.before,relative:sa.before,otherRetry:Ws.tryUp,ieRetry:Ws.ieTryUp,failure:Gs.adt.failedUp}},vc=W("rows","cols"),bc={mouse:function(e,n,t,l){var r=function(e,n,t,l){var r=m.none(),o=function(){r=m.none()};return{mousedown:function(e){l.clear(n),r=gc(e.target(),t)},mouseover:function(o){r.each(function(r){l.clear(n),gc(o.target(),t).each(function(o){sl.identify(r,o,t).each(function(t){var i=t.boxes().getOr([]);(i.length>1||1===i.length&&!Ve(r,o))&&(l.selectRange(n,i,t.start(),t.finish()),e.selectContents(o))})})})},mouseup:function(){r.each(o)}}}(fs(e),n,t,l);return{mousedown:r.mousedown,mouseover:r.mouseover,mouseup:r.mouseup}},keyboard:function(e,n,t,l){var r=fs(e),o=function(){return l.clear(n),m.none()};return{keydown:function(e,u,a,s,c,d){var f=e.raw().which,p=!0===e.raw().shiftKey;return sl.retrieve(n,l.selectedSelector()).fold(function(){return as.isDown(f)&&p?i(fc,r,n,t,mc.down,s,u,l.selectRange):as.isUp(f)&&p?i(fc,r,n,t,mc.up,s,u,l.selectRange):as.isDown(f)?i(dc,r,t,mc.down,s,u,hc):as.isUp(f)?i(dc,r,t,mc.up,s,u,pc):m.none},function(e){var t=function(t){return function(){return Nr(t,function(t){return hs.update(t.rows(),t.cols(),n,e,l)}).fold(function(){return sl.getEdges(n,l.firstSelectedSelector(),l.lastSelectedSelector()).map(function(e){var t=as.isDown(f)||d.isForward(f)?sa.after:sa.before;return r.setRelativeSelection(sa.on(e.first(),0),t(e.table())),l.clear(n),rs.response(m.none(),!0)})},function(e){return m.some(rs.response(m.none(),!0))})}};return as.isDown(f)&&p?t([vc(1,0)]):as.isUp(f)&&p?t([vc(-1,0)]):d.isBackward(f)&&p?t([vc(0,-1),vc(-1,0)]):d.isForward(f)&&p?t([vc(0,1),vc(1,0)]):as.isNavigation(f)&&!1===p?o:m.none})()},keyup:function(e,r,o,i,u){return sl.retrieve(n,l.selectedSelector()).fold(function(){var a=e.raw().which;return!1===(!0===e.raw().shiftKey)?m.none():as.isNavigation(a)?hs.sync(n,t,r,o,i,u,l.selectRange):m.none()},m.none)}}}},yc=function(e,n){S(n,function(n){!function(e,n){lo(e)?e.dom().classList.remove(n):oo(e,n),uo(e)}(e,n)})},Cc={byClass:function(e){var n,t,l=(n=e.selected(),function(e){io(e,n)}),r=(t=[e.selected(),e.lastSelected(),e.firstSelected()],function(e){yc(e,t)}),o=function(n){var t=Cn(n,e.selectedSelector());S(t,r)};return{clear:o,selectRange:function(n,t,r,i){o(n),S(t,l),io(r,e.firstSelected()),io(i,e.lastSelected())},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},byAttr:function(e){var n=function(n){fn(n,e.selected()),fn(n,e.firstSelected()),fn(n,e.lastSelected())},t=function(n){an(n,e.selected(),"1")},l=function(t){var l=Cn(t,e.selectedSelector());S(l,n)};return{clear:l,selectRange:function(n,r,o,i){l(n),S(r,t),an(o,e.firstSelected(),"1"),an(i,e.lastSelected(),"1")},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}}},wc=function(e){return!1===ao(oe.fromDom(e.target),"ephox-snooker-resizer-bar")},xc=function(e){return{get:function(){var n=Fi(e);return cl(n,pl.selectedSelector()).fold(function(){return void 0===e.selection.getStart()?ml.none():ml.single(e.selection)},function(e){return ml.multiple(e)})}}},_c=du.each,Ac={addButtons:function(e){var n=[];function t(n){return function(){e.execCommand(n)}}_c("inserttable tableprops deletetable | cell row column".split(" "),function(t){"|"===t?n.push({text:"-"}):n.push(e.menuItems[t])}),e.addButton("table",{type:"menubutton",title:"Table",menu:n}),e.addButton("tableprops",{title:"Table properties",onclick:t("mceTableProps"),icon:"table"}),e.addButton("tabledelete",{title:"Delete table",onclick:t("mceTableDelete")}),e.addButton("tablecellprops",{title:"Cell properties",onclick:t("mceTableCellProps")}),e.addButton("tablemergecells",{title:"Merge cells",onclick:t("mceTableMergeCells")}),e.addButton("tablesplitcells",{title:"Split cell",onclick:t("mceTableSplitCells")}),e.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:t("mceTableInsertRowBefore")}),e.addButton("tableinsertrowafter",{title:"Insert row after",onclick:t("mceTableInsertRowAfter")}),e.addButton("tabledeleterow",{title:"Delete row",onclick:t("mceTableDeleteRow")}),e.addButton("tablerowprops",{title:"Row properties",onclick:t("mceTableRowProps")}),e.addButton("tablecutrow",{title:"Cut row",onclick:t("mceTableCutRow")}),e.addButton("tablecopyrow",{title:"Copy row",onclick:t("mceTableCopyRow")}),e.addButton("tablepasterowbefore",{title:"Paste row before",onclick:t("mceTablePasteRowBefore")}),e.addButton("tablepasterowafter",{title:"Paste row after",onclick:t("mceTablePasteRowAfter")}),e.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:t("mceTableInsertColBefore")}),e.addButton("tableinsertcolafter",{title:"Insert column after",onclick:t("mceTableInsertColAfter")}),e.addButton("tabledeletecol",{title:"Delete column",onclick:t("mceTableDeleteCol")})},addToolbars:function(e){var n=function(e){var n=e.getParam("table_toolbar",Qi);return""===n||!1===n?[]:b(n)?n.split(/[ ,]/):y(n)?n:[]}(e);n.length>0&&e.addContextToolbar(function(n){return e.dom.is(n,"table")&&e.getBody().contains(n)},n.join(" "))}},kc={addMenuItems:function(e,n){var t=m.none(),l=[],r=[],o=[],i=[],u=function(e){e.disabled(!0)},a=function(e){e.disabled(!1)},s=function(){var e=this;l.push(e),t.fold(function(){u(e)},function(n){a(e)})},c=function(){var e=this;r.push(e),t.fold(function(){u(e)},function(n){a(e)})};e.on("init",function(){e.on("nodechange",function(s){var c=m.from(e.dom.getParent(e.selection.getStart(),"th,td"));(t=c.bind(function(e){var t=oe.fromDom(e);return Pn.table(t).map(function(e){return _l.forMenu(n,e,t)})})).fold(function(){S(l,u),S(r,u),S(o,u),S(i,u)},function(e){S(l,a),S(r,a),S(o,function(n){n.disabled(e.mergable().isNone())}),S(i,function(n){n.disabled(e.unmergable().isNone())})})})});var d=function(e,n,t,l){var r,o,i,u,a,s=l.getEl().getElementsByTagName("table")[0],c=l.isRtl()||"tl-tr"===l.parent().rel;for(s.nextSibling.innerHTML=n+1+" x "+(t+1),c&&(n=9-n),o=0;o<10;o++)for(r=0;r<10;r++)u=s.rows[o].childNodes[r].firstChild,a=(c?r>=n:r<=n)&&o<=t,e.dom.toggleClass(u,"mce-active",a),a&&(i=u);return i.parentNode},f=!1===function(e){return e.getParam("table_grid",!0,"boolean")}(e)?{text:"Table",icon:"table",context:"table",onclick:p("mceInsertTable")}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(n){n.aria&&(this.parent().hideAll(),n.stopImmediatePropagation(),e.execCommand("mceInsertTable"))},onshow:function(){d(e,0,0,this.menu.items()[0])},onhide:function(){var n=this.menu.items()[0].getEl().getElementsByTagName("a");e.dom.removeClass(n,"mce-active"),e.dom.addClass(n[0],"mce-active")},menu:[{type:"container",html:function(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var n=0;n<10;n++){e+="<tr>";for(var t=0;t<10;t++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*n+t)+'" href="#" data-mce-x="'+t+'" data-mce-y="'+n+'"></a></td>';e+="</tr>"}return e+="</table>",e+='<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(n){var t,l,r=n.target;"A"===r.tagName.toUpperCase()&&(t=parseInt(r.getAttribute("data-mce-x"),10),l=parseInt(r.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"===this.parent().rel)&&(t=9-t),t===this.lastX&&l===this.lastY||(d(e,t,l,n.control),this.lastX=t,this.lastY=l))},onclick:function(n){var t=this;"A"===n.target.tagName.toUpperCase()&&(n.preventDefault(),n.stopPropagation(),t.parent().cancel(),e.undoManager.transact(function(){ku(e,t.lastX+1,t.lastY+1)}),e.addVisual())}}]};function p(n){return function(){e.execCommand(n)}}var h={text:"Table properties",context:"table",onPostRender:s,onclick:p("mceTableProps")},g={text:"Delete table",context:"table",onPostRender:s,cmd:"mceTableDelete"},v={text:"Row",context:"table",menu:[{text:"Insert row before",onclick:p("mceTableInsertRowBefore"),onPostRender:c},{text:"Insert row after",onclick:p("mceTableInsertRowAfter"),onPostRender:c},{text:"Delete row",onclick:p("mceTableDeleteRow"),onPostRender:c},{text:"Row properties",onclick:p("mceTableRowProps"),onPostRender:c},{text:"-"},{text:"Cut row",onclick:p("mceTableCutRow"),onPostRender:c},{text:"Copy row",onclick:p("mceTableCopyRow"),onPostRender:c},{text:"Paste row before",onclick:p("mceTablePasteRowBefore"),onPostRender:c},{text:"Paste row after",onclick:p("mceTablePasteRowAfter"),onPostRender:c}]},b={text:"Column",context:"table",menu:[{text:"Insert column before",onclick:p("mceTableInsertColBefore"),onPostRender:c},{text:"Insert column after",onclick:p("mceTableInsertColAfter"),onPostRender:c},{text:"Delete column",onclick:p("mceTableDeleteCol"),onPostRender:c}]},y={separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:p("mceTableCellProps"),onPostRender:c},{text:"Merge cells",onclick:p("mceTableMergeCells"),onPostRender:function(){var e=this;o.push(e),t.fold(function(){u(e)},function(n){e.disabled(n.mergable().isNone())})}},{text:"Split cell",onclick:p("mceTableSplitCells"),onPostRender:function(){var e=this;i.push(e),t.fold(function(){u(e)},function(n){e.disabled(n.unmergable().isNone())})}}]};e.addMenuItem("inserttable",f),e.addMenuItem("tableprops",h),e.addMenuItem("deletetable",g),e.addMenuItem("row",v),e.addMenuItem("column",b),e.addMenuItem("cell",y)}},Oc=function(e,n){return{insertTable:function(n,t){return ku(e,n,t)},setClipboardRows:function(e){return function(e,n){var t=O(e,oe.fromDom);n.set(m.from(t))}(e,n)},getClipboardRows:function(){return function(e){return e.get().fold(function(){},function(e){return O(e,function(e){return e.dom()})})}(n)}}};n.add("table",function(e){var n=$u(e),o=function(e,n){var o=Z(["mousedown","mouseover","mouseup","keyup","keydown"],[]),i=m.none(),u=Cc.byAttr(pl);return e.on("init",function(a){var s=e.getWin(),c=Fi(e),d=zi(e),f=bc.mouse(s,c,d,u),p=bc.keyboard(s,c,d,u),h=function(n,t){(function(e){return!0===e.raw().shiftKey})(n)&&(t.kill()&&n.kill(),t.selection().each(function(n){var t=pa(n.start(),n.finish()),l=_a(s,t);e.selection.setRng(l)}))},g=function(n){var t=y(n);if(t.raw().shiftKey&&as.isNavigation(t.raw().which)){var l=e.selection.getRng(),r=oe.fromDom(l.startContainer),o=oe.fromDom(l.endContainer);p.keyup(t,r,l.startOffset,o,l.endOffset).each(function(e){h(t,e)})}},v=function(t){var l=y(t);n().each(function(e){e.hideBars()});var r=e.selection.getRng(),o=oe.fromDom(e.selection.getStart()),i=oe.fromDom(r.startContainer),u=oe.fromDom(r.endContainer),a=Ui.directionAt(o).isRtl()?as.rtl:as.ltr;p.keydown(l,i,r.startOffset,u,r.endOffset,a).each(function(e){h(l,e)}),n().each(function(e){e.showBars()})},b=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},y=function(e){var n=oe.fromDom(e.target),t=function(){e.stopPropagation()},o=function(){e.preventDefault()},i=l(o,t);return{target:r(n),x:r(b(e)?e.x:null),y:r(b(e)?e.y:null),stop:t,prevent:o,kill:i,raw:r(e)}},C=function(e){return 0===e.button},w=function(e){C(e)&&wc(e)&&f.mousedown(y(e))},x=function(e){var n;void 0!==(n=e).buttons&&0===(1&n.buttons)||!wc(e)||f.mouseover(y(e))},_=function(e){C(e)&&wc(e)&&f.mouseup(y(e))};e.on("mousedown",w),e.on("mouseover",x),e.on("mouseup",_),e.on("keyup",g),e.on("keydown",v),e.on("nodechange",function(){var n=e.selection,l=oe.fromDom(n.getStart()),r=oe.fromDom(n.getEnd());Ut.sharedOne(Pn.table,[l,r]).fold(function(){u.clear(c)},t)}),i=m.some(o({mousedown:w,mouseover:x,mouseup:_,keyup:g,keydown:v}))}),{clear:u.clear,destroy:function(){i.each(function(e){})}}}(e,n.lazyResize),i=su(e,n.lazyWire),u=xc(e),a=fr(m.none());return Pu.registerCommands(e,i,o,u,a),Al.registerEvents(e,u,i,o),kc.addMenuItems(e,u),Ac.addButtons(e),Ac.addToolbars(e),e.on("PreInit",function(){e.serializer.addTempAttr(pl.firstSelected()),e.serializer.addTempAttr(pl.lastSelected())}),Zi(e)&&e.on("keydown",function(t){ls.handle(t,e,i,n.lazyWire)}),e.on("remove",function(){n.destroy(),o.destroy()}),Oc(e,a)})}()},"176a":function(e,n,t){"use strict";t.d(n,"a",function(){return u});var l=t("0WLp"),r=t("oRYE"),o=t("ZV8k"),i=t("SHsa"),u=function(){function e(e,n,t){this._state=e,this.modalService=n,this._commentsService=t,this.model={},this.viewOnly=!1,this.comment={},this.eventCode="CommentListComponent"}return e.prototype.ngOnInit=function(){this.userId=r.a.PROFILE.id},e.prototype.ngAfterViewInit=function(){},e.prototype.addComments=function(e){this.modalWrapper.showModal("comment-edit"),this.comment=e||{summary:"\u6dfb\u52a0\u5907\u6ce8"}},e.prototype.editComments=function(e){this.modalWrapper.showModal("comment-edit"),this.comment=e,"\u6dfb\u52a0\u5907\u6ce8"===this.comment.summary&&(this.comment.summary="\u4fee\u6539\u5907\u6ce8")},e.prototype.saveComments=function(e){var n=this,t="case_in_task"==this.modelType?this.model.entityId:this.model.id;this._commentsService.save(t,this.modelType,this.comment).subscribe(function(t){1==t.code&&(void 0!=n.comment.result&&n.reviewRequest(n.model.id,n.comment.result),n.comment.id!=t.data.id&&(n.model.comments[n.model.comments.length]=t.data),n.comment=t.data,e||n.modalWrapper.closeModal())})},e.prototype.removeComments=function(e,n){var t=this;this._commentsService.remove(e,this.modelType).subscribe(function(e){t.model.comments.splice(n,1)})},e.prototype.reviewRequest=function(e,n){},e.prototype.ngOnDestroy=function(){},e.ctorParameters=function(){return[{type:o.a},{type:l.e},{type:i.a}]},e}()},"1N5f":function(e,n,t){"use strict";t.d(n,"a",function(){return l});t("kgbC");var l=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e}()},"1l7p":function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("9GFz"),r=function(){function e(e){this._reqService=e,this._apiBase="client/userAndGroup/"}return e.prototype.search=function(e,n,t){var l={keywords:e,exceptUserIds:n,exceptGroupIds:t};return this._reqService.post(this._apiBase+"search",l)},e.ctorParameters=function(){return[{type:l.a}]},e}()},"2aY+":function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("SHsa"),r=(t("176a"),t("c3Se"),function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[l.a]}},e}())},"2jA6":function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("/oeL"),r=t("oQZj"),o=t("VeFf"),i=function(){function e(e,n){this.localDataFactory=e,this.remoteDataFactory=n}return e.prototype.local=function(e,n,t){return void 0===n&&(n=""),void 0===t&&(t=""),this.localDataFactory().data(e).searchFields(n).titleField(t)},e.prototype.remote=function(e,n,t){return void 0===n&&(n=""),void 0===t&&(t=""),this.remoteDataFactory().remoteUrl(e).searchFields(n).titleField(t)},e}();i.decorators=[{type:l.Injectable}],i.ctorParameters=function(){return[{type:void 0,decorators:[{type:l.Inject,args:[r.a]}]},{type:void 0,decorators:[{type:l.Inject,args:[o.a]}]}]}},"2jsF":function(e,n,t){"use strict";t.d(n,"a",function(){return c});var l=t("xrDH"),r=(t.n(l),t("bm2B")),o=t("0WLp"),i=t("oRYE"),u=t("MxAn"),a=t("lr9G"),s=t("0jz5"),c=function(){function e(e,n,t,r,o){this.activeModal=e,this.fb=n,this._treeService=t,this._sutieService=r,this._caseService=o,this.treeSettings={},this.brotherProjects=[],this.users=[],this.progress="0",this.color="#209e91",this.height="1px",this.show=!0,this.createUsers=[],this.updateUsers=[],this._queryModel={type:{},priority:{},createUsers:[],updateUsers:[]},this._disabledV="0",this.disabled=!1,this.formErrors=[],this.validateMsg={},this.queryModel=l.cloneDeep(this._queryModel),this.queryModel.projectId,this.orgId=i.a.CURR_ORG_ID}return e.prototype.ngOnInit=function(){this.buildForm(),this.loadData()},e.prototype.loadData=function(){var e=this;"suite"==this.selectFor?this._caseService.queryForSuiteSelection(this.caseProjectId,this.suiteId).subscribe(function(n){e.treeModel=n.data,e.brotherProjects=n.brotherProjects}):"task"==this.selectFor&&this._caseService.queryForTaskSelection(this.caseProjectId,this.taskId).subscribe(function(n){e.treeModel=n.data,e.brotherProjects=n.brotherProjects})},e.prototype.save=function(){var e=$.fn.zTree.getZTreeObj("tree");this.activeModal.close({act:"save",caseProjectId:this.caseProjectId,data:e.getCheckedNodes(!0)})},e.prototype.reset=function(){console.log("reset")},e.prototype.dismiss=function(){this.activeModal.dismiss({act:"cancel"})},e.prototype.onModuleSelected=function(e){console.log("onNodeSelected",e)},e.prototype.onCaseSelected=function(e){console.log("onCaseSelected",e)},e.prototype.buildForm=function(){var e=this;this.form=this.fb.group({type:["",[]],priority:["",[]],estimate:["",[]],createTime:["",[]],updateTime:["",[]],createUser:["",[]],updateUser:["",[]]},{}),this.form.valueChanges.debounceTime(i.a.DebounceTime).subscribe(function(n){return e.query(n)})},e.prototype.query=function(e){var n=jQuery.fn.zTree.getZTreeObj("tree");if(n){var t=n.getNodesByParam("isHidden",!0);n.showNodes(t);var r=this.validFilter(this.queryModel.type),o=this.validFilter(this.queryModel.priority),i=this.queryModel.estimate?this.queryModel.estimate.split("-"):[],u=24*this.queryModel.createTime*60*60*1e3,a=24*this.queryModel.updateTime*60*60*1e3,s=this.queryModel.createUsers.map(function(e,n,t){return e.id}),c=this.queryModel.updateUsers.map(function(e,n,t){return e.id});t=n.getNodesByFilter(function(e){return!e.isParent&&(r.length>0&&l.indexOf(r,e.type)<0||o.length>0&&l.indexOf(o,e.priority)<0||i.length>0&&(parseInt(e.estimate)<parseInt(i[0])||parseInt(e.estimate)>parseInt(i[1]))||u&&(new Date).getTime()-new Date(e.createTime).getTime()>u||a&&!e.updateTime&&(new Date).getTime()-new Date(e.updateTime).getTime()>a||s.length>0&&l.indexOf(s,e.createById)<0||c.length>0&&!e.updateById&&l.indexOf(c,e.updateById)<0)}),n.hideNodes(t)}},e.prototype.resetFilters=function(){this.queryModel=l.cloneDeep(this._queryModel),this.createUsers=[],this.updateUsers=[],this.query()},Object.defineProperty(e.prototype,"disabledV",{get:function(){return this._disabledV},set:function(e){this._disabledV=e,this.disabled="1"===this._disabledV},enumerable:!0,configurable:!0}),e.prototype.refreshCreateBy=function(e){this.queryModel.createUsers=e,this.query()},e.prototype.refreshUpdateBy=function(e){this.queryModel.updateUsers=e,this.query()},e.prototype.itemsToString=function(e){return void 0===e&&(e=[]),e.map(function(e){return e.text}).join(",")},e.prototype.validFilter=function(e){var n=[];for(var t in e)e[t]&&n.push(t);return n},e.prototype.changeProject=function(e){this.caseProjectId=e,this.loadData()},e.ctorParameters=function(){return[{type:o.b},{type:r.e},{type:u.a},{type:a.a},{type:s.a}]},e}()},"2tNT":function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){}return e.genMsg=function(e,n,t){if(e){var l=[];for(var r in e.controls){var o=e.controls[r];if(o&&o.dirty&&!o.valid){var i=n[r];for(var u in o.errors)console.log("***",u,o),i&&l.push(i[u])}}for(var a in t){var s=t[a];e.errors&&e.errors[s]&&l.push(n[s])}return l}},e}()},"34xi":function(e,n,t){"use strict";t.d(n,"a",function(){return a});var l=t("/oeL"),r=t("LOkn"),o=(t.n(r),t("IB2h")),i=(t.n(o),t("k0tX")),u=(t.n(i),t("j5Vj")),a=(t.n(u),function(){function e(e){this.host=e,this.elemId="mceEditor",this.changed=new l.EventEmitter}return Object.defineProperty(e.prototype,"content",{set:function(e){this.contentModel=e||""},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this,n=this;this.sel="textarea#"+this.elemId,$(this.sel)&&tinymce.init({document_base_url:"assets/vendor/tinymce",selector:n.sel,plugins:["link","table"],skin_url:"skins/lightgray",language:"zh_CN",language_url:"assets/vendor/tinymce/langs/zh_CN.js",setup:function(n){n.on("change",function(){e.changed.emit(n.getContent())})},height:n.height}).then(function(e){n.updateContent()})},e.prototype.ngOnChanges=function(){this.updateContent()},e.prototype.ngOnDestroy=function(){console.log("tinymce ngOnDestroy"),$(this.sel)&&tinymce.get(this.elemId)&&tinymce.get(this.elemId).remove()},e.prototype.updateContent=function(){this.contentModel=this.contentModel?this.contentModel:"";var e=tinymce.get(this.elemId);e&&e.setContent(this.contentModel)},e.ctorParameters=function(){return[{type:l.ElementRef}]},e}())},"3Bfg":function(e,n,t){"use strict";var l=t("/oeL"),r=t("v1Uf"),o=t("fAab"),i=t("bm2B"),u=t("qbdv"),a=t("RCrH"),s=t("KBuQ"),c=t("ZV8k"),d=t("BkNc"),f=t("C8VA"),p=t("Q0LZ"),h=t("g51S"),g=t("JNkf");t.d(n,"a",function(){return x});var m=[[".issue-edit{margin:5px}.issue-edit form{width:100%}.issue-edit .elements{padding-top:15px}.issue-edit .elements .element{float:left;width:50%}.issue-edit .elements .element.full-line{width:100%}"]],v=l["\u0275crt"]({encapsulation:2,styles:m,data:{}});function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","element"]],[[2,"full-line",null]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"issue-field-edit",[],null,null,null,r.b,r.a)),l["\u0275did"](57344,null,0,o.a,[],{model:[0,"model"],elem:[1,"elem"],issuePropMap:[2,"issuePropMap"],form:[3,"form"],validateMsg:[4,"validateMsg"]},null),(e()(),l["\u0275ted"](null,["\n        "]))],function(e,n){var t=n.component;e(n,3,0,t.issue,n.context.$implicit,t.issuePropMap,t.form,t.validateMsg)},function(e,n){e(n,0,0,n.context.$implicit.fullLine)})}function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","validate-error"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n            "]))],null,function(e,n){e(n,3,0,n.context.$implicit)})}function C(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,42,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,39,"form",[["class","my-validate-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var r=!0;"submit"===n&&(r=!1!==l["\u0275nov"](e,4).onSubmit(t)&&r);"reset"===n&&(r=!1!==l["\u0275nov"](e,4).onReset()&&r);return r},null,null)),l["\u0275did"](8192,null,0,i.y,[],null,null),l["\u0275did"](270336,null,0,i.h,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](1024,null,i.c,null,[i.h]),l["\u0275did"](8192,null,0,i.o,[i.c],null,null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","form-group row elements"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,b)),l["\u0275did"](401408,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.update()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u4fdd\u5b58"])),(e()(),l["\u0275ted"](null,["\n          \xa0\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u53d6\u6d88"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","validate-errors"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275and"](8388608,null,null,1,null,y)),l["\u0275did"](401408,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){var t=n.component;e(n,4,0,t.form),e(n,11,0,t.page.elements),e(n,37,0,t.formErrors)},function(e,n){var t=n.component;e(n,2,0,l["\u0275nov"](n,6).ngClassUntouched,l["\u0275nov"](n,6).ngClassTouched,l["\u0275nov"](n,6).ngClassPristine,l["\u0275nov"](n,6).ngClassDirty,l["\u0275nov"](n,6).ngClassValid,l["\u0275nov"](n,6).ngClassInvalid,l["\u0275nov"](n,6).ngClassPending),e(n,20,0,!t.form.valid)})}function w(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,27,"div",[["class","issue-edit container-fluid"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,18,"div",[["class","list-toolbar col-xl-12"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u7f16\u8f91\u95ee\u9898"])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[["class","filter"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,3,"button",[["class","btn btn-secondary btn-with-icon btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-plus-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u5173\u95ed\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,C)),l["\u0275did"](8192,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){e(n,26,0,n.component.form)},null)}var x=l["\u0275ccf"]("issue-edit",a.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"issue-edit",[],null,null,null,w,v)),l["\u0275did"](2220032,null,0,a.a,[s.a,c.a,d.a,f.a,i.e,p.c,h.a,g.a],null,null)],function(e,n){e(n,1,0)},null)},{},{},[])},"3SRs":function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("9GFz"),r=function(){function e(e){this._reqService=e,this._apiTestBase="client/report_test/",this._apiIssueBase="client/report_issue/"}return e.prototype.orgTestReport=function(e){return this._reqService.post(this._apiTestBase+"orgTest",{id:e})},e.prototype.orgIssueReport=function(e){return this._reqService.post(this._apiIssueBase+"orgIssue",{id:e})},e.prototype.projectTestReport=function(e){return this._reqService.post(this._apiTestBase+"projectTest",{projectId:e})},e.prototype.projectIssueReport=function(e){return this._reqService.post(this._apiIssueBase+"projectIssue",{projectId:e})},e.prototype.planReport=function(e){return this._reqService.post(this._apiTestBase+"plan",{planId:e})},e.ctorParameters=function(){return[{type:l.a}]},e}()},"3Zj8":function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l,r=t("UX2Y"),o=this&&this.__extends||(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}l(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=function(e){function n(){return e.call(this)||this}return o(n,e),n.ctorParameters=function(){return[]},n}(r.a)},"4FK7":function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){}return e.ctorParameters=function(){return[]},e}()},"4ITx":function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){this.showTitle=!1,this._data={}}return Object.defineProperty(e.prototype,"data",{set:function(e){e&&(this._data=e,this.genChart())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.genChart=function(){this.chartOption={title:{text:"\u6d4b\u8bd5\u8bbe\u8ba1",show:this.showTitle,top:"top",left:"center",textStyle:{fontSize:"15"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}"},legend:{right:"0%",width:"15%",data:["\u65b0\u589e\u7528\u4f8b\u6570","\u5408\u8ba1\u7528\u4f8b\u6570"]},grid:{top:"15%",right:"1%",bottom:"5%",left:"1%",containLabel:!0},color:["#c23531","#2f4554"],xAxis:{type:"category",name:"",splitLine:{show:!1},data:this._data.xList,axisLabel:{interval:0,rotate:45,margin:20}},yAxis:[{name:"\u65b0\u589e\u6570",type:"value"},{name:"\u7d2f\u8ba1\u6570",type:"value"}],series:[{name:"\u65b0\u589e\u6570",type:"bar",yAxisIndex:0,data:this._data.numbList},{name:"\u7d2f\u8ba1\u6570",type:"line",yAxisIndex:1,data:this._data.totalList}]}},e.ctorParameters=function(){return[]},e}()},"4PF7":function(e,n,t){"use strict";n.e=function(e){return"string"===typeof e},n.d=function(e){return void 0!==e&&null!==e},n.c=function(e){return"function"===typeof e},n.b=function(e){var n=new HTMLImageElement;return n.src=e,n},n.a=function(e){return e()}},"4aHV":function(e,n,t){"use strict";t.d(n,"a",function(){return C});var l=t("/oeL"),r=t("BkNc"),o=t("bm2B"),i=t("56Rf"),u=t("ZV8k"),a=t("KBuQ"),s=t("JNkf"),c=t("g51S"),d=t("tlIo"),f=t("lDqL"),p=t("9CK1"),h=t("MMCg"),g=t("JmKc"),m=t("V1EX"),v=t("6Vsg"),b=t("CTdQ"),y=t("ZrEx"),C=function(){function e(e,n,t,r,o,i,u,a,s,c,d,f,p,h,g){this._routeService=e,this._route=n,this._state=t,this.fb=r,this.toastyService=o,this.privilegeService=i,this.issueService=u,this.issueOptService=a,this.issueWatchService=s,this.issueViewPopupService=c,this.issueEditPopupService=d,this.issueWatchPopupService=f,this.issueAssignPopupService=p,this.issueTagPopupService=h,this.issueLinkPopupService=g,this.eventCode="IssuePage",this.tab="info",this.viewOnly=!1,this.page={},this.issueTransMap={},this.optEvent=new l.EventEmitter,this._issue={},this.priv={},this.issueTransMap=y.a.ISU_TRANS_MAP,this.priv=this.privilegeService.issuePrivilege(),this.viewOnly=this.viewOnly||!this.priv["issue-maintain"],this.buildForm()}return Object.defineProperty(e.prototype,"issue",{get:function(){return this._issue},set:function(e){this._issue=e,this.dealwithLinks()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.saveField=function(e){var n=this;this.issueService.updateField(this._issue.id,e.data).subscribe(function(t){1==t.code&&(e.deferred.resolve(),n.optEvent.emit({act:"updateField"}))})},e.prototype.statusTran=function(e){var n=this;this.issueOptService.statusTran(this._issue.id,e.dictStatusId,e.dictStatusName).subscribe(function(e){1==e.code&&n.optEvent.emit({act:"tran"})})},e.prototype.tabChange=function(e){this.tab=e.nextId},e.prototype.edit=function(){var e=this;this.issueEditModal=this.issueEditPopupService.genPage(this._issue.id),this.issueEditModal.result.then(function(n){console.log("result",n),n.success&&e.optEvent.emit(n)},function(e){console.log("reason",e)})},e.prototype.assign=function(){var e=this;this.issueAssignModal=this.issueAssignPopupService.genPage(this._issue),this.issueAssignModal.result.then(function(n){console.log("result",n),n.success&&e.optEvent.emit(n)},function(e){console.log("reason",e)})},e.prototype.watch=function(){var e=this;this.issueWatchService.watch(this._issue.id,!this._issue.watched).subscribe(function(n){1==n.code&&(e._issue.watched=!e._issue.watched,e.optEvent.emit({act:"watch"}))})},e.prototype.watchList=function(){var e=this;this.issueWatchModal=this.issueWatchPopupService.genPage(this._issue),this.issueWatchModal.result.then(function(n){console.log("result",n),n.success&&e.optEvent.emit(n)},function(n){console.log("reason",n),n.success&&e.optEvent.emit({act:"watch"})})},e.prototype.tag=function(){var e=this;this.issueTagModal=this.issueTagPopupService.genPage(this._issue),this.issueTagModal.result.then(function(n){console.log("result",n),n.success&&e.optEvent.emit(n)},function(e){console.log("reason",e)})},e.prototype.link=function(){var e=this;this.issueLinkModal=this.issueLinkPopupService.genPage(this._issue),this.issueLinkModal.result.then(function(n){console.log("result",n),n.success&&e.optEvent.emit(n)},function(e){console.log("reason",e)})},e.prototype.showDeleteModal=function(){this.deleteModalWrapper.showModal()},e.prototype.delete=function(){var e=this;this.issueService.delete(this._issue.id).subscribe(function(n){1==n.code&&(e.deleteModalWrapper.closeModal(),e.optEvent.emit({act:"delete"}))})},e.prototype.uploadedEvent=function(e){var n=this;this.issueOptService.saveAttachment(this._issue.id,e.data.name,e.data.path).subscribe(function(t){n._issue.attachments=t.attachments,n._issue.histories=t.histories,e.deferred.resolve()})},e.prototype.removeAttachment=function(e){var n=this;this.issueOptService.removeAttachment(this._issue.id,e.id).subscribe(function(e){n._issue.attachments=e.attachments,n._issue.histories=e.histories})},e.prototype.dealwithLinks=function(){if(this._issue.links){var e=-1;this._issue.links.forEach(function(n){e==n.reasonId?n.reasonName="":e=n.reasonId})}},e.prototype.viewIssue=function(e){this.issueViewModal=this.issueViewPopupService.genPage(e.id)},e.prototype.ngOnDestroy=function(){},e.prototype.buildForm=function(){this.form=this.fb.group({})},e.ctorParameters=function(){return[{type:a.a},{type:r.a},{type:u.a},{type:o.e},{type:i.b},{type:s.a},{type:c.a},{type:d.a},{type:f.a},{type:b.a},{type:p.a},{type:g.a},{type:h.a},{type:m.a},{type:v.a}]},e}()},"4ito":function(e,n,t){"use strict";n.c=function(){return new o},t.d(n,"a",function(){return o}),n.d=function(e){return new i(e)},t.d(n,"b",function(){return i});var l=t("4oBK"),r=t("4PF7");var o=function(){return function(){this.allowedDropZones=[]}}();var i=function(){function e(e){this._config=e}return Object.defineProperty(e.prototype,"elem",{get:function(){return this._elem},enumerable:!0,configurable:!0}),e.prototype.markSortable=function(e){Object(r.d)(this._elem)&&this._elem.classList.remove(this._config.onSortableDragClass),Object(r.d)(e)&&(this._elem=e,this._elem.classList.add(this._config.onSortableDragClass))},e.ctorParameters=function(){return[{type:l.a}]},e}()},"4oBK":function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("4PF7"),r=function(){return function(e){this.name=e}}();r.COPY=new r("copy"),r.LINK=new r("link"),r.MOVE=new r("move"),r.NONE=new r("none");var o=function(){return function(){this.onDragStartClass="dnd-drag-start",this.onDragEnterClass="dnd-drag-enter",this.onDragOverClass="dnd-drag-over",this.onSortableDragClass="dnd-sortable-drag",this.dragEffect=r.MOVE,this.dropEffect=r.MOVE,this.dragCursor="move",this.defaultCursor="pointer"}}()},"56Rf":function(e,n,t){"use strict";t.d(n,"a",function(){return c});var l=t("/oeL"),r=t("qbdv"),o=t("Q0LZ");t.d(n,"b",function(){return o.c});var i=t("ExPf"),u=t("G/1C"),a=t("Fybs"),s=[o.a,{provide:o.c,useFactory:o.d,deps:[o.a]}],c=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:s}},e.decorators=[{type:l.NgModule,args:[{imports:[r.CommonModule],declarations:[u.a,i.a,a.a],exports:[u.a,i.a],providers:s}]}],e.ctorParameters=function(){return[]},e}()},"57f0":function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("9GFz"),r=t("KBuQ"),o=function(){function e(e,n){this._reqService=e,this._routeService=n,this._apiBase="client/issue_search/"}return e.prototype.idAndTitleSearch=function(e,n){return this._reqService.post(this._apiBase+"idAndTitleSearch",{text:e,exceptIds:n})},e.ctorParameters=function(){return[{type:l.a},{type:r.a}]},e}()},"5maJ":function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){return function(){}}()},"5uVf":function(e,n,t){"use strict";var l=t("fKez"),r=function(){function e(e,n,t){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=e,this.some=n,this.options=t,this.file=new l.FileLikeObject(n),this._file=n,e.options&&(this.method=e.options.method||"POST",this.alias=e.options.itemAlias||"file"),this.url=e.options.url}return e.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}},e.prototype.cancel=function(){this.uploader.cancelItem(this)},e.prototype.remove=function(){this.uploader.removeFromQueue(this)},e.prototype.onBeforeUpload=function(){},e.prototype.onBuildForm=function(e){return{form:e}},e.prototype.onProgress=function(e){return{progress:e}},e.prototype.onSuccess=function(e,n,t){return{response:e,status:n,headers:t}},e.prototype.onError=function(e,n,t){return{response:e,status:n,headers:t}},e.prototype.onCancel=function(e,n,t){return{response:e,status:n,headers:t}},e.prototype.onComplete=function(e,n,t){return{response:e,status:n,headers:t}},e.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},e.prototype._onBuildForm=function(e){this.onBuildForm(e)},e.prototype._onProgress=function(e){this.progress=e,this.onProgress(e)},e.prototype._onSuccess=function(e,n,t){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(e,n,t)},e.prototype._onError=function(e,n,t){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(e,n,t)},e.prototype._onCancel=function(e,n,t){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(e,n,t)},e.prototype._onComplete=function(e,n,t){this.onComplete(e,n,t),this.uploader.options.removeAfterUpload&&this.remove()},e.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},e}();n.FileItem=r},"6+Fs":function(e,n){!function(){"use strict";var e,n,t,l,r,o=tinymce.util.Tools.resolve("tinymce.ThemeManager"),i=tinymce.util.Tools.resolve("tinymce.EditorManager"),u=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(e){return!1!==s(e)},s=function(e){return e.getParam("menubar")},c=function(e){return e.getParam("toolbar_items_size")},d=function(e){return e.getParam("menu")},f=function(e){return!1===e.settings.skin},p=function(e){var n=e.getParam("resize","vertical");return!1===n?"none":"both"===n?"both":"vertical"},h=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),g=tinymce.util.Tools.resolve("tinymce.ui.Factory"),m=tinymce.util.Tools.resolve("tinymce.util.I18n"),v=function(e){return e.fire("SkinLoaded")},b=function(e){return e.fire("ResizeEditor")},y=function(e){return e.fire("BeforeRenderUI")},C=function(e,n){return function(){var t=e.find(n)[0];t&&t.focus(!0)}},w=function(e,n){e.shortcuts.add("Alt+F9","",C(n,"menubar")),e.shortcuts.add("Alt+F10,F10","",C(n,"toolbar")),e.shortcuts.add("Alt+F11","",C(n,"elementpath")),n.on("cancel",function(){e.focus()})},x=tinymce.util.Tools.resolve("tinymce.geom.Rect"),_=tinymce.util.Tools.resolve("tinymce.util.Delay"),A=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]},k=function(e){return function(){return e}},O=k(!1),S=k(!0),E=function(){return R},R=(l={fold:function(e,n){return e()},is:O,isSome:O,isNone:S,getOr:t=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){},or:t,orThunk:n,map:E,ap:E,each:function(){},bind:E,flatten:E,exists:O,forall:S,filter:E,equals:e=function(e){return e.isNone()},equals_:e,toArray:function(){return[]},toString:k("none()")},Object.freeze&&Object.freeze(l),l),P=function(e){var n=function(){return e},t=function(){return r},l=function(n){return n(e)},r={fold:function(n,t){return t(e)},is:function(n){return e===n},isSome:S,isNone:O,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:t,orThunk:t,map:function(n){return P(n(e))},ap:function(n){return n.fold(E,function(n){return P(n(e))})},each:function(n){n(e)},bind:l,flatten:n,exists:l,forall:l,filter:function(n){return n(e)?r:R},equals:function(n){return n.is(e)},equals_:function(n,t){return n.fold(O,function(n){return t(e,n)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return r},M={some:P,none:E,from:function(e){return null===e||void 0===e?R:P(e)}},I=function(e){return e?e.getRoot().uiContainer:null},D={getUiContainerDelta:function(e){var n=I(e);if(n&&"static"!==h.DOM.getStyle(n,"position",!0)){var t=h.DOM.getPos(n),l=n.scrollLeft-t.x,r=n.scrollTop-t.y;return M.some({x:l,y:r})}return M.none()},setUiContainer:function(e,n){var t=h.DOM.select(e.settings.ui_container)[0];n.getRoot().uiContainer=t},getUiContainer:I,inheritUiContainer:function(e,n){return n.uiContainer=I(e)}},T=function(e,n,t){var l,r=[];if(n)return u.each(n.split(/[ ,]/),function(n){var o,i=function(){var t=e.selection;n.settings.stateSelector&&t.selectorChanged(n.settings.stateSelector,function(e){n.active(e)},!0),n.settings.disabledStateSelector&&t.selectorChanged(n.settings.disabledStateSelector,function(e){n.disabled(e)})};"|"===n?l=null:(l||(l={type:"buttongroup",items:[]},r.push(l)),e.buttons[n]&&(o=n,"function"===typeof(n=e.buttons[o])&&(n=n()),n.type=n.type||"button",n.size=t,n=g.create(n),l.items.push(n),e.initialized?i():e.on("init",i)))}),{type:"toolbar",layout:"flow",items:r}},N=T,B=function(e,n){var t=[];if(u.each(function(e){var n=e.getParam("toolbar");return!1===n?[]:u.isArray(n)?u.grep(n,function(e){return e.length>0}):function(e,n){for(var t=[],l=1;l<10;l++){var r=e["toolbar"+l];if(!r)break;t.push(r)}var o=e.toolbar?[e.toolbar]:[n];return t.length>0?t:o}(e.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image")}(e),function(l){var r;(r=l)&&t.push(T(e,r,n))}),t.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:t}},F=h.DOM,L=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},H=function(e,n){e.moveTo(n.left,n.top)},z=function(e,n,t,l,r,o){return o=L({x:n,y:t,w:o.w,h:o.h}),e&&(o=e({elementRect:L(l),contentAreaRect:L(r),panelRect:o})),o},V=function(e){var n,t=function(){return e.contextToolbars||[]},l=function(n,t){var l,r,o,i,a,s,c,d=function(e){return e.getParam("inline_toolbar_position_handler")}(e);if(!e.removed)if(n&&n.toolbar.panel){var f,p,h,g;c=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],a=n.toolbar.panel,t&&a.show(),f=n.element,p=F.getPos(e.getContentAreaContainer()),h=e.dom.getRect(f),"BODY"===(g=e.dom.getRoot()).nodeName&&(h.x-=g.ownerDocument.documentElement.scrollLeft||g.scrollLeft,h.y-=g.ownerDocument.documentElement.scrollTop||g.scrollTop),h.x+=p.x,h.y+=p.y,o=h,r=F.getRect(a.getEl()),i=F.getRect(e.getContentAreaContainer()||e.getBody());var m=D.getUiContainerDelta(a).getOr({x:0,y:0});if(o.x+=m.x,o.y+=m.y,r.x+=m.x,r.y+=m.y,i.x+=m.x,i.y+=m.y,"inline"!==F.getStyle(n.element,"display",!0)){var v=n.element.getBoundingClientRect();o.w=v.width,o.h=v.height}e.inline||(i.w=e.getDoc().documentElement.offsetWidth),e.selection.controlSelection.isResizable(n.element)&&o.w<25&&(o=x.inflate(o,0,8)),l=x.findBestRelativePosition(r,o,i,c),o=x.clamp(o,i),l?(s=x.relativePosition(r,o,l),H(a,z(d,s.x,s.y,o,i,r))):(i.h+=r.h,(o=x.intersect(i,o))?(l=x.findBestRelativePosition(r,o,i,["bc-tc","bl-tl","br-tr"]))?(s=x.relativePosition(r,o,l),H(a,z(d,s.x,s.y,o,i,r))):H(a,z(d,o.x,o.y,o,i,r)):a.hide()),function(e,n,t){n=n?n.substr(0,2):"",u.each({t:"down",b:"up"},function(l,r){e.classes.toggle("arrow-"+l,t(r,n.substr(0,1)))}),u.each({l:"left",r:"right"},function(l,r){e.classes.toggle("arrow-"+l,t(r,n.substr(1,1)))})}(a,l,function(e,n){return e===n})}else!function(e){u.each(e.contextToolbars,function(e){e.panel&&e.panel.hide()})}(e)},r=function(n){return function(){_.requestAnimationFrame(function(){e.selection&&l(a(e.selection.getNode()),n)})}},o=function(t){var o;if(t.toolbar.panel)return t.toolbar.panel.show(),void l(t);o=g.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:N(e,t.toolbar.items),oncancel:function(){e.focus()}}),D.setUiContainer(e,o),function(t){if(!n){var l=r(!0),o=D.getUiContainer(t);n=e.selection.getScrollContainer()||e.getWin(),F.bind(n,"scroll",l),F.bind(o,"scroll",l),e.on("remove",function(){F.unbind(n,"scroll",l),F.unbind(o,"scroll",l)})}}(o),t.toolbar.panel=o,o.renderTo().reflow(),l(t)},i=function(){u.each(t(),function(e){e.panel&&e.panel.hide()})},a=function(n){var l,r,o,i=t();for(l=(o=e.$(n).parents().add(n)).length-1;l>=0;l--)for(r=i.length-1;r>=0;r--)if(i[r].predicate(o[l]))return{toolbar:i[r],element:o[l]};return null};e.on("click keyup setContent ObjectResized",function(n){("setcontent"!==n.type||n.selection)&&_.setEditorTimeout(e,function(){var n;(n=a(e.selection.getNode()))?(i(),o(n)):i()})}),e.on("blur hide contextmenu",i),e.on("ObjectResizeStart",function(){var n=a(e.selection.getNode());n&&n.toolbar.panel&&n.toolbar.panel.hide()}),e.on("ResizeEditor ResizeWindow",r(!0)),e.on("nodeChange",r(!1)),e.on("remove",function(){u.each(t(),function(e){e.panel&&e.panel.remove()}),e.contextToolbars={}}),e.shortcuts.add("ctrl+F9","",function(){var n=a(e.selection.getNode());n&&n.toolbar.panel&&n.toolbar.panel.items()[0].focus()})},q=function(e){return function(n){return function(e){if(null===e)return"null";var n=typeof e;return"object"===n&&Array.prototype.isPrototypeOf(e)?"array":"object"===n&&String.prototype.isPrototypeOf(e)?"string":n}(n)===e}},j=q("function"),W=q("number"),U=void 0===(r=Array.prototype.indexOf)?function(e,n){return J(e,n)}:function(e,n){return r.call(e,n)},Q=function(e,n){return Z(e,n).isSome()},G=function(e,n){for(var t=e.length,l=new Array(t),r=0;r<t;r++){var o=e[r];l[r]=n(o,r,e)}return l},K=function(e,n){for(var t=0,l=e.length;t<l;t++)n(e[t],t,e)},Y=function(e,n){for(var t=[],l=0,r=e.length;l<r;l++){var o=e[l];n(o,l,e)&&t.push(o)}return t},Z=function(e,n){for(var t=0,l=e.length;t<l;t++)if(n(e[t],t,e))return M.some(t);return M.none()},J=function(e,n){for(var t=0,l=e.length;t<l;++t)if(e[t]===n)return t;return-1},X=Array.prototype.push,$=(Array.prototype.slice,j(Array.from)&&Array.from,{file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code"},table:{title:"Table"},help:{title:"Help"}}),ee=function(e,n){return"|"===e?{name:"|",item:{text:"|"}}:n?{name:e,item:n}:null},ne=function(e){return e&&"|"===e.item.text},te=function(e,n,t,l){var r,o,i,a;return n?(o=n[l],a=!0):o=$[l],o&&(r={text:o.title},i=[],u.each((o.items||"").split(/[ ,]/),function(n){var t=ee(n,e[n]);t&&i.push(t)}),a||u.each(e,function(e,n){e.context!==l||function(e,n){return Z(e,function(e){return e.name===n}).isSome()}(i,n)||("before"===e.separator&&i.push({name:"|",item:{text:"|"}}),e.prependToContext?i.unshift(ee(n,e)):i.push(ee(n,e)),"after"===e.separator&&i.push({name:"|",item:{text:"|"}}))}),r.menu=G(function(e,n){var t=Y(e,function(e){return!1===n.hasOwnProperty(e.name)}),l=Y(t,function(e,n,t){return!ne(e)||!ne(t[n-1])});return Y(l,function(e,n,t){return!ne(e)||n>0&&n<t.length-1})}(i,t),function(e){return e.item}),!r.menu.length)?null:r},le=function(e){for(var n=[],t=function(e){var n,t=[],l=d(e);if(l)for(n in l)t.push(n);else for(n in $)t.push(n);return t}(e),l=u.makeMap(function(e){return e.getParam("removed_menuitems","")}(e).split(/[ ,]/)),r=s(e),o="string"===typeof r?r.split(/[ ,]/):t,i=0;i<o.length;i++){var a=o[i],c=te(e.menuItems,d(e),l,a);c&&n.push(c)}return n},re=h.DOM,oe=function(e){return{width:e.clientWidth,height:e.clientHeight}},ie=function(e,n,t){var l,r,o,i;l=e.getContainer(),r=e.getContentAreaContainer().firstChild,o=oe(l),i=oe(r),null!==n&&(n=Math.max(function(e){return e.getParam("min_width",100,"number")}(e),n),n=Math.min(function(e){return e.getParam("max_width",65535,"number")}(e),n),re.setStyle(l,"width",n+(o.width-i.width)),re.setStyle(r,"width",n)),t=Math.max(function(e){return e.getParam("min_height",100,"number")}(e),t),t=Math.min(function(e){return e.getParam("max_height",65535,"number")}(e),t),re.setStyle(r,"height",t),b(e)},ue=ie,ae=function(e,n,t){var l=e.getContentAreaContainer();ie(e,l.clientWidth+n,l.clientHeight+t)},se=tinymce.util.Tools.resolve("tinymce.Env"),ce=function(e,n,t){var l,r=e.settings[t];r&&r((l=n.getEl("body"),{element:function(){return l}}))},de=function(e,n,t){return function(l){var r=l.control,o=r.parents().filter("panel")[0],i=o.find("#"+n)[0],a=function(e,n){return u.grep(e,function(e){return e.name===n})[0]}(t,n);!function(e,n,t){u.each(t,function(t){var l=n.items().filter("#"+t.name)[0];l&&l.visible()&&t.name!==e&&(ce(t,l,"onhide"),l.visible(!1))})}(n,o,t),r.parent().items().each(function(e){e.active(!1)}),i&&i.visible()?(ce(a,i,"onhide"),i.hide(),r.active(!1)):(i?(i.show(),ce(a,i,"onshow")):(i=g.create({type:"container",name:n,layout:"stack",classes:"sidebar-panel",html:""}),o.prepend(i),ce(a,i,"onrender"),ce(a,i,"onshow")),r.active(!0)),b(e)}},fe=function(e){return!(se.ie&&!(se.ie>=11)||!e.sidebars)&&e.sidebars.length>0},pe=function(e){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:u.map(e.sidebars,function(n){var t=n.settings;return{type:"button",icon:t.icon,image:t.image,tooltip:t.tooltip,onclick:de(e,n.name,e.sidebars)}})}]}},he=function(e){var n=function(){e._skinLoaded=!0,v(e)};return function(){e.initialized?n():e.on("init",n)}},ge=h.DOM,me=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},ve=function(e,n,t){var l,r,o;if(!1===f(e)&&t.skinUiCss?ge.styleSheetLoader.load(t.skinUiCss,he(e)):he(e)(),l=n.panel=g.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===a(e)?null:{type:"menubar",border:"0 0 1 0",items:le(e)},B(e,c(e))]},fe(e)?function(e){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[me("0"),pe(e)]}}(e):me("1 0 0 0")]}),D.setUiContainer(e,l),"none"!==p(e)&&(r={type:"resizehandle",direction:p(e),onResizeStart:function(){var n=e.getContentAreaContainer().firstChild;o={width:n.clientWidth,height:n.clientHeight}},onResize:function(n){"both"===p(e)?ue(e,o.width+n.deltaX,o.height+n.deltaY):ue(e,null,o.height+n.deltaY)}}),function(e){return e.getParam("statusbar",!0,"boolean")}(e)){var i=m.translate(["Powered by {0}",'<a href="https://www.tinymce.com/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">tinymce</a>']),u=function(e){return e.getParam("branding",!0,"boolean")}(e)?{type:"label",classes:"branding",html:" "+i}:null;l.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},r,u]})}return y(e),e.on("SwitchMode",function(e){return function(n){e.find("*").disabled("readonly"===n.mode)}}(l)),l.renderBefore(t.targetNode).reflow(),function(e){return e.getParam("readonly",!1,"boolean")}(e)&&e.setMode("readonly"),t.width&&ge.setStyle(l.getEl(),"width",t.width),e.on("remove",function(){l.remove(),l=null}),w(e,l),V(e),{iframeContainer:l.find("#iframe")[0].getEl(),editorContainer:l.getEl()}},be=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),ye=0,Ce={id:function(){return"mceu_"+ye++},create:function(e,n,t){var l=document.createElement(e);return h.DOM.setAttribs(l,n),"string"===typeof t?l.innerHTML=t:u.each(t,function(e){e.nodeType&&l.appendChild(e)}),l},createFragment:function(e){return h.DOM.createFragment(e)},getWindowSize:function(){return h.DOM.getViewPort()},getSize:function(e){var n,t;if(e.getBoundingClientRect){var l=e.getBoundingClientRect();n=Math.max(l.width||l.right-l.left,e.offsetWidth),t=Math.max(l.height||l.bottom-l.bottom,e.offsetHeight)}else n=e.offsetWidth,t=e.offsetHeight;return{width:n,height:t}},getPos:function(e,n){return h.DOM.getPos(e,n||Ce.getContainer())},getContainer:function(){return se.container?se.container:document.body},getViewPort:function(e){return h.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,n){return h.DOM.addClass(e,n)},removeClass:function(e,n){return h.DOM.removeClass(e,n)},hasClass:function(e,n){return h.DOM.hasClass(e,n)},toggleClass:function(e,n,t){return h.DOM.toggleClass(e,n,t)},css:function(e,n,t){return h.DOM.setStyle(e,n,t)},getRuntimeStyle:function(e,n){return h.DOM.getStyle(e,n,!0)},on:function(e,n,t,l){return h.DOM.bind(e,n,t,l)},off:function(e,n,t){return h.DOM.unbind(e,n,t)},fire:function(e,n,t){return h.DOM.fire(e,n,t)},innerHtml:function(e,n){h.DOM.setHTML(e,n)}},we=function(e){return"static"===Ce.getRuntimeStyle(e,"position")},xe=function(e){return e.state.get("fixed")};function _e(e,n,t){var l,r,o,i,u,a,s,c,d,f;return d=Ae(),o=(r=Ce.getPos(n,D.getUiContainer(e))).x,i=r.y,xe(e)&&we(document.body)&&(o-=d.x,i-=d.y),l=e.getEl(),u=(f=Ce.getSize(l)).width,a=f.height,s=(f=Ce.getSize(n)).width,c=f.height,"b"===(t=(t||"").split(""))[0]&&(i+=c),"r"===t[1]&&(o+=s),"c"===t[0]&&(i+=Math.round(c/2)),"c"===t[1]&&(o+=Math.round(s/2)),"b"===t[3]&&(i-=a),"r"===t[4]&&(o-=u),"c"===t[3]&&(i-=Math.round(a/2)),"c"===t[4]&&(o-=Math.round(u/2)),{x:o,y:i,w:u,h:a}}var Ae=function(){var e=window;return{x:Math.max(e.pageXOffset,document.body.scrollLeft,document.documentElement.scrollLeft),y:Math.max(e.pageYOffset,document.body.scrollTop,document.documentElement.scrollTop),w:e.innerWidth||document.documentElement.clientWidth,h:e.innerHeight||document.documentElement.clientHeight}},ke=function(e){var n=D.getUiContainer(e);return n&&!xe(e)?function(e){return{x:0,y:0,w:e.scrollWidth-1,h:e.scrollHeight-1}}(n):Ae()},Oe={testMoveRel:function(e,n){for(var t=ke(this),l=0;l<n.length;l++){var r=_e(this,e,n[l]);if(xe(this)){if(r.x>0&&r.x+r.w<t.w&&r.y>0&&r.y+r.h<t.h)return n[l]}else if(r.x>t.x&&r.x+r.w<t.w+t.x&&r.y>t.y&&r.y+r.h<t.h+t.y)return n[l]}return n[0]},moveRel:function(e,n){"string"!==typeof n&&(n=this.testMoveRel(e,n));var t=_e(this,e,n);return this.moveTo(t.x,t.y)},moveBy:function(e,n){var t=this.layoutRect();return this.moveTo(t.x+e,t.y+n),this},moveTo:function(e,n){function t(e,n,t){return e<0?0:e+t>n&&(e=n-t)<0?0:e}if(this.settings.constrainToViewport){var l=ke(this),r=this.layoutRect();e=t(e,l.w+l.x,r.w),n=t(n,l.h+l.y,r.h)}var o=D.getUiContainer(this);return o&&we(o)&&!xe(this)&&(e-=o.scrollLeft,n-=o.scrollTop),o&&(e+=1,n+=1),this.state.get("rendered")?this.layoutRect({x:e,y:n}).repaint():(this.settings.x=e,this.settings.y=n),this.fire("move",{x:e,y:n}),this}},Se=tinymce.util.Tools.resolve("tinymce.util.Class"),Ee=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),Re=function(e){var n;if(e)return"number"===typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(n=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===n?(e[2]=e[0],e[3]=e[1]):3===n&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},Pe=function(e,n){function t(n){var t=parseFloat(function(n){var t=e.ownerDocument.defaultView;if(t){var l=t.getComputedStyle(e,null);return l?(n=n.replace(/[A-Z]/g,function(e){return"-"+e}),l.getPropertyValue(n)):null}return e.currentStyle[n]}(n));return isNaN(t)?0:t}return{top:t(n+"TopWidth"),right:t(n+"RightWidth"),bottom:t(n+"BottomWidth"),left:t(n+"LeftWidth")}};function Me(){}function Ie(e){this.cls=[],this.cls._map={},this.onchange=e||Me,this.prefix=""}u.extend(Ie.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){var n=void 0;for(n=0;n<this.cls.length&&this.cls[n]!==e;n++);this.cls.splice(n,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,n){var t=this.contains(e);return t!==n&&(t?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),Ie.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var n=0;n<this.cls.length;n++)n>0&&(e+=" "),e+=this.prefix+this.cls[n];return e};var De,Te,Ne,Be=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,Fe=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,Le=/^\s*|\s*$/g,He=Se.extend({init:function(e){var n=this.match;function t(e,t,r){var o;function i(e){e&&t.push(e)}return i(function(e){if(e)return e=e.toLowerCase(),function(n){return"*"===e||n.type===e}}((o=Be.exec(e.replace(Le,"")))[1])),i(function(e){if(e)return function(n){return n._name===e}}(o[2])),i(function(e){if(e)return e=e.split("."),function(n){for(var t=e.length;t--;)if(!n.classes.contains(e[t]))return!1;return!0}}(o[3])),i(function(e,n,t){if(e)return function(l){var r=l[e]?l[e]():"";return n?"="===n?r===t:"*="===n?r.indexOf(t)>=0:"~="===n?(" "+r+" ").indexOf(" "+t+" ")>=0:"!="===n?r!==t:"^="===n?0===r.indexOf(t):"$="===n&&r.substr(r.length-t.length)===t:!!t}}(o[4],o[5],o[6])),i(function(e){var t;if(e)return(e=/(?:not\((.+)\))|(.+)/i.exec(e))[1]?(t=l(e[1],[]),function(e){return!n(e,t)}):(e=e[2],function(n,t,l){return"first"===e?0===t:"last"===e?t===l-1:"even"===e?t%2===0:"odd"===e?t%2===1:!!n[e]&&n[e]()})}(o[7])),t.pseudo=!!o[7],t.direct=r,t}function l(e,n){var r,o,i,u=[];do{if(Fe.exec(""),(o=Fe.exec(e))&&(e=o[3],u.push(o[1]),o[2])){r=o[3];break}}while(o);for(r&&l(r,n),e=[],i=0;i<u.length;i++)">"!==u[i]&&e.push(t(u[i],[],">"===u[i-1]));return n.push(e),n}this._selectors=l(e,[])},match:function(e,n){var t,l,r,o,i,u,a,s,c,d,f,p,h;for(t=0,l=(n=n||this._selectors).length;t<l;t++){for(h=e,p=0,r=(o=(i=n[t]).length)-1;r>=0;r--)for(s=i[r];h;){if(s.pseudo)for(c=d=(f=h.parent().items()).length;c--&&f[c]!==h;);for(u=0,a=s.length;u<a;u++)if(!s[u](h,c,d)){u=a+1;break}if(u===a){p++;break}if(r===o-1)break;h=h.parent()}if(p===o)return!0}return!1},find:function(e){var n,t,l=[],r=this._selectors;function o(e,n,t){var r,i,u,a,s,c=n[t];for(r=0,i=e.length;r<i;r++){for(s=e[r],u=0,a=c.length;u<a;u++)if(!c[u](s,r,i)){u=a+1;break}if(u===a)t===n.length-1?l.push(s):s.items&&o(s.items(),n,t+1);else if(c.direct)return;s.items&&o(s.items(),n,t)}}if(e.items){for(n=0,t=r.length;n<t;n++)o(e.items(),r[n],0);t>1&&(l=function(e){for(var n,t=[],l=e.length;l--;)(n=e[l]).__checked||(t.push(n),n.__checked=1);for(l=t.length;l--;)delete t[l].__checked;return t}(l))}return De||(De=He.Collection),new De(l)}}),ze=Array.prototype.push,Ve=Array.prototype.slice;Ne={length:0,init:function(e){e&&this.add(e)},add:function(e){return u.isArray(e)?ze.apply(this,e):e instanceof Te?this.add(e.toArray()):ze.call(this,e),this},set:function(e){var n,t=this.length;for(this.length=0,this.add(e),n=this.length;n<t;n++)delete this[n];return this},filter:function(e){var n,t,l,r,o=[];for("string"===typeof e?(e=new He(e),r=function(n){return e.match(n)}):r=e,n=0,t=this.length;n<t;n++)r(l=this[n])&&o.push(l);return new Te(o)},slice:function(){return new Te(Ve.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(e){return u.each(this,e),this},toArray:function(){return u.toArray(this)},indexOf:function(e){for(var n=this.length;n--&&this[n]!==e;);return n},reverse:function(){return new Te(u.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,n){var t;return void 0!==n?(this.each(function(t){t[e]&&t[e](n)}),this):(t=this[0])&&t[e]?t[e]():void 0},exec:function(e){var n=u.toArray(arguments).slice(1);return this.each(function(t){t[e]&&t[e].apply(t,n)}),this},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(n){n.classes.add(e)})},removeClass:function(e){return this.each(function(n){n.classes.remove(e)})}},u.each("fire on off show hide append prepend before after reflow".split(" "),function(e){Ne[e]=function(){var n=u.toArray(arguments);return this.each(function(t){e in t&&t[e].apply(t,n)}),this}}),u.each("text name disabled active selected checked visible parent value data".split(" "),function(e){Ne[e]=function(n){return this.prop(e,n)}}),Te=Se.extend(Ne),He.Collection=Te;var qe=Te,je=function(e){this.create=e.create};je.create=function(e,n){return new je({create:function(t,l){var r,o=function(e){t.set(l,e.value)};return t.on("change:"+l,function(t){e.set(n,t.value)}),e.on("change:"+n,o),(r=t._bindings)||(r=t._bindings=[],t.on("destroy",function(){for(var e=r.length;e--;)r[e]()})),r.push(function(){e.off("change:"+n,o)}),e.get(n)}})};var We=tinymce.util.Tools.resolve("tinymce.util.Observable");function Ue(e){return e.nodeType>0}var Qe,Ge,Ke=Se.extend({Mixins:[We],init:function(e){var n,t;for(n in e=e||{})(t=e[n])instanceof je&&(e[n]=t.create(this,n));this.data=e},set:function(e,n){var t,l,r=this.data[e];if(n instanceof je&&(n=n.create(this,e)),"object"===typeof e){for(t in e)this.set(t,e[t]);return this}return function e(n,t){var l,r;if(n===t)return!0;if(null===n||null===t)return n===t;if("object"!==typeof n||"object"!==typeof t)return n===t;if(u.isArray(t)){if(n.length!==t.length)return!1;for(l=n.length;l--;)if(!e(n[l],t[l]))return!1}if(Ue(n)||Ue(t))return n===t;for(l in r={},t){if(!e(n[l],t[l]))return!1;r[l]=!0}for(l in n)if(!r[l]&&!e(n[l],t[l]))return!1;return!0}(r,n)||(this.data[e]=n,l={target:this,name:e,value:n,oldValue:r},this.fire("change:"+e,l),this.fire("change",l)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return je.create(this,e)},destroy:function(){this.fire("destroy")}}),Ye={},Ze={add:function(e){var n=e.parent();if(n){if(!n._layout||n._layout.isNative())return;Ye[n._id]||(Ye[n._id]=n),Qe||(Qe=!0,_.requestAnimationFrame(function(){var e,n;for(e in Qe=!1,Ye)(n=Ye[e]).state.get("rendered")&&n.reflow();Ye={}},document.body))}},remove:function(e){Ye[e._id]&&delete Ye[e._id]}},Je="onmousewheel"in document,Xe=!1,$e=0,en={Statics:{classPrefix:"mce-"},isRtl:function(){return Ge.rtl},classPrefix:"mce-",init:function(e){var n,t,l=this;function r(e){var n;for(e=e.split(" "),n=0;n<e.length;n++)l.classes.add(e[n])}l.settings=e=u.extend({},l.Defaults,e),l._id=e.id||"mceu_"+$e++,l._aria={role:e.role},l._elmCache={},l.$=be,l.state=new Ke({visible:!0,active:!1,disabled:!1,value:""}),l.data=new Ke(e.data),l.classes=new Ie(function(){l.state.get("rendered")&&(l.getEl().className=this.toString())}),l.classes.prefix=l.classPrefix,(n=e.classes)&&(l.Defaults&&(t=l.Defaults.classes)&&n!==t&&r(t),r(n)),u.each("title text name visible disabled active value".split(" "),function(n){n in e&&l[n](e[n])}),l.on("click",function(){if(l.disabled())return!1}),l.settings=e,l.borderBox=Re(e.border),l.paddingBox=Re(e.padding),l.marginBox=Re(e.margin),e.hidden&&l.hide()},Properties:"parent,name",getContainerElm:function(){var e=D.getUiContainer(this);return e||Ce.getContainer()},getParentCtrl:function(e){for(var n,t=this.getRoot().controlIdLookup;e&&t&&!(n=t[e.id]);)e=e.parentNode;return n},initLayoutRect:function(){var e,n,t,l,r,o,i,u,a,s,c=this.settings,d=this.getEl();e=this.borderBox=this.borderBox||Pe(d,"border"),this.paddingBox=this.paddingBox||Pe(d,"padding"),this.marginBox=this.marginBox||Pe(d,"margin"),s=Ce.getSize(d),u=c.minWidth,a=c.minHeight,r=u||s.width,o=a||s.height,t=c.width,l=c.height,i="undefined"!==typeof(i=c.autoResize)?i:!t&&!l,t=t||r,l=l||o;var f=e.left+e.right,p=e.top+e.bottom,h=c.maxWidth||65535,g=c.maxHeight||65535;return this._layoutRect=n={x:c.x||0,y:c.y||0,w:t,h:l,deltaW:f,deltaH:p,contentW:t-f,contentH:l-p,innerW:t-f,innerH:l-p,startMinWidth:u||0,startMinHeight:a||0,minW:Math.min(r,h),minH:Math.min(o,g),maxW:h,maxH:g,autoResize:i,scrollW:0},this._lastLayoutRect={},n},layoutRect:function(e){var n,t,l,r,o,i=this._layoutRect;return i||(i=this.initLayoutRect()),e?(l=i.deltaW,r=i.deltaH,void 0!==e.x&&(i.x=e.x),void 0!==e.y&&(i.y=e.y),void 0!==e.minW&&(i.minW=e.minW),void 0!==e.minH&&(i.minH=e.minH),void 0!==(t=e.w)&&(t=(t=t<i.minW?i.minW:t)>i.maxW?i.maxW:t,i.w=t,i.innerW=t-l),void 0!==(t=e.h)&&(t=(t=t<i.minH?i.minH:t)>i.maxH?i.maxH:t,i.h=t,i.innerH=t-r),void 0!==(t=e.innerW)&&(t=(t=t<i.minW-l?i.minW-l:t)>i.maxW-l?i.maxW-l:t,i.innerW=t,i.w=t+l),void 0!==(t=e.innerH)&&(t=(t=t<i.minH-r?i.minH-r:t)>i.maxH-r?i.maxH-r:t,i.innerH=t,i.h=t+r),void 0!==e.contentW&&(i.contentW=e.contentW),void 0!==e.contentH&&(i.contentH=e.contentH),(n=this._lastLayoutRect).x===i.x&&n.y===i.y&&n.w===i.w&&n.h===i.h||((o=Ge.repaintControls)&&o.map&&!o.map[this._id]&&(o.push(this),o.map[this._id]=!0),n.x=i.x,n.y=i.y,n.w=i.w,n.h=i.h),this):i},repaint:function(){var e,n,t,l,r,o,i,u,a,s;a=document.createRange?function(e){return e}:Math.round,e=this.getEl().style,l=this._layoutRect,u=this._lastRepaintRect||{},o=(r=this.borderBox).left+r.right,i=r.top+r.bottom,l.x!==u.x&&(e.left=a(l.x)+"px",u.x=l.x),l.y!==u.y&&(e.top=a(l.y)+"px",u.y=l.y),l.w!==u.w&&(s=a(l.w-o),e.width=(s>=0?s:0)+"px",u.w=l.w),l.h!==u.h&&(s=a(l.h-i),e.height=(s>=0?s:0)+"px",u.h=l.h),this._hasBody&&l.innerW!==u.innerW&&(s=a(l.innerW),(t=this.getEl("body"))&&((n=t.style).width=(s>=0?s:0)+"px"),u.innerW=l.innerW),this._hasBody&&l.innerH!==u.innerH&&(s=a(l.innerH),(t=t||this.getEl("body"))&&((n=n||t.style).height=(s>=0?s:0)+"px"),u.innerH=l.innerH),this._lastRepaintRect=u,this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null,Ce.css(this.getEl(),{width:"",height:""}),this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null,this.initLayoutRect()},on:function(e,n){var t=this;return nn(t).on(e,function(e){var n,l;return"string"!==typeof e?e:function(r){return n||t.parentsAndSelf().each(function(t){var r=t.settings.callbacks;if(r&&(n=r[e]))return l=t,!1}),n?n.call(l,r):(r.action=e,void this.fire("execute",r))}}(n)),t},off:function(e,n){return nn(this).off(e,n),this},fire:function(e,n,t){if((n=n||{}).control||(n.control=this),n=nn(this).fire(e,n),!1!==t&&this.parent)for(var l=this.parent();l&&!n.isPropagationStopped();)l.fire(e,n,!1),l=l.parent();return n},hasEventListeners:function(e){return nn(this).has(e)},parents:function(e){var n,t=new qe;for(n=this.parent();n;n=n.parent())t.add(n);return e&&(t=t.filter(e)),t},parentsAndSelf:function(e){return new qe(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var n=e?this._id+"-"+e:this._id;return this._elmCache[n]||(this._elmCache[n]=be("#"+n)[0]),this._elmCache[n]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,n){var t=this.getEl(this.ariaTarget);return"undefined"===typeof n?this._aria[e]:(this._aria[e]=n,this.state.get("rendered")&&t.setAttribute("role"===e?e:"aria-"+e,n),this)},encode:function(e,n){return!1!==n&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return Ge.translate?Ge.translate(e):e},before:function(e){var n=this.parent();return n&&n.insert(e,n.items().indexOf(this),!0),this},after:function(e){var n=this.parent();return n&&n.insert(e,n.items().indexOf(this)),this},remove:function(){var e,n,t=this,l=t.getEl(),r=t.parent();if(t.items){var o=t.items().toArray();for(n=o.length;n--;)o[n].remove()}r&&r.items&&(e=[],r.items().each(function(n){n!==t&&e.push(n)}),r.items().set(e),r._lastRect=null),t._eventsRoot&&t._eventsRoot===t&&be(l).off();var i=t.getRoot().controlIdLookup;return i&&delete i[t._id],l&&l.parentNode&&l.parentNode.removeChild(l),t.state.set("rendered",!1),t.state.destroy(),t.fire("remove"),t},renderBefore:function(e){return be(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return be(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,n,t,l,r,o=this,i=o.settings;for(l in o.$el=be(o.getEl()),o.state.set("rendered",!0),i)0===l.indexOf("on")&&o.on(l.substr(2),i[l]);if(o._eventsRoot){for(t=o.parent();!r&&t;t=t.parent())r=t._eventsRoot;if(r)for(l in r._nativeEvents)o._nativeEvents[l]=!0}tn(o),i.style&&(e=o.getEl())&&(e.setAttribute("style",i.style),e.style.cssText=i.style),o.settings.border&&(n=o.borderBox,o.$el.css({"border-top-width":n.top,"border-right-width":n.right,"border-bottom-width":n.bottom,"border-left-width":n.left}));var u=o.getRoot();for(var a in u.controlIdLookup||(u.controlIdLookup={}),u.controlIdLookup[o._id]=o,o._aria)o.aria(a,o._aria[a]);!1===o.state.get("visible")&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(e){var n,t=e.value;o.state.get("rendered")&&(o.getEl().style.display=!1===t?"none":"",o.getEl().getBoundingClientRect()),(n=o.parent())&&(n._lastRect=null),o.fire(t?"show":"hide"),Ze.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var n,t,l,r,o,i,u=this.getEl(),a=u.parentNode,s=function(e,n){var t,l,r=e;for(t=l=0;r&&r!==n&&r.nodeType;)t+=r.offsetLeft||0,l+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:l}}(u,a);return n=s.x,t=s.y,l=u.offsetWidth,r=u.offsetHeight,o=a.clientWidth,i=a.clientHeight,"end"===e?(n-=o-l,t-=i-r):"center"===e&&(n-=o/2-l/2,t-=i/2-r/2),a.scrollLeft=n,a.scrollTop=t,this},getRoot:function(){for(var e,n=this,t=[];n;){if(n.rootControl){e=n.rootControl;break}t.push(n),e=n,n=n.parent()}e||(e=this);for(var l=t.length;l--;)t[l].rootControl=e;return e},reflow:function(){Ze.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};function nn(e){return e._eventDispatcher||(e._eventDispatcher=new Ee({scope:e,toggleEvent:function(n,t){t&&Ee.isNative(n)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[n]=!0,e.state.get("rendered")&&tn(e))}})),e._eventDispatcher}function tn(e){var n,t,l,r,o,i;function u(n){var t=e.getParentCtrl(n.target);t&&t.fire(n.type,n)}function a(){var e=r._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),r._lastHoverCtrl=null)}function s(n){var t,l,o,i=e.getParentCtrl(n.target),u=r._lastHoverCtrl,a=0;if(i!==u){if(r._lastHoverCtrl=i,(l=i.parents().toArray().reverse()).push(i),u){for((o=u.parents().toArray().reverse()).push(u),a=0;a<o.length&&l[a]===o[a];a++);for(t=o.length-1;t>=a;t--)(u=o[t]).fire("mouseleave",{target:u.getEl()})}for(t=a;t<l.length;t++)(i=l[t]).fire("mouseenter",{target:i.getEl()})}}function c(n){n.preventDefault(),"mousewheel"===n.type?(n.deltaY=-.025*n.wheelDelta,n.wheelDeltaX&&(n.deltaX=-.025*n.wheelDeltaX)):(n.deltaX=0,n.deltaY=n.detail),n=e.fire("wheel",n)}if(o=e._nativeEvents){for((l=e.parents().toArray()).unshift(e),n=0,t=l.length;!r&&n<t;n++)r=l[n]._eventsRoot;for(r||(r=l[l.length-1]||e),e._eventsRoot=r,t=n,n=0;n<t;n++)l[n]._eventsRoot=r;var d=r._delegates;for(i in d||(d=r._delegates={}),o){if(!o)return!1;"wheel"!==i||Xe?("mouseenter"===i||"mouseleave"===i?r._hasMouseEnter||(be(r.getEl()).on("mouseleave",a).on("mouseover",s),r._hasMouseEnter=1):d[i]||(be(r.getEl()).on(i,u),d[i]=!0),o[i]=!1):Je?be(e.getEl()).on("mousewheel",c):be(e.getEl()).on("DOMMouseScroll",c)}}}u.each("text title visible disabled active value".split(" "),function(e){en[e]=function(n){return 0===arguments.length?this.state.get(e):("undefined"!==typeof n&&this.state.set(e,n),this)}});var ln=Ge=Se.extend(en),rn=function(e){return!!e.getAttribute("data-mce-tabstop")};function on(e){var n,t,l=e.root;function r(e){return e&&1===e.nodeType}try{n=document.activeElement}catch(e){n=document.body}function o(e){return r(e=e||n)?e.getAttribute("role"):null}function i(e){for(var t,l=e||n;l=l.parentNode;)if(t=o(l))return t}function u(e){var t=n;if(r(t))return t.getAttribute("aria-"+e)}function a(e){var n=e.tagName.toUpperCase();return"INPUT"===n||"TEXTAREA"===n||"SELECT"===n}function s(e){var n=[];return function e(t){if(1===t.nodeType&&"none"!==t.style.display&&!t.disabled){(function(e){return!(!a(e)||e.hidden)||!!rn(e)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(o(e))})(t)&&n.push(t);for(var l=0;l<t.childNodes.length;l++)e(t.childNodes[l])}}(e||l.getEl()),n}function c(e){var n,l;(l=(e=e||t).parents().toArray()).unshift(e);for(var r=0;r<l.length&&!(n=l[r]).settings.ariaRoot;r++);return n}function d(e,n){return e<0?e=n.length-1:e>=n.length&&(e=0),n[e]&&n[e].focus(),e}function f(e,t){var l=-1,r=c();t=t||s(r.getEl());for(var o=0;o<t.length;o++)t[o]===n&&(l=o);l+=e,r.lastAriaIndex=d(l,t)}function p(){"tablist"===i()?f(-1,s(n.parentNode)):t.parent().submenu?v():f(-1)}function h(){var e=o(),t=i();"tablist"===t?f(1,s(n.parentNode)):"menuitem"===e&&"menu"===t&&u("haspopup")?b():f(1)}function g(){f(-1)}function m(){var e=o(),n=i();"menuitem"===e&&"menubar"===n?b():"button"===e&&u("haspopup")?b({key:"down"}):f(1)}function v(){t.fire("cancel")}function b(e){e=e||{},t.fire("click",{target:n,aria:e})}return t=l.getParentCtrl(n),l.on("keydown",function(e){function l(e,t){a(n)||rn(n)||"slider"!==o(n)&&!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:l(e,p);break;case 39:l(e,h);break;case 38:l(e,g);break;case 40:l(e,m);break;case 27:v();break;case 14:case 13:case 32:l(e,b);break;case 9:!function(e){if("tablist"===i()){var n=s(t.getEl("body"))[0];n&&n.focus()}else f(e.shiftKey?-1:1)}(e),e.preventDefault()}}),l.on("focusin",function(e){n=e.target,t=e.control}),{focusFirst:function(e){var n=c(e),t=s(n.getEl());n.settings.ariaRemember&&"lastAriaIndex"in n?d(n.lastAriaIndex,t):d(0,t)}}}var un={},an=ln.extend({init:function(e){var n=this;n._super(e),(e=n.settings).fixed&&n.state.set("fixed",!0),n._items=new qe,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new Ie(function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),e.containerCls&&n.classes.add(e.containerCls),n._layout=g.create((e.layout||"")+"layout"),n.settings.items?n.add(n.settings.items):n.add(n.render()),n._hasBody=!0},items:function(){return this._items},find:function(e){return(e=un[e]=un[e]||new He(e)).find(this)},add:function(e){return this.items().add(this.create(e)).parent(this),this},focus:function(e){var n,t,l;if(!e||!(t=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav))return l=this.find("*"),this.statusbar&&l.add(this.statusbar.items()),l.each(function(e){if(e.settings.autofocus)return n=null,!1;e.canFocus&&(n=n||e)}),n&&n.focus(),this;t.focusFirst(this)},replace:function(e,n){for(var t,l=this.items(),r=l.length;r--;)if(l[r]===e){l[r]=n;break}r>=0&&((t=n.getEl())&&t.parentNode.removeChild(t),(t=e.getEl())&&t.parentNode.removeChild(t)),n.parent(this)},create:function(e){var n,t=this,l=[];return u.isArray(e)||(e=[e]),u.each(e,function(e){e&&(e instanceof ln||("string"===typeof e&&(e={type:e}),n=u.extend({},t.settings.defaults,e),e.type=n.type=n.type||e.type||t.settings.defaultType||(n.defaults?n.defaults.type:null),e=g.create(n)),l.push(e))}),l},renderNew:function(){var e=this;return e.items().each(function(n,t){var l;n.parent(e),n.state.get("rendered")||((l=e.getEl("body")).hasChildNodes()&&t<=l.childNodes.length-1?be(l.childNodes[t]).before(n.renderHtml()):be(l).append(n.renderHtml()),n.postRender(),Ze.add(n))}),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){return this.items().set(this.create(e).concat(this.items().toArray())),this.renderNew()},insert:function(e,n,t){var l,r,o;return e=this.create(e),l=this.items(),!t&&n<l.length-1&&(n+=1),n>=0&&n<l.length&&(r=l.slice(0,n).toArray(),o=l.slice(n).toArray(),l.set(r.concat(e,o))),this.renderNew()},fromJSON:function(e){for(var n in e)this.find("#"+n).value(e[n]);return this},toJSON:function(){var e={};return this.find("*").each(function(n){var t=n.name(),l=n.value();t&&"undefined"!==typeof l&&(e[t]=l)}),e},renderHtml:function(){var e=this._layout,n=this.settings.role;return this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"},postRender:function(){var e;return this.items().exec("postRender"),this._super(),this._layout.postRender(this),this.state.set("rendered",!0),this.settings.style&&this.$el.css(this.settings.style),this.settings.border&&(e=this.borderBox,this.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),this.parent()||(this.keyboardNav=on({root:this})),this},initLayoutRect:function(){var e=this._super();return this._layout.recalc(this),e},recalc:function(){var e=this._layoutRect,n=this._lastRect;if(!n||n.w!==e.w||n.h!==e.h)return this._layout.recalc(this),e=this.layoutRect(),this._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0},reflow:function(){var e;if(Ze.remove(this),this.visible()){for(ln.repaintControls=[],ln.repaintControls.map={},this.recalc(),e=ln.repaintControls.length;e--;)ln.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),ln.repaintControls=[]}return this}});function sn(e){var n,t;if(e.changedTouches)for(n="screenX screenY pageX pageY clientX clientY".split(" "),t=0;t<n.length;t++)e[n[t]]=e.changedTouches[0][n[t]]}function cn(e,n){var t,l,r,o,i,u,a,s=n.document||document;n=n||{};var c=s.getElementById(n.handle||e);r=function(e){var r,d,f=function(e){var n,t,l,r,o,i,u,a,s=Math.max;return n=e.documentElement,t=e.body,l=s(n.scrollWidth,t.scrollWidth),r=s(n.clientWidth,t.clientWidth),o=s(n.offsetWidth,t.offsetWidth),i=s(n.scrollHeight,t.scrollHeight),u=s(n.clientHeight,t.clientHeight),a=s(n.offsetHeight,t.offsetHeight),{width:l<o?r:l,height:i<a?u:i}}(s);sn(e),e.preventDefault(),l=e.button,r=c,u=e.screenX,a=e.screenY,d=window.getComputedStyle?window.getComputedStyle(r,null).getPropertyValue("cursor"):r.runtimeStyle.cursor,t=be("<div></div>").css({position:"absolute",top:0,left:0,width:f.width,height:f.height,zIndex:2147483647,opacity:1e-4,cursor:d}).appendTo(s.body),be(s).on("mousemove touchmove",i).on("mouseup touchend",o),n.start(e)},i=function(e){if(sn(e),e.button!==l)return o(e);e.deltaX=e.screenX-u,e.deltaY=e.screenY-a,e.preventDefault(),n.drag(e)},o=function(e){sn(e),be(s).off("mousemove touchmove",i).off("mouseup touchend",o),t.remove(),n.stop&&n.stop(e)},this.destroy=function(){be(c).off()},be(c).on("mousedown touchstart",r)}var dn,fn,pn,hn,gn={init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var e=this,n=2;function t(){var t,l,r;function o(r,o,i,u,a,s){var c,d,f,p,h,g,m,v;if(d=e.getEl("scroll"+r)){if(m=o.toLowerCase(),v=i.toLowerCase(),be(e.getEl("absend")).css(m,e.layoutRect()[u]-1),!a)return void be(d).css("display","none");be(d).css("display","block"),c=e.getEl("body"),f=e.getEl("scroll"+r+"t"),p=c["client"+i]-2*n,h=(p-=t&&l?d["client"+s]:0)/c["scroll"+i],(g={})[m]=c["offset"+o]+n,g[v]=p,be(d).css(g),(g={})[m]=c["scroll"+o]*h,g[v]=p*h,be(f).css(g)}}r=e.getEl("body"),t=r.scrollWidth>r.clientWidth,l=r.scrollHeight>r.clientHeight,o("h","Left","Width","contentW",t,"Height"),o("v","Top","Height","contentH",l,"Width")}e.settings.autoScroll&&(e._hasScroll||(e._hasScroll=!0,function(){function t(t,l,r,o,i){var u,a=e._id+"-scroll"+t,s=e.classPrefix;be(e.getEl()).append('<div id="'+a+'" class="'+s+"scrollbar "+s+"scrollbar-"+t+'"><div id="'+a+'t" class="'+s+'scrollbar-thumb"></div></div>'),e.draghelper=new cn(a+"t",{start:function(){u=e.getEl("body")["scroll"+l],be("#"+a).addClass(s+"active")},drag:function(a){var s,c,d,f,p=e.layoutRect();c=p.contentW>p.innerW,d=p.contentH>p.innerH,f=e.getEl("body")["client"+r]-2*n,s=(f-=c&&d?e.getEl("scroll"+t)["client"+i]:0)/e.getEl("body")["scroll"+r],e.getEl("body")["scroll"+l]=u+a["delta"+o]/s},stop:function(){be("#"+a).removeClass(s+"active")}})}e.classes.add("scroll"),t("v","Top","Height","Y","Width"),t("h","Left","Width","X","Height")}(),e.on("wheel",function(n){var l=e.getEl("body");l.scrollLeft+=10*(n.deltaX||0),l.scrollTop+=10*n.deltaY,t()}),be(e.getEl("body")).on("scroll",t)),t())}},mn=an.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[gn],renderHtml:function(){var e=this._layout,n=this.settings.html;return this.preRender(),e.preRender(this),"undefined"===typeof n?n='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+e.renderHtml(this)+"</div>":("function"===typeof n&&(n=n.call(this)),this._hasBody=!1),'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+n+"</div>"}}),vn={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,n){if(e<=1||n<=1){var t=Ce.getWindowSize();e=e<=1?e*t.w:e,n=n<=1?n*t.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:n,w:e,h:n}).reflow()},resizeBy:function(e,n){var t=this.layoutRect();return this.resizeTo(t.w+e,t.h+n)}},bn=[],yn=[];function Cn(e,n){for(;e;){if(e===n)return!0;e=e.parent()}}function wn(){dn||(dn=function(e){2!==e.button&&function(e){for(var n=bn.length;n--;){var t=bn[n],l=t.getParentCtrl(e.target);if(t.settings.autohide){if(l&&(Cn(l,t)||t.parent()===l))continue;(e=t.fire("autohide",{target:e.target})).isDefaultPrevented()||t.hide()}}}(e)},be(document).on("click touchstart",dn))}function xn(e){var n=Ce.getViewPort().y;function t(n,t){for(var l,r=0;r<bn.length;r++)if(bn[r]!==e)for(l=bn[r].parent();l&&(l=l.parent());)l===e&&bn[r].fixed(n).moveBy(0,t).repaint()}e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function _n(e,n){var t,l,r=An.zIndex||65535;if(e)yn.push(n);else for(t=yn.length;t--;)yn[t]===n&&yn.splice(t,1);if(yn.length)for(t=0;t<yn.length;t++)yn[t].modal&&(r++,l=yn[t]),yn[t].getEl().style.zIndex=r,yn[t].zIndex=r,r++;var o=be("#"+n.classPrefix+"modal-block",n.getContainerElm())[0];l?be(o).css("z-index",l.zIndex-1):o&&(o.parentNode.removeChild(o),hn=!1),An.currentZIndex=r}var An=mn.extend({Mixins:[Oe,vn],init:function(e){var n=this;n._super(e),n._eventsRoot=n,n.classes.add("floatpanel"),e.autohide&&(wn(),function(){if(!pn){var e=document.documentElement,n=e.clientWidth,t=e.clientHeight;pn=function(){document.all&&n===e.clientWidth&&t===e.clientHeight||(n=e.clientWidth,t=e.clientHeight,An.hideAll())},be(window).on("resize",pn)}}(),bn.push(n)),e.autofix&&(fn||(fn=function(){var e;for(e=bn.length;e--;)xn(bn[e])},be(window).on("scroll",fn)),n.on("move",function(){xn(this)})),n.on("postrender show",function(e){if(e.control===n){var t,l=n.classPrefix;n.modal&&!hn&&((t=be("#"+l+"modal-block",n.getContainerElm()))[0]||(t=be('<div id="'+l+'modal-block" class="'+l+"reset "+l+'fade"></div>').appendTo(n.getContainerElm())),_.setTimeout(function(){t.addClass(l+"in"),be(n.getEl()).addClass(l+"in")}),hn=!0),_n(!0,n)}}),n.on("show",function(){n.parents().each(function(e){if(e.state.get("fixed"))return n.fixed(!0),!1})}),e.popover&&(n._preBodyHtml='<div class="'+n.classPrefix+'arrow"></div>',n.classes.add("popover").add("bottom").add(n.isRtl()?"end":"start")),n.aria("label",e.ariaLabel),n.aria("labelledby",n._id),n.aria("describedby",n.describedBy||n._id+"-none")},fixed:function(e){if(this.state.get("fixed")!==e){if(this.state.get("rendered")){var n=Ce.getViewPort();e?this.layoutRect().y-=n.y:this.layoutRect().y+=n.y}this.classes.toggle("fixed",e),this.state.set("fixed",e)}return this},show:function(){var e,n=this._super();for(e=bn.length;e--&&bn[e]!==this;);return-1===e&&bn.push(this),n},hide:function(){return kn(this),_n(!1,this),this._super()},hideAll:function(){An.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),_n(!1,this)),this},remove:function(){kn(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});function kn(e){var n;for(n=bn.length;n--;)bn[n]===e&&bn.splice(n,1);for(n=yn.length;n--;)yn[n]===e&&yn.splice(n,1)}An.hideAll=function(){for(var e=bn.length;e--;){var n=bn[e];n&&n.settings.autohide&&(n.hide(),bn.splice(e,1))}};var On=function(e,n,t){var l,r,o=h.DOM,i=function(e){return e.getParam("fixed_toolbar_container")}(e);i&&(r=o.select(i)[0]);var u=function(){if(l&&l.moveRel&&l.visible()&&!l._fixed){var n=e.selection.getScrollContainer(),t=e.getBody(),r=0,i=0;if(n){var u=o.getPos(t),a=o.getPos(n);r=Math.max(0,a.x-u.x),i=Math.max(0,a.y-u.y)}l.fixed(!1).moveRel(t,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(r,i)}},s=function(){l&&(l.show(),u(),o.addClass(e.getBody(),"mce-edit-focus"))},d=function(){l&&(l.hide(),An.hideAll(),o.removeClass(e.getBody(),"mce-edit-focus"))},p=function(){l?l.visible()||s():(l=n.panel=g.create({type:r?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:function(e,n){return!(!e||n.settings.ui_container)}(r,e),border:1,items:[!1===a(e)?null:{type:"menubar",border:"0 0 1 0",items:le(e)},B(e,c(e))]}),D.setUiContainer(e,l),y(e),r?l.renderTo(r).reflow():l.renderTo().reflow(),w(e,l),s(),V(e),e.on("nodeChange",u),e.on("ResizeWindow",u),e.on("activate",s),e.on("deactivate",d),e.nodeChanged())};return e.settings.content_editable=!0,e.on("focus",function(){!1===f(e)&&t.skinUiCss?o.styleSheetLoader.load(t.skinUiCss,p,p):p()}),e.on("blur hide",d),e.on("remove",function(){l&&(l.remove(),l=null)}),!1===f(e)&&t.skinUiCss?o.styleSheetLoader.load(t.skinUiCss,he(e)):he(e)(),{}};function Sn(e,n){var t,l,r=this,o=ln.classPrefix;r.show=function(i,u){function a(){t&&(be(e).append('<div class="'+o+"throbber"+(n?" "+o+"throbber-inline":"")+'"></div>'),u&&u())}return r.hide(),t=!0,i?l=_.setTimeout(a,i):a(),r},r.hide=function(){var n=e.lastChild;return _.clearTimeout(l),n&&-1!==n.className.indexOf("throbber")&&n.parentNode.removeChild(n),t=!1,r}}var En=function(e,n){var t;e.on("ProgressState",function(e){t=t||new Sn(n.panel.getEl("body")),e.state?t.show(e.time):t.hide()})},Rn=function(e,n,t){var l=function(e){var n=e.settings,t=n.skin,l=n.skin_url;if(!1!==t){var r=t||"lightgray";l=l?e.documentBaseURI.toAbsolute(l):i.baseURL+"/skins/"+r}return l}(e);return l&&(t.skinUiCss=l+"/skin.min.css",e.contentCSS.push(l+"/content"+(e.inline?".inline":"")+".min.css")),En(e,n),function(e){return e.getParam("inline",!1,"boolean")}(e)?On(e,n,t):ve(e,n,t)},Pn=ln.extend({Mixins:[Oe],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(n){e.getEl().lastChild.innerHTML=e.encode(n.value)}),e._super()},repaint:function(){var e,n;e=this.getEl().style,n=this._layoutRect,e.left=n.x+"px",e.top=n.y+"px",e.zIndex=131070}}),Mn=ln.extend({init:function(e){var n=this;n._super(e),e=n.settings,n.canFocus=!0,e.tooltip&&!1!==Mn.tooltips&&(n.on("mouseenter",function(t){var l=n.tooltip().moveTo(-65535);if(t.control===n){var r=l.text(e.tooltip).show().testMoveRel(n.getEl(),["bc-tc","bc-tl","bc-tr"]);l.classes.toggle("tooltip-n","bc-tc"===r),l.classes.toggle("tooltip-nw","bc-tl"===r),l.classes.toggle("tooltip-ne","bc-tr"===r),l.moveRel(n.getEl(),r)}else l.hide()}),n.on("mouseleave mousedown click",function(){n.tooltip().remove(),n._tooltip=null})),n.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new Pn({type:"tooltip"}),D.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var e=this.settings;this._super(),this.parent()||!e.width&&!e.height||(this.initLayoutRect(),this.repaint()),e.autofocus&&this.focus()},bindStates:function(){var e=this;function n(n){e.aria("disabled",n),e.classes.toggle("disabled",n)}function t(n){e.aria("pressed",n),e.classes.toggle("active",n)}return e.state.on("change:disabled",function(e){n(e.value)}),e.state.on("change:active",function(e){t(e.value)}),e.state.get("disabled")&&n(!0),e.state.get("active")&&t(!0),e._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),In=Mn.extend({Defaults:{value:0},init:function(e){this._super(e),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this._id,n=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){var e=this;function n(n){n=e.settings.filter(n),e.getEl().lastChild.innerHTML=n+"%",e.getEl().firstChild.firstChild.style.width=n+"%"}return e.state.on("change:value",function(e){n(e.value)}),n(e.state.get("value")),e._super()}}),Dn=function(e,n){e.getEl().lastChild.textContent=n+(e.progressBar?" "+e.progressBar.value()+"%":"")},Tn=ln.extend({Mixins:[Oe],Defaults:{classes:"widget notification"},init:function(e){var n=this;n._super(e),n.maxWidth=e.maxWidth,e.text&&n.text(e.text),e.icon&&(n.icon=e.icon),e.color&&(n.color=e.color),e.type&&n.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?n.closeButton=!1:(n.classes.add("has-close"),n.closeButton=!0),e.progressBar&&(n.progressBar=new In),n.on("click",function(e){-1!==e.target.className.indexOf(n.classPrefix+"close")&&n.close()})},renderHtml:function(){var e,n=this.classPrefix,t="",l="",r="";return this.icon&&(t='<i class="'+n+"ico "+n+"i-"+this.icon+'"></i>'),e=' style="max-width: '+this.maxWidth+"px;"+(this.color?"background-color: "+this.color+';"':'"'),this.closeButton&&(l='<button type="button" class="'+n+'close" aria-hidden="true">\xd7</button>'),this.progressBar&&(r=this.progressBar.renderHtml()),'<div id="'+this._id+'" class="'+this.classes+'"'+e+' role="presentation">'+t+'<div class="'+n+'notification-inner">'+this.state.get("text")+"</div>"+r+l+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var e=this;return _.setTimeout(function(){e.$el.addClass(e.classPrefix+"in"),Dn(e,e.state.get("text"))},100),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",function(n){e.getEl().firstChild.innerHTML=n.value,Dn(e,n.value)}),e.progressBar&&(e.progressBar.bindStates(),e.progressBar.state.on("change:value",function(n){Dn(e,e.state.get("text"))})),e._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var e,n;e=this.getEl().style,n=this._layoutRect,e.left=n.x+"px",e.top=n.y+"px",e.zIndex=65534}});function Nn(e){var n=function(e){return e.inline?e.getElement():e.getContentAreaContainer()};return{open:function(t,l){var r,o=u.extend(t,{maxWidth:(r=n(e),Ce.getSize(r).width)}),i=new Tn(o);return i.args=o,o.timeout>0&&(i.timer=setTimeout(function(){i.close(),l()},o.timeout)),i.on("close",function(){l()}),i.renderTo(),i},close:function(e){e.close()},reposition:function(t){!function(e){K(e,function(e){e.moveTo(0,0)})}(t),function(t){if(t.length>0){var l=t.slice(0,1)[0],r=n(e);l.moveRel(r,"tc-tc"),K(t,function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")})}}(t)},getArgs:function(e){return e.args}}}var Bn=[],Fn="";function Ln(e){var n,t=be("meta[name=viewport]")[0];!1!==se.overrideViewPort&&(t||((t=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(t)),(n=t.getAttribute("content"))&&"undefined"!==typeof Fn&&(Fn=n),t.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":Fn))}function Hn(e,n){(function(){for(var e=0;e<Bn.length;e++)if(Bn[e]._fullscreen)return!0;return!1})()&&!1===n&&be([document.documentElement,document.body]).removeClass(e+"fullscreen")}var zn=An.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.isRtl()&&n.classes.add("rtl"),n.classes.add("window"),n.bodyClasses.add("window-body"),n.state.set("fixed",!0),e.buttons&&(n.statusbar=new mn({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.classes.add("foot"),n.statusbar.parent(n)),n.on("click",function(e){var t=n.classPrefix+"close";(Ce.hasClass(e.target,t)||Ce.hasClass(e.target.parentNode,t))&&n.close()}),n.on("cancel",function(){n.close()}),n.on("move",function(e){e.control===n&&An.hideAll()}),n.aria("describedby",n.describedBy||n._id+"-none"),n.aria("label",e.title),n._fullscreen=!1},recalc:function(){var e,n,t,l,r=this.statusbar;this._fullscreen&&(this.layoutRect(Ce.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH),this._super(),e=this.layoutRect(),this.settings.title&&!this._fullscreen&&(n=e.headerW)>e.w&&(t=e.x-Math.max(0,n/2),this.layoutRect({w:n,x:t}),l=!0),r&&(r.layoutRect({w:this.layoutRect().innerW}).recalc(),(n=r.layoutRect().minW+e.deltaW)>e.w&&(t=e.x-Math.max(0,n-e.w),this.layoutRect({w:n,x:t}),l=!0)),l&&this.recalc()},initLayoutRect:function(){var e,n=this._super(),t=0;if(this.settings.title&&!this._fullscreen){e=this.getEl("head");var l=Ce.getSize(e);n.headerW=l.width,n.headerH=l.height,t+=n.headerH}this.statusbar&&(t+=this.statusbar.layoutRect().h),n.deltaH+=t,n.minH+=t,n.h+=t;var r=Ce.getWindowSize();return n.x=this.settings.x||Math.max(0,r.w/2-n.w/2),n.y=this.settings.y||Math.max(0,r.h/2-n.h/2),n},renderHtml:function(){var e=this._layout,n=this._id,t=this.classPrefix,l=this.settings,r="",o="",i=l.html;return this.preRender(),e.preRender(this),l.title&&(r='<div id="'+n+'-head" class="'+t+'window-head"><div id="'+n+'-title" class="'+t+'title">'+this.encode(l.title)+'</div><div id="'+n+'-dragh" class="'+t+'dragh"></div><button type="button" class="'+t+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),l.url&&(i='<iframe src="'+l.url+'" tabindex="-1"></iframe>'),"undefined"===typeof i&&(i=e.renderHtml(this)),this.statusbar&&(o=this.statusbar.renderHtml()),'<div id="'+n+'" class="'+this.classes+'" hidefocus="1"><div class="'+this.classPrefix+'reset" role="application">'+r+'<div id="'+n+'-body" class="'+this.bodyClasses+'">'+i+"</div>"+o+"</div></div>"},fullscreen:function(e){var n,t,l=this,r=document.documentElement,o=l.classPrefix;if(e!==l._fullscreen)if(be(window).on("resize",function(){var e;if(l._fullscreen)if(n)l._timer||(l._timer=_.setTimeout(function(){var e=Ce.getWindowSize();l.moveTo(0,0).resizeTo(e.w,e.h),l._timer=0},50));else{e=(new Date).getTime();var t=Ce.getWindowSize();l.moveTo(0,0).resizeTo(t.w,t.h),(new Date).getTime()-e>50&&(n=!0)}}),t=l.layoutRect(),l._fullscreen=e,e){l._initial={x:t.x,y:t.y,w:t.w,h:t.h},l.borderBox=Re("0"),l.getEl("head").style.display="none",t.deltaH-=t.headerH+2,be([r,document.body]).addClass(o+"fullscreen"),l.classes.add("fullscreen");var i=Ce.getWindowSize();l.moveTo(0,0).resizeTo(i.w,i.h)}else l.borderBox=Re(l.settings.border),l.getEl("head").style.display="",t.deltaH+=t.headerH,be([r,document.body]).removeClass(o+"fullscreen"),l.classes.remove("fullscreen"),l.moveTo(l._initial.x,l._initial.y).resizeTo(l._initial.w,l._initial.h);return l.reflow()},postRender:function(){var e,n=this;setTimeout(function(){n.classes.add("in"),n.fire("open")},0),n._super(),n.statusbar&&n.statusbar.postRender(),n.focus(),this.dragHelper=new cn(n._id+"-dragh",{start:function(){e={x:n.layoutRect().x,y:n.layoutRect().y}},drag:function(t){n.moveTo(e.x+t.deltaX,e.y+t.deltaY)}}),n.on("submit",function(e){e.isDefaultPrevented()||n.close()}),Bn.push(n),Ln(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e;for(this.dragHelper.destroy(),this._super(),this.statusbar&&this.statusbar.remove(),Hn(this.classPrefix,!1),e=Bn.length;e--;)Bn[e]===this&&Bn.splice(e,1);Ln(Bn.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});!function(){if(!se.desktop){var e={w:window.innerWidth,h:window.innerHeight};_.setInterval(function(){var n=window.innerWidth,t=window.innerHeight;e.w===n&&e.h===t||(e={w:n,h:t},be(window).trigger("resize"))},100)}be(window).on("resize",function(){var e,n,t=Ce.getWindowSize();for(e=0;e<Bn.length;e++)n=Bn[e].layoutRect(),Bn[e].moveTo(Bn[e].settings.x||Math.max(0,t.w/2-n.w/2),Bn[e].settings.y||Math.max(0,t.h/2-n.h/2))})}();var Vn,qn,jn,Wn=zn.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){var n,t=e.callback||function(){};function l(e,n,l){return{type:"button",text:e,subtype:l?"primary":"",onClick:function(e){e.control.parents()[1].close(),t(n)}}}switch(e.buttons){case Wn.OK_CANCEL:n=[l("Ok",!0,!0),l("Cancel",!1)];break;case Wn.YES_NO:case Wn.YES_NO_CANCEL:n=[l("Yes",1,!0),l("No",0)],e.buttons===Wn.YES_NO_CANCEL&&n.push(l("Cancel",-1));break;default:n=[l("Ok",!0,!0)]}return new zn({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:n,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){t(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){return"string"===typeof e&&(e={text:e}),e.callback=n,Wn.msgBox(e)},confirm:function(e,n){return"string"===typeof e&&(e={text:e}),e.callback=n,e.buttons=Wn.OK_CANCEL,Wn.msgBox(e)}}}),Un=function(e){return{renderUI:function(n){return Rn(e,this,n)},resizeTo:function(n,t){return ue(e,n,t)},resizeBy:function(n,t){return ae(e,n,t)},getNotificationManagerImpl:function(){return Nn(e)},getWindowManagerImpl:function(){return{open:function(e,n,t){var l;return e.title=e.title||" ",e.url=e.url||e.file,e.url&&(e.width=parseInt(e.width||320,10),e.height=parseInt(e.height||240,10)),e.body&&(e.items={defaults:e.defaults,type:e.bodyType||"form",items:e.body,data:e.data,callbacks:e.commands}),e.url||e.buttons||(e.buttons=[{text:"Ok",subtype:"primary",onclick:function(){l.find("form")[0].submit()}},{text:"Cancel",onclick:function(){l.close()}}]),(l=new zn(e)).on("close",function(){t(l)}),e.data&&l.on("postRender",function(){this.find("*").each(function(n){var t=n.name();t in e.data&&n.value(e.data[t])})}),l.features=e||{},l.params=n||{},l=l.renderTo(document.body).reflow()},alert:function(e,n,t){var l;return(l=Wn.alert(e,function(){n()})).on("close",function(){t(l)}),l},confirm:function(e,n,t){var l;return(l=Wn.confirm(e,function(e){n(e)})).on("close",function(){t(l)}),l},close:function(e){e.close()},getParams:function(e){return e.params},setParams:function(e,n){e.params=n}}}}},Qn=Se.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=u.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var n,t,l,r,o=this.settings;n=o.firstControlClass,t=o.lastControlClass,e.each(function(e){e.classes.remove(n).remove(t).add(o.controlClass),e.visible()&&(l||(l=e),r=e)}),l&&l.classes.add(n),r&&r.classes.add(t)},renderHtml:function(e){var n="";return this.applyClasses(e.items()),e.items().each(function(e){n+=e.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),Gn=Qn.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var n=e.settings;e.layoutRect({x:n.x,y:n.y,w:n.w,h:n.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}}),Kn=Mn.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var n,t=this;t._super(e),e=t.settings,n=t.settings.size,t.on("click mousedown",function(e){e.preventDefault()}),t.on("touchstart",function(e){t.fire("click",e),e.preventDefault()}),e.subtype&&t.classes.add(e.subtype),n&&t.classes.add("btn-"+n),e.icon&&t.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,n=this.getEl().firstChild;n&&((e=n.style).width=e.height="100%"),this._super()},renderHtml:function(){var e,n,t=this._id,l=this.classPrefix,r=this.state.get("icon"),o=this.state.get("text"),i="",u=this.settings;return(e=u.image)?(r="none","string"!==typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o&&(this.classes.add("btn-has-text"),i='<span class="'+l+'txt">'+this.encode(o)+"</span>"),r=r?l+"ico "+l+"i-"+r:"",n="boolean"===typeof u.active?' aria-pressed="'+u.active+'"':"",'<div id="'+t+'" class="'+this.classes+'" tabindex="-1"'+n+'><button id="'+t+'-button" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+i+"</button></div>"},bindStates:function(){var e=this,n=e.$,t=e.classPrefix+"txt";function l(l){var r=n("span."+t,e.getEl());l?(r[0]||(n("button:first",e.getEl()).append('<span class="'+t+'"></span>'),r=n("span."+t,e.getEl())),r.html(e.encode(l))):r.remove(),e.classes.toggle("btn-has-text",!!l)}return e.state.on("change:text",function(e){l(e.value)}),e.state.on("change:icon",function(n){var t=n.value,r=e.classPrefix;e.settings.icon=t,t=t?r+"ico "+r+"i-"+e.settings.icon:"";var o=e.getEl().firstChild,i=o.getElementsByTagName("i")[0];t?(i&&i===o.firstChild||(i=document.createElement("i"),o.insertBefore(i,o.firstChild)),i.className=t):i&&o.removeChild(i),l(e.state.get("text"))}),e._super()}}),Yn=Kn.extend({init:function(e){e=u.extend({text:"Browse...",multiple:!1,accept:null},e),this._super(e),this.classes.add("browsebutton"),e.multiple&&this.classes.add("multiple")},postRender:function(){var e=this,n=Ce.create("input",{type:"file",id:e._id+"-browse",accept:e.settings.accept});e._super(),be(n).on("change",function(n){var t=n.target.files;e.value=function(){return t.length?e.settings.multiple?t:t[0]:null},n.preventDefault(),t.length&&e.fire("change",n)}),be(n).on("click",function(e){e.stopPropagation()}),be(e.getEl("button")).on("click",function(e){e.stopPropagation(),n.click()}),e.getEl().appendChild(n)},remove:function(){be(this.getEl("button")).off(),be(this.getEl("input")).off(),this._super()}}),Zn=an.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this._layout;return this.classes.add("btn-group"),this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"}}),Jn=Mn.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var n=this;n._super(e),n.on("click mousedown",function(e){e.preventDefault()}),n.on("click",function(e){e.preventDefault(),n.disabled()||n.checked(!n.checked())}),n.checked(n.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this._id,n=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+e+'-al" class="'+n+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){var e=this;function n(n){e.classes.toggle("checked",n),e.aria("checked",n)}return e.state.on("change:text",function(n){e.getEl("al").firstChild.data=e.translate(n.value)}),e.state.on("change:checked change:value",function(t){e.fire("change"),n(t.value)}),e.state.on("change:icon",function(n){var t=n.value,l=e.classPrefix;if("undefined"===typeof t)return e.settings.icon;e.settings.icon=t,t=t?l+"ico "+l+"i-"+e.settings.icon:"";var r=e.getEl().firstChild,o=r.getElementsByTagName("i")[0];t?(o&&o===r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=t):o&&r.removeChild(o)}),e.state.get("checked")&&n(!0),e._super()}}),Xn=tinymce.util.Tools.resolve("tinymce.util.VK"),$n=Mn.extend({init:function(e){var n=this;n._super(e),e=n.settings,n.classes.add("combobox"),n.subinput=!0,n.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),n.on("click",function(t){var l=t.target,r=n.getEl();if(be.contains(r,l)||l===r)for(;l&&l!==r;)l.id&&-1!==l.id.indexOf("-open")&&(n.fire("action"),e.menu&&(n.showMenu(),t.aria&&n.menu.items()[0].focus())),l=l.parentNode}),n.on("keydown",function(e){var t;13===e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))}),n.on("keyup",function(e){if("INPUT"===e.target.nodeName){var t=n.state.get("value"),l=e.target.value;l!==t&&(n.state.set("value",l),n.fire("autocomplete",e))}}),n.on("mouseover",function(e){var t=n.tooltip().moveTo(-65535);if(n.statusLevel()&&-1!==e.target.className.indexOf(n.classPrefix+"status")){var l=n.statusMessage()||"Ok",r=t.text(l).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"===r),t.classes.toggle("tooltip-nw","bc-tl"===r),t.classes.toggle("tooltip-ne","bc-tr"===r),t.moveRel(e.target,r)}})},statusLevel:function(e){return arguments.length>0&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return arguments.length>0&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,n=this,t=n.settings;n.menu||((e=t.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",n.menu=g.create(e).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control===n.menu&&n.focus()}),n.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()===n.value())})}).fire("show"),n.menu.on("select",function(e){n.value(e.control.value())}),n.on("focusin",function(e){"INPUT"===e.target.tagName.toUpperCase()&&n.menu.hide()}),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,n,t=this.getEl(),l=this.getEl("open"),r=this.layoutRect(),o=0,i=t.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(o=parseInt(Ce.getRuntimeStyle(i,"padding-right"),10)-parseInt(Ce.getRuntimeStyle(i,"padding-left"),10)),e=l?r.w-Ce.getSize(l).width-10:r.w-10;var u=document;return u.all&&(!u.documentMode||u.documentMode<=8)&&(n=this.layoutRect().h-2+"px"),be(i).css({width:e-o,lineHeight:n}),this._super(),this},postRender:function(){var e=this;return be(this.getEl("inp")).on("change",function(n){e.state.set("value",n.target.value),e.fire("change",n)}),e._super()},renderHtml:function(){var e,n,t,l=this._id,r=this.settings,o=this.classPrefix,i=this.state.get("value")||"",u="",a="";return"spellcheck"in r&&(a+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(a+=' maxlength="'+r.maxLength+'"'),r.size&&(a+=' size="'+r.size+'"'),r.subtype&&(a+=' type="'+r.subtype+'"'),t='<i id="'+l+'-status" class="mce-status mce-ico" style="display: none"></i>',this.disabled()&&(a+=' disabled="disabled"'),(e=r.icon)&&"caret"!==e&&(e=o+"ico "+o+"i-"+r.icon),n=this.state.get("text"),(e||n)&&(u='<div id="'+l+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+l+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==e?'<i class="'+e+'"></i>':'<i class="'+o+'caret"></i>')+(n?(e?" ":"")+n:"")+"</button></div>",this.classes.add("has-open")),'<div id="'+l+'" class="'+this.classes+'"><input id="'+l+'-inp" class="'+o+'textbox" value="'+this.encode(i,!1)+'" hidefocus="1"'+a+' placeholder="'+this.encode(r.placeholder)+'" />'+t+u+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,n){var t=this;if(0!==e.length){t.menu?t.menu.items().remove():t.menu=g.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(t).renderTo(),u.each(e,function(e){var l,r;t.menu.add({text:e.title,url:e.previewUrl,match:n,classes:"menu-item-ellipsis",onclick:(l=e.value,r=e.title,function(){t.fire("selectitem",{title:r,value:l})})})}),t.menu.renderNew(),t.hideMenu(),t.menu.on("cancel",function(e){e.control.parent()===t.menu&&(e.stopPropagation(),t.focus(),t.hideMenu())}),t.menu.on("select",function(){t.focus()});var l=t.layoutRect().w;t.menu.layoutRect({w:l,minW:0,maxW:l}),t.menu.repaint(),t.menu.reflow(),t.menu.show(),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else t.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on("change:value",function(n){e.getEl("inp").value!==n.value&&(e.getEl("inp").value=n.value)}),e.state.on("change:disabled",function(n){e.getEl("inp").disabled=n.value}),e.state.on("change:statusLevel",function(n){var t=e.getEl("status"),l=e.classPrefix,r=n.value;Ce.css(t,"display","none"===r?"none":""),Ce.toggleClass(t,l+"i-checkmark","ok"===r),Ce.toggleClass(t,l+"i-warning","warn"===r),Ce.toggleClass(t,l+"i-error","error"===r),e.classes.toggle("has-status","none"!==r),e.repaint()}),Ce.on(e.getEl("status"),"mouseleave",function(){e.tooltip().hide()}),e.on("cancel",function(n){e.menu&&e.menu.visible()&&(n.stopPropagation(),e.hideMenu())});var n=function(e,n){n&&n.items().length>0&&n.items().eq(e)[0].focus()};return e.on("keydown",function(t){var l=t.keyCode;"INPUT"===t.target.nodeName&&(l===Xn.DOWN?(t.preventDefault(),e.fire("autocomplete"),n(0,e.menu)):l===Xn.UP&&(t.preventDefault(),n(-1,e.menu)))}),e._super()},remove:function(){be(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),et=$n.extend({init:function(e){var n=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),n._super(e),n.classes.add("colorbox"),n.on("change keyup postrender",function(){n.repaintColor(n.value())})},repaintColor:function(e){var n=this.getEl("open"),t=n?n.getElementsByTagName("i")[0]:null;if(t)try{t.style.background=e}catch(e){}},bindStates:function(){var e=this;return e.state.on("change:value",function(n){e.state.get("rendered")&&e.repaintColor(n.value)}),e._super()}}),nt=Kn.extend({showPanel:function(){var e=this,n=e.settings;if(e.classes.add("opened"),e.panel)e.panel.show();else{var t=n.panel;t.type&&(t={layout:"grid",items:t}),t.role=t.role||"dialog",t.popover=!0,t.autohide=!0,t.ariaRoot=!0,e.panel=new An(t).on("hide",function(){e.classes.remove("opened")}).on("cancel",function(n){n.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}var l=e.panel.testMoveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl","tc-bc","tc-br","tc-bl"]));e.panel.classes.toggle("start","l"===l.substr(-1)),e.panel.classes.toggle("end","r"===l.substr(-1));var r="t"===l.substr(0,1);e.panel.classes.toggle("bottom",!r),e.panel.classes.toggle("top",r),e.panel.moveRel(e.getEl(),l)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(n){n.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!n.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),tt=h.DOM,lt=nt.extend({init:function(e){this._super(e),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this._id,n=this.classPrefix,t=this.state.get("text"),l=this.settings.icon?n+"ico "+n+"i-"+this.settings.icon:"",r=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"",o="";return t&&(this.classes.add("btn-has-text"),o='<span class="'+n+'txt">'+this.encode(t)+"</span>"),'<div id="'+e+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(l?'<i class="'+l+'"'+r+"></i>":"")+'<span id="'+e+'-preview" class="'+n+'preview"></span>'+o+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,n=e.settings.onclick;return e.on("click",function(t){t.aria&&"down"===t.aria.key||t.control!==e||tt.getParent(t.target,"."+e.classPrefix+"open")||(t.stopImmediatePropagation(),n.call(e,t))}),delete e.settings.onclick,e._super()}}),rt=tinymce.util.Tools.resolve("tinymce.util.Color"),ot=Mn.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){var e,n,t,l,r,o=this,i=o.color();function u(e,n){var t,l,r=Ce.getPos(e);return t=n.pageX-r.x,l=n.pageY-r.y,{x:t=Math.max(0,Math.min(t/e.clientWidth,1)),y:l=Math.max(0,Math.min(l/e.clientHeight,1))}}function a(e,n){var i=(360-e.h)/360;Ce.css(t,{top:100*i+"%"}),n||Ce.css(r,{left:e.s+"%",top:100-e.v+"%"}),l.style.background=rt({s:100,v:100,h:e.h}).toHex(),o.color().parse({s:e.s,v:e.v,h:e.h})}function s(n){var t;t=u(l,n),e.s=100*t.x,e.v=100*(1-t.y),a(e),o.fire("change")}function c(t){var l;l=u(n,t),(e=i.toHsv()).h=360*(1-l.y),a(e,!0),o.fire("change")}n=o.getEl("h"),t=o.getEl("hp"),l=o.getEl("sv"),r=o.getEl("svp"),o._repaint=function(){a(e=i.toHsv())},o._super(),o._svdraghelper=new cn(o._id+"-sv",{start:s,drag:s}),o._hdraghelper=new cn(o._id+"-h",{start:c,drag:c}),o._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){if(!arguments.length)return this.color().toHex();this.color().parse(e),this._rendered&&this._repaint()},color:function(){return this._color||(this._color=rt()),this._color},renderHtml:function(){var e,n=this._id,t=this.classPrefix,l="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+n+'-h" class="'+t+'colorpicker-h" style="background: -ms-linear-gradient(top,'+l+");background: linear-gradient(to bottom,"+l+');">'+function(){var e,n,r,o,i="";for(r="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,n=(o=l.split(",")).length-1;e<n;e++)i+='<div class="'+t+'colorpicker-h-chunk" style="height:'+100/n+"%;"+r+o[e]+",endColorstr="+o[e+1]+");-ms-"+r+o[e]+",endColorstr="+o[e+1]+')"></div>';return i}()+'<div id="'+n+'-hp" class="'+t+'colorpicker-h-marker"></div></div>','<div id="'+n+'" class="'+this.classes+'"><div id="'+n+'-sv" class="'+t+'colorpicker-sv"><div class="'+t+'colorpicker-overlay1"><div class="'+t+'colorpicker-overlay2"><div id="'+n+'-svp" class="'+t+'colorpicker-selector1"><div class="'+t+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}}),it=Mn.extend({init:function(e){e=u.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),this._super(e),this.classes.add("dropzone"),e.multiple&&this.classes.add("multiple")},renderHtml:function(){var e,n,t=this.settings;return e={id:this._id,hidefocus:"1"},n=Ce.create("div",e,"<span>"+this.translate(t.text)+"</span>"),t.height&&Ce.css(n,"height",t.height+"px"),t.width&&Ce.css(n,"width",t.width+"px"),n.className=this.classes,n.outerHTML},postRender:function(){var e=this,n=function(n){n.preventDefault(),e.classes.toggle("dragenter"),e.getEl().className=e.classes};e._super(),e.$el.on("dragover",function(e){e.preventDefault()}),e.$el.on("dragenter",n),e.$el.on("dragleave",n),e.$el.on("drop",function(n){if(n.preventDefault(),!e.state.get("disabled")){var t=function(n){var t=e.settings.accept;if("string"!==typeof t)return n;var l=new RegExp("("+t.split(/\s*,\s*/).join("|")+")$","i");return u.grep(n,function(e){return l.test(e.name)})}(n.dataTransfer.files);e.value=function(){return t.length?e.settings.multiple?t:t[0]:null},t.length&&e.fire("change",n)}})},remove:function(){this.$el.off(),this._super()}}),ut=Mn.extend({init:function(e){var n=this;e.delimiter||(e.delimiter="\xbb"),n._super(e),n.classes.add("path"),n.canFocus=!0,n.on("click",function(e){var t;(t=e.target.getAttribute("data-index"))&&n.fire("select",{value:n.row()[t],index:t})}),n.row(n.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",function(n){e.innerHtml(e._getDataPathHtml(n.value))}),e._super()},_getDataPathHtml:function(e){var n,t,l=e||[],r="",o=this.classPrefix;for(n=0,t=l.length;n<t;n++)r+=(n>0?'<div class="'+o+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(n===t-1?" "+o+"last":"")+'" data-index="'+n+'" tabindex="-1" id="'+this._id+"-"+n+'" aria-level="'+(n+1)+'">'+l[n].name+"</div>";return r||(r='<div class="'+o+'path-item">\xa0</div>'),r}}),at=ut.extend({postRender:function(){var e=this,n=e.settings.editor;function t(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}return!1!==n.settings.elementpath&&(e.on("select",function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()}),n.on("nodeChange",function(l){for(var r=[],o=l.parents,i=o.length;i--;)if(1===o[i].nodeType&&!t(o[i])){var u=n.fire("ResolveName",{name:o[i].nodeName.toLowerCase(),target:o[i]});if(u.isDefaultPrevented()||r.push({name:u.name,element:o[i]}),u.isPropagationStopped())break}e.row(r)})),e._super()}}),st=an.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this._layout,n=this.classPrefix;return this.classes.add("formitem"),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+n+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"}}),ct=an.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,n=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),n.each(function(n){var t,l=n.settings.label;l&&((t=new st(u.extend({items:{type:"label",id:n._id+"-l",text:l,flex:0,forId:n._id,disabled:n.disabled()}},e.settings.formItemDefaults))).type="formitem",n.aria("labelledby",n._id+"-l"),"undefined"===typeof n.settings.flex&&(n.settings.flex=1),e.replace(n,t),t.add(n))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){var e=this;function n(){var n,t,l=0,r=[];if(!1!==e.settings.labelGapCalc)for(("children"===e.settings.labelGapCalc?e.find("formitem"):e.items()).filter("formitem").each(function(e){var n=e.items()[0],t=n.getEl().clientWidth;l=t>l?t:l,r.push(n)}),t=e.settings.labelGap||0,n=r.length;n--;)r[n].settings.minWidth=l+t}e._super(),e.on("show",n),n()}}),dt=ct.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this._layout,n=this.classPrefix;return this.preRender(),e.preRender(this),'<fieldset id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+n+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></fieldset>"}}),ft=0,pt=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:k(e)}},ht={fromHtml:function(e,n){var t=(n||document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||t.childNodes.length>1)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return pt(t.childNodes[0])},fromTag:function(e,n){var t=(n||document).createElement(e);return pt(t)},fromText:function(e,n){var t=(n||document).createTextNode(e);return pt(t)},fromDom:pt,fromPoint:function(e,n,t){var l=e.dom();return M.from(l.elementFromPoint(n,t)).map(pt)}},gt=(Node.ATTRIBUTE_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE,Node.DOCUMENT_NODE),mt=(Node.DOCUMENT_TYPE_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE),vt=(Node.TEXT_NODE,Node.PROCESSING_INSTRUCTION_NODE,Node.ENTITY_REFERENCE_NODE,Node.ENTITY_NODE,Node.NOTATION_NODE,"undefined"!==typeof window?window:Function("return this;")(),function(){return bt(0,0)}),bt=function(e,n){return{major:e,minor:n}},yt={nu:bt,detect:function(e,n){var t=String(n).toLowerCase();return 0===e.length?vt():function(e,n){var t=function(e,n){for(var t=0;t<e.length;t++){var l=e[t];if(l.test(n))return l}}(e,n);if(!t)return{major:0,minor:0};var l=function(e){return Number(n.replace(t,"$"+e))};return bt(l(1),l(2))}(e,t)},unknown:vt},Ct=function(e,n){return function(){return n===e}},wt=function(e){var n=e.current;return{current:n,version:e.version,isEdge:Ct("Edge",n),isChrome:Ct("Chrome",n),isIE:Ct("IE",n),isOpera:Ct("Opera",n),isFirefox:Ct("Firefox",n),isSafari:Ct("Safari",n)}},xt={unknown:function(){return wt({current:void 0,version:yt.unknown()})},nu:wt,edge:k("Edge"),chrome:k("Chrome"),ie:k("IE"),opera:k("Opera"),firefox:k("Firefox"),safari:k("Safari")},_t=function(e,n){return function(){return n===e}},At=function(e){var n=e.current;return{current:n,version:e.version,isWindows:_t("Windows",n),isiOS:_t("iOS",n),isAndroid:_t("Android",n),isOSX:_t("OSX",n),isLinux:_t("Linux",n),isSolaris:_t("Solaris",n),isFreeBSD:_t("FreeBSD",n)}},kt={unknown:function(){return At({current:void 0,version:yt.unknown()})},nu:At,windows:k("Windows"),ios:k("iOS"),android:k("Android"),linux:k("Linux"),osx:k("OSX"),solaris:k("Solaris"),freebsd:k("FreeBSD")},Ot=function(e,n){var t=String(n).toLowerCase();return function(e,n){for(var t=0,l=e.length;t<l;t++){var r=e[t];if(n(r,t,e))return M.some(r)}return M.none()}(e,function(e){return e.search(t)})},St=function(e,n){return Ot(e,n).map(function(e){var t=yt.detect(e.versionRegexes,n);return{current:e.name,version:t}})},Et=function(e,n){return Ot(e,n).map(function(e){var t=yt.detect(e.versionRegexes,n);return{current:e.name,version:t}})},Rt=function(e,n){return-1!==e.indexOf(n)},Pt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Mt=function(e){return function(n){return Rt(n,e)}},It=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Rt(e,"edge/")&&Rt(e,"chrome")&&Rt(e,"safari")&&Rt(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Pt],search:function(e){return Rt(e,"chrome")&&!Rt(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Rt(e,"msie")||Rt(e,"trident")}},{name:"Opera",versionRegexes:[Pt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Mt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Mt("firefox")},{name:"Safari",versionRegexes:[Pt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Rt(e,"safari")||Rt(e,"mobile/"))&&Rt(e,"applewebkit")}}],Dt=[{name:"Windows",search:Mt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Rt(e,"iphone")||Rt(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Mt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Mt("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Mt("linux"),versionRegexes:[]},{name:"Solaris",search:Mt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Mt("freebsd"),versionRegexes:[]}],Tt={browsers:k(It),oses:k(Dt)},Nt=function(e){var n=Tt.browsers(),t=Tt.oses(),l=St(n,e).fold(xt.unknown,xt.nu),r=Et(t,e).fold(kt.unknown,kt.nu);return{browser:l,os:r,deviceType:function(e,n,t){var l=e.isiOS()&&!0===/ipad/i.test(t),r=e.isiOS()&&!l,o=e.isAndroid()&&3===e.version.major,i=e.isAndroid()&&4===e.version.major,u=l||o||i&&!0===/mobile/i.test(t),a=e.isiOS()||e.isAndroid(),s=a&&!u,c=n.isSafari()&&e.isiOS()&&!1===/safari/i.test(t);return{isiPad:k(l),isiPhone:k(r),isTablet:k(u),isPhone:k(s),isTouch:k(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:k(c)}}(r,l,e)}},Bt=mt,Ft=gt,Lt=function(e){return e.nodeType!==Bt&&e.nodeType!==Ft||0===e.childElementCount},Ht=((Vn=function(){var e=navigator.userAgent;return Nt(e)},jn=!1,function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return jn||(jn=!0,qn=Vn.apply(null,e)),qn})().browser.isIE(),function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}("element","offset"),u.trim),zt=function(e){return function(n){if(n&&1===n.nodeType){if(n.contentEditable===e)return!0;if(n.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Vt=zt("true"),qt=zt("false"),jt=function(e,n,t,l,r){return{type:e,title:n,url:t,level:l,attach:r}},Wt=function(e){return e.innerText||e.textContent},Ut=function(e){return e.id?e.id:(n="h",t=(new Date).getTime(),n+"_"+Math.floor(1e9*Math.random())+ ++ft+String(t));var n,t},Qt=function(e){return function(e){return e&&"A"===e.nodeName&&(e.id||e.name)}(e)&&Kt(e)},Gt=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},Kt=function(e){return function(e){for(;e=e.parentNode;){var n=e.contentEditable;if(n&&"inherit"!==n)return Vt(e)}return!1}(e)&&!qt(e)},Yt=function(e){return Gt(e)&&Kt(e)},Zt=function(e){var n=Ut(e);return jt("header",Wt(e),"#"+n,function(e){return Gt(e)?parseInt(e.nodeName.substr(1),10):0}(e),function(){e.id=n})},Jt=function(e){var n=e.id||e.name,t=Wt(e);return jt("anchor",t||"#"+n,"#"+n,0,A)},Xt=function(e){var n,t;return n="h1,h2,h3,h4,h5,h6,a:not([href])",t=e,G(((Vn=function(){var e=navigator.userAgent;return Nt(e)},jn=!1,function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return jn||(jn=!0,qn=Vn.apply(null,e)),qn})().browser.isIE(),function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}("element","offset"),function(e,n){return function(e,n){var t=void 0===n?document:n.dom();return Lt(t)?[]:G(t.querySelectorAll(e),ht.fromDom)}(n,e)})(ht.fromDom(t),n),function(e){return e.dom()})},$t=function(e){return Ht(e.title).length>0},el=function(e){var n=Xt(e);return Y(function(e){return G(Y(e,Yt),Zt)}(n).concat(function(e){return G(Y(e,Qt),Jt)}(n)),$t)},nl={},tl=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},ll=function(e,n){return{title:e,value:{title:e,url:n,attach:A}}},rl=function(e,n,t){var l=n in e?e[n]:t;return!1===l?null:l},ol=function(e,n,t,l){var r,o,i,a={title:"-"},s=function(e){var l=e.hasOwnProperty(t)?e[t]:[],r=Y(l,function(e){return function(e,n){return!Q(n,function(n){return n.url===e})}(e,n)});return u.map(r,function(e){return{title:e,value:{title:e,url:e,attach:A}}})},c=function(e){return function(e){return u.map(e,tl)}(Y(n,function(n){return n.type===e}))};return!1===l.typeahead_urls?[]:"file"===t?(r=[ul(e,s(nl)),ul(e,c("header")),ul(e,function(){var e=c("anchor"),n=rl(l,"anchor_top","#top"),t=rl(l,"anchor_bottom","#bottom");return null!==n&&e.unshift(ll("<top>",n)),null!==t&&e.push(ll("<bottom>",t)),e}())],o=function(e,n){return 0===e.length||0===n.length?e.concat(n):e.concat(a,n)},i=[],K(r,function(e){i=o(i,e)}),i):ul(e,s(nl))},il=function(e,n){var t,l,r,o=nl[n];/^https?/.test(e)&&(o?(t=o,l=e,r=U(t,l),-1===r?M.none():M.some(r)).isNone()&&(nl[n]=o.slice(0,5).concat(e)):nl[n]=[e])},ul=function(e,n){var t=e.toLowerCase(),l=u.grep(n,function(e){return-1!==e.title.toLowerCase().indexOf(t)});return 1===l.length&&l[0].title===e?[]:l},al=function(e,n,t){var l=n.filepicker_validator_handler;l&&e.state.on("change:value",function(n){var r;0!==(r=n.value).length?l({url:r,type:t},function(n){var t=function(e){var n=e.status,t=e.message;return"valid"===n?{status:"ok",message:t}:"unknown"===n?{status:"warn",message:t}:"invalid"===n?{status:"warn",message:t}:{status:"none",message:""}}(n);e.statusMessage(t.message),e.statusLevel(t.status)}):e.statusLevel("none")})},sl=$n.extend({Statics:{clearHistory:function(){nl={}}},init:function(e){var n,t,l,r=this,o=window.tinymce?window.tinymce.activeEditor:i.activeEditor,a=o.settings,s=e.filetype;e.spellcheck=!1,(l=a.file_picker_types||a.file_browser_callback_types)&&(l=u.makeMap(l,/[, ]/)),l&&!l[s]||(!(t=a.file_picker_callback)||l&&!l[s]?!(t=a.file_browser_callback)||l&&!l[s]||(n=function(){t(r.getEl("inp").id,r.value(),s,window)}):n=function(){var e=r.fire("beforecall").meta;e=u.extend({filetype:s},e),t.call(o,function(e,n){r.value(e).fire("change",{meta:n})},r.value(),e)}),n&&(e.icon="browse",e.onaction=n),r._super(e),r.classes.add("filepicker"),function(e,n,t,l){var r=function(r){var o=el(t),i=ol(r,o,l,n);e.showAutoComplete(i,r)};e.on("autocomplete",function(){r(e.value())}),e.on("selectitem",function(n){var t=n.value;e.value(t.url);var r=function(e){var n=e.title;return n.raw?n.raw:n}(t);"image"===l?e.fire("change",{meta:{alt:r,attach:t.attach}}):e.fire("change",{meta:{text:r,attach:t.attach}}),e.focus()}),e.on("click",function(n){0===e.value().length&&"INPUT"===n.target.nodeName&&r("")}),e.on("PostRender",function(){e.getRoot().on("submit",function(n){n.isDefaultPrevented()||il(e.value(),l)})})}(r,a,o.getBody(),s),al(r,a,s)}}),cl=Gn.extend({recalc:function(e){var n=e.layoutRect(),t=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:t.left,y:t.top,w:n.innerW-t.right-t.left,h:n.innerH-t.top-t.bottom}),e.recalc&&e.recalc()})}}),dl=Gn.extend({recalc:function(e){var n,t,l,r,o,i,u,a,s,c,d,f,p,h,g,m,v,b,y,C,w,x,_,A,k,O,S,E,R,P,M,I,D,T,N,B,F,L=[],H=Math.max,z=Math.min;for(l=e.items().filter(":visible"),r=e.layoutRect(),o=e.paddingBox,i=e.settings,f=e.isRtl()?i.direction||"row-reversed":i.direction,u=i.align,a=e.isRtl()?i.pack||"end":i.pack,s=i.spacing||0,"row-reversed"!==f&&"column-reverse"!==f||(l=l.set(l.toArray().reverse()),f=f.split("-")[0]),"column"===f?(A="y",x="h",_="minH",k="maxH",S="innerH",O="top",E="deltaH",R="contentH",T="left",I="w",P="x",M="innerW",D="minW",N="right",B="deltaW",F="contentW"):(A="x",x="w",_="minW",k="maxW",S="innerW",O="left",E="deltaW",R="contentW",T="top",I="h",P="y",M="innerH",D="minH",N="bottom",B="deltaH",F="contentH"),d=r[S]-o[O]-o[O],w=c=0,n=0,t=l.length;n<t;n++)h=(p=l[n]).layoutRect(),g=p.settings.flex,d-=n<t-1?s:0,g>0&&(c+=g,h[k]&&L.push(p),h.flex=g),d-=h[_],(m=o[T]+h[D]+o[N])>w&&(w=m);if((y={})[_]=d<0?r[_]-d+r[E]:r[S]-d+r[E],y[D]=w+r[B],y[R]=r[S]-d,y[F]=w,y.minW=z(y.minW,r.maxW),y.minH=z(y.minH,r.maxH),y.minW=H(y.minW,r.startMinWidth),y.minH=H(y.minH,r.startMinHeight),!r.autoResize||y.minW===r.minW&&y.minH===r.minH){for(b=d/c,n=0,t=L.length;n<t;n++)v=(h=(p=L[n]).layoutRect())[k],(m=h[_]+h.flex*b)>v?(d-=h[k]-h[_],c-=h.flex,h.flex=0,h.maxFlexSize=v):h.maxFlexSize=0;for(b=d/c,C=o[O],y={},0===c&&("end"===a?C=d+o[O]:"center"===a?(C=Math.round(r[S]/2-(r[S]-d)/2)+o[O])<0&&(C=o[O]):"justify"===a&&(C=o[O],s=Math.floor(d/(l.length-1)))),y[P]=o[T],n=0,t=l.length;n<t;n++)m=(h=(p=l[n]).layoutRect()).maxFlexSize||h[_],"center"===u?y[P]=Math.round(r[M]/2-h[I]/2):"stretch"===u?(y[I]=H(h[D]||0,r[M]-o[T]-o[N]),y[P]=o[T]):"end"===u&&(y[P]=r[M]-h[I]-o.top),h.flex>0&&(m+=h.flex*b),y[x]=m,y[A]=C,p.layoutRect(y),p.recalc&&p.recalc(),C+=m+s}else if(y.w=y.minW,y.h=y.minH,e.layoutRect(y),this.recalc(e),null===e._lastRect){var V=e.parent();V&&(V._lastRect=null,V.recalc())}}}),fl=Qn.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}}),pl=function(e,n){return function(e,n){var t=void 0===n?document:n.dom();return Lt(t)?M.none():M.from(t.querySelector(e)).map(ht.fromDom)}(n,e)},hl=function(e,n){return function(){e.execCommand("mceToggleFormat",!1,n)}},gl=function(e,n,t){var l=function(e){t(e,n)};e.formatter?e.formatter.formatChanged(n,l):e.on("init",function(){e.formatter.formatChanged(n,l)})},ml=function(e,n){return function(t){gl(e,n,function(e){t.control.active(e)})}},vl=function(e){var n=["alignleft","aligncenter","alignright","alignjustify"],t=[{text:"Left",icon:"alignleft",onclick:hl(e,"alignleft")},{text:"Center",icon:"aligncenter",onclick:hl(e,"aligncenter")},{text:"Right",icon:"alignright",onclick:hl(e,"alignright")},{text:"Justify",icon:"alignjustify",onclick:hl(e,"alignjustify")}];e.addMenuItem("align",{text:"Align",menu:t}),e.addButton("align",{type:"menubutton",icon:"alignleft",menu:t,onShowMenu:function(t){var l=t.control.menu;u.each(n,function(n,t){l.items().eq(t).each(function(t){return t.active(e.formatter.match(n))})})},onPostRender:function(t){var l=t.control;u.each(n,function(n,t){gl(e,n,function(e){l.icon("alignleft"),e&&l.icon(n)})})}}),u.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(n,t){e.addButton(t,{active:!1,tooltip:n[0],cmd:n[1],onPostRender:ml(e,t)})})},bl=function(e){return e?e.split(",")[0]:""},yl=function(e,n){return function(){var t=this;t.state.set("value",null),e.on("init nodeChange",function(l){var r=e.queryCommandValue("FontName"),o=function(e,n){var t,l=n?n.toLowerCase():"";return u.each(e,function(e){e.value.toLowerCase()===l&&(t=e.value)}),u.each(e,function(e){t||bl(e.value).toLowerCase()!==bl(l).toLowerCase()||(t=e.value)}),t}(n,r);t.value(o||null),!o&&r&&t.text(bl(r))})}},Cl=function(e){e.addButton("fontselect",function(){var n=function(e){var n=function(e){for(var n=(e=e.replace(/;$/,"").split(";")).length;n--;)e[n]=e[n].split("=");return e}(e.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return u.map(n,function(e){return{text:{raw:e[0]},value:e[1],textStyle:-1===e[1].indexOf("dings")?"font-family:"+e[1]:""}})}(e);return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:!0,onPostRender:yl(e,n),onselect:function(n){n.control.settings.value&&e.execCommand("FontName",!1,n.control.settings.value)}}})},wl=function(e){Cl(e)},xl=function(e,n){return/[0-9.]+px$/.test(e)?function(e,n){var t=Math.pow(10,n);return Math.round(e*t)/t}(72*parseInt(e,10)/96,n||0)+"pt":e},_l=function(e,n,t){var l;return u.each(e,function(e){e.value===t?l=t:e.value===n&&(l=n)}),l},Al=function(e){e.addButton("fontsizeselect",function(){var n=function(e){var n=e.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return u.map(n.split(" "),function(e){var n=e,t=e,l=e.split("=");return l.length>1&&(n=l[0],t=l[1]),{text:n,value:t}})}(e);return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:n,fixedWidth:!0,onPostRender:function(e,n){return function(){var t=this;e.on("init nodeChange",function(l){var r,o,i,u;if(r=e.queryCommandValue("FontSize"))for(i=3;!u&&i>=0;i--)o=xl(r,i),u=_l(n,o,r);t.value(u||null),u||t.text(o)})}}(e,n),onclick:function(n){n.control.settings.value&&e.execCommand("FontSize",!1,n.control.settings.value)}}})},kl=function(e){Al(e)},Ol=function(e,n){var t=n.length;return u.each(n,function(n){n.menu&&(n.hidden=0===Ol(e,n.menu));var l=n.format;l&&(n.hidden=!e.formatter.canApply(l)),n.hidden&&t--}),t},Sl=function(e,n){var t=n.items().length;return n.items().each(function(n){n.menu&&n.visible(Sl(e,n.menu)>0),!n.menu&&n.settings.menu&&n.visible(Ol(e,n.settings.menu)>0);var l=n.settings.format;l&&n.visible(e.formatter.canApply(l)),n.visible()||t--}),t},El=function(e){var n=function(e){var n=0,t=[],l=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],r=function(e){var l=[];if(e)return u.each(e,function(e){var o={text:e.title,icon:e.icon};if(e.items)o.menu=r(e.items);else{var i=e.format||"custom"+n++;e.format||(e.name=i,t.push(e)),o.format=i,o.cmd=e.cmd}l.push(o)}),l};return e.on("init",function(){u.each(t,function(n){e.formatter.register(n.name,n)})}),{type:"menu",items:e.settings.style_formats_merge?e.settings.style_formats?r(l.concat(e.settings.style_formats)):r(l):r(e.settings.style_formats||l),onPostRender:function(n){e.fire("renderFormatsMenu",{control:n.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return e.formatter.getCssText(this.settings.format)},onPostRender:function(){var n=this;n.parent().on("show",function(){var t,l;(t=n.settings.format)&&(n.disabled(!e.formatter.canApply(t)),n.active(e.formatter.match(t))),(l=n.settings.cmd)&&n.active(e.queryCommandState(l))})},onclick:function(){this.settings.format&&hl(e,this.settings.format)(),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}}(e);!function(e,n){e.addMenuItem("formats",{text:"Formats",menu:n})}(e,n),function(e,n){e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:n,onShowMenu:function(){e.settings.style_formats_autohide&&Sl(e,this.menu)}})}(e,n)},Rl=function(e,n){return function(){var t=[];return u.each(n,function(n){t.push({text:n[0],value:n[1],textStyle:function(){return e.formatter.getCssText(n[1])}})}),{type:"listbox",text:n[0][0],values:t,fixedWidth:!0,onselect:function(n){if(n.control){var t=n.control.value();hl(e,t)()}},onPostRender:function(e,n,t){return function(){var l=this;e.on("nodeChange",function(r){var o=e.formatter,i=null;u.each(r.parents,function(e){if(u.each(n,function(n){if(t?o.matchNode(e,t,{value:n.value})&&(i=n.value):o.matchNode(e,n.value)&&(i=n.value),i)return!1}),i)return!1}),l.value(i)})}}(e,t)}}},Pl=function(e){var n=function(e){for(var n=(e=e.replace(/;$/,"").split(";")).length;n--;)e[n]=e[n].split("=");return e}(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");e.addMenuItem("blockformats",{text:"Blocks",menu:function(e,n){return u.map(n,function(n){return{text:n[0],onclick:hl(e,n[1]),textStyle:function(){return e.formatter.getCssText(n[1])}}})}(e,n)}),e.addButton("formatselect",Rl(e,n))},Ml=function(e,n){var t,l;if("string"===typeof n)l=n.split(" ");else if(u.isArray(n))return function(e){for(var n=[],t=0,l=e.length;t<l;++t){if(!Array.prototype.isPrototypeOf(e[t]))throw new Error("Arr.flatten item "+t+" was not an array, input: "+e);X.apply(n,e[t])}return n}(u.map(n,function(n){return Ml(e,n)}));return t=u.grep(l,function(n){return"|"===n||n in e.menuItems}),u.map(t,function(n){return"|"===n?{text:"-"}:e.menuItems[n]})},Il=function(e){return e&&"-"===e.text},Dl=function(e){var n=Y(e,function(e,n,t){return!Il(e)||!Il(t[n-1])});return Y(n,function(e,n,t){return!Il(e)||n>0&&n<t.length-1})},Tl=function(e){var n=e.settings.insert_button_items;return Dl(n?Ml(e,n):function(e,n){var t=[{text:"-"}],l=u.grep(e.menuItems,function(e){return e.context===n});return u.each(l,function(e){"before"===e.separator&&t.push({text:"|"}),e.prependToContext?t.unshift(e):t.push(e),"after"===e.separator&&t.push({text:"|"})}),t}(e,"insert"))},Nl=function(e){!function(e){e.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(Tl(e)),this.menu.renderNew()}})}(e)},Bl=function(e){!function(e){u.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(n,t){e.addButton(t,{active:!1,tooltip:n,onPostRender:ml(e,t),onclick:hl(e,t)})})}(e),function(e){u.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(n,t){e.addButton(t,{tooltip:n[0],cmd:n[1]})})}(e),function(e){u.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(n,t){e.addButton(t,{active:!1,tooltip:n[0],cmd:n[1],onPostRender:ml(e,t)})})}(e)},Fl=function(e){Bl(e),function(e){u.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(n,t){e.addMenuItem(t,{text:n[0],icon:t,shortcut:n[2],cmd:n[1]})}),e.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:hl(e,"code")})}(e)},Ll=function(e,n){return function(){var t=this,l=function(){var t="redo"===n?"hasRedo":"hasUndo";return!!e.undoManager&&e.undoManager[t]()};t.disabled(!l()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){t.disabled(e.readonly||!l())})}},Hl=function(e){!function(e){e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:Ll(e,"undo"),cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:Ll(e,"redo"),cmd:"redo"})}(e),function(e){e.addButton("undo",{tooltip:"Undo",onPostRender:Ll(e,"undo"),cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:Ll(e,"redo"),cmd:"redo"})}(e)},zl=function(e){!function(e){e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(e){return function(){var n=this;e.on("VisualAid",function(e){n.active(e.hasVisual)}),n.active(e.hasVisual)}}(e),cmd:"mceToggleVisualAid"})}(e)},Vl={setup:function(e){!function(e){e.rtl&&(ln.rtl=!0)}(e),function(e){e.on("mousedown",function(){An.hideAll()})}(e),function(e){e.settings.ui_container&&(se.container=pl(ht.fromDom(document.body),e.settings.ui_container).fold(k(null),function(e){return e.dom()}))}(e),Mn.tooltips=!se.iOS,ln.translate=function(e){return i.translate(e)},Pl(e),vl(e),Fl(e),Hl(e),kl(e),wl(e),El(e),zl(e),Nl(e)}},ql=Gn.extend({recalc:function(e){var n,t,l,r,o,i,u,a,s,c,d,f,p,h,g,m,v,b,y,C,w,x,_,A,k,O,S,E,R=[],P=[];n=e.settings,r=e.items().filter(":visible"),o=e.layoutRect(),l=n.columns||Math.ceil(Math.sqrt(r.length)),t=Math.ceil(r.length/l),b=n.spacingH||n.spacing||0,y=n.spacingV||n.spacing||0,C=n.alignH||n.align,w=n.alignV||n.align,m=e.paddingBox,E="reverseRows"in n?n.reverseRows:e.isRtl(),C&&"string"===typeof C&&(C=[C]),w&&"string"===typeof w&&(w=[w]);for(d=0;d<l;d++)R.push(0);for(f=0;f<t;f++)P.push(0);for(f=0;f<t;f++)for(d=0;d<l&&(c=r[f*l+d]);d++)A=(s=c.layoutRect()).minW,k=s.minH,R[d]=A>R[d]?A:R[d],P[f]=k>P[f]?k:P[f];for(O=o.innerW-m.left-m.right,x=0,d=0;d<l;d++)x+=R[d]+(d>0?b:0),O-=(d>0?b:0)+R[d];for(S=o.innerH-m.top-m.bottom,_=0,f=0;f<t;f++)_+=P[f]+(f>0?y:0),S-=(f>0?y:0)+P[f];if(x+=m.left+m.right,_+=m.top+m.bottom,(a={}).minW=x+(o.w-o.innerW),a.minH=_+(o.h-o.innerH),a.contentW=a.minW-o.deltaW,a.contentH=a.minH-o.deltaH,a.minW=Math.min(a.minW,o.maxW),a.minH=Math.min(a.minH,o.maxH),a.minW=Math.max(a.minW,o.startMinWidth),a.minH=Math.max(a.minH,o.startMinHeight),!o.autoResize||a.minW===o.minW&&a.minH===o.minH){var M;o.autoResize&&((a=e.layoutRect(a)).contentW=a.minW-o.deltaW,a.contentH=a.minH-o.deltaH),M="start"===n.packV?0:S>0?Math.floor(S/t):0;var I=0,D=n.flexWidths;if(D)for(d=0;d<D.length;d++)I+=D[d];else I=l;var T=O/I;for(d=0;d<l;d++)R[d]+=D?D[d]*T:T;for(h=m.top,f=0;f<t;f++){for(p=m.left,u=P[f]+M,d=0;d<l&&(c=r[E?f*l+l-1-d:f*l+d]);d++)g=c.settings,s=c.layoutRect(),i=Math.max(R[d],s.startMinWidth),s.x=p,s.y=h,"center"===(v=g.alignH||(C?C[d]||C[0]:null))?s.x=p+i/2-s.w/2:"right"===v?s.x=p+i-s.w:"stretch"===v&&(s.w=i),"center"===(v=g.alignV||(w?w[d]||w[0]:null))?s.y=h+u/2-s.h/2:"bottom"===v?s.y=h+u-s.h:"stretch"===v&&(s.h=u),c.layoutRect(s),p+=i+b,c.recalc&&c.recalc();h+=u+y}}else if(a.w=a.minW,a.h=a.minH,e.layoutRect(a),this.recalc(e),null===e._lastRect){var N=e.parent();N&&(N._lastRect=null,N.recalc())}}}),jl=Mn.extend({renderHtml:function(){return this.classes.add("iframe"),this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,n){var t=this,l=this.getEl().contentWindow.document.body;return l?(l.innerHTML=e,n&&n()):_.setTimeout(function(){t.html(e)}),this}}),Wl=Mn.extend({init:function(e){this._super(e),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+e+"ico "+e+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",function(n){e.getEl("body").firstChild.data=e.encode(n.value),e.state.get("rendered")&&e.updateLayoutRect()}),e.state.on("change:help",function(n){e.classes.toggle("has-help",n.value),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}}),Ul=Mn.extend({init:function(e){this._super(e),this.classes.add("widget").add("label"),this.canFocus=!1,e.multiline&&this.classes.add("autoscroll"),e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();return this.settings.multiline&&(Ce.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,Ce.getSize(this.getEl()).height)),e},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,n,t=this.settings.forId,l=this.settings.html?this.settings.html:this.encode(this.state.get("text"));return!t&&(n=this.settings.forName)&&(e=this.getRoot().find("#"+n)[0])&&(t=e._id),t?'<label id="'+this._id+'" class="'+this.classes+'"'+(t?' for="'+t+'"':"")+">"+l+"</label>":'<span id="'+this._id+'" class="'+this.classes+'">'+l+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",function(n){e.innerHtml(e.encode(n.value)),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}}),Ql=an.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(e){e.classes.add("toolbar-item")}),this._super()}}),Gl=Ql.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),Kl=Kn.extend({init:function(e){this._renderOpen=!0,this._super(e),e=this.settings,this.classes.add("menubtn"),e.fixedWidth&&this.classes.add("fixed-width"),this.aria("haspopup",!0),this.state.set("menu",e.menu||this.render())},showMenu:function(e){var n,t=this;if(t.menu&&t.menu.visible()&&!1!==e)return t.hideMenu();t.menu||(n=t.state.get("menu")||[],t.classes.add("opened"),n.length?n={type:"menu",animate:!0,items:n}:(n.type=n.type||"menu",n.animate=!0),n.renderTo?t.menu=n.parent(t).show().renderTo():t.menu=g.create(n).parent(t).renderTo(),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control.parent()===t.menu&&(e.stopPropagation(),t.focus(),t.hideMenu())}),t.menu.on("select",function(){t.focus()}),t.menu.on("show hide",function(e){"hide"===e.type&&e.control.parent()===t&&t.classes.remove("opened-under"),e.control===t.menu&&(t.activeMenu("show"===e.type),t.classes.toggle("opened","show"===e.type)),t.aria("expanded","show"===e.type)}).fire("show")),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.repaint(),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);var l=t.menu.layoutRect(),r=t.$el.offset().top+t.layoutRect().h;r>l.y&&r<l.y+l.h&&t.classes.add("opened-under"),t.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,n=this._id,t=this.classPrefix,l=this.settings.icon,r=this.state.get("text"),o="";return(e=this.settings.image)?(l="none","string"!==typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",r&&(this.classes.add("btn-has-text"),o='<span class="'+t+'txt">'+this.encode(r)+"</span>"),l=this.settings.icon?t+"ico "+t+"i-"+l:"",this.aria("role",this.parent()instanceof Gl?"menuitem":"button"),'<div id="'+n+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(l?'<i class="'+l+'"'+e+"></i>":"")+o+' <i class="'+t+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(n){n.control===e&&function(e,n){for(;e;){if(n===e)return!0;e=e.parentNode}return!1}(n.target,e.getEl())&&(e.focus(),e.showMenu(!n.aria),n.aria&&e.menu.items().filter(":visible")[0].focus())}),e.on("mouseenter",function(n){var t,l=n.control,r=e.parent();l&&r&&l instanceof Kl&&l.parent()===r&&(r.items().filter("MenuButton").each(function(e){e.hideMenu&&e!==l&&(e.menu&&e.menu.visible()&&(t=!0),e.hideMenu())}),t&&(l.focus(),l.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}}),Yl=An.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){if(e.autohide=!0,e.constrainToViewport=!0,"function"===typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var n=e.items,t=n.length;t--;)n[t]=u.extend({},e.itemDefaults,n[t]);this._super(e),this.classes.add("menu"),e.animate&&11!==se.ie&&this.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var e,n=this;function t(){n.throbber&&(n.throbber.hide(),n.throbber=null)}n.settings.itemsFactory&&(n.throbber||(n.throbber=new Sn(n.getEl("body"),!0),0===n.items().length?(n.throbber.show(),n.fire("loading")):n.throbber.show(100,function(){n.items().remove(),n.fire("loading")}),n.on("hide close",t)),n.requestTime=e=(new Date).getTime(),n.settings.itemsFactory(function(l){0!==l.length?n.requestTime===e&&(n.getEl().style.width="",n.getEl("body").style.width="",t(),n.items().remove(),n.getEl("body").innerHTML="",n.add(l),n.renderNew(),n.fire("loaded")):n.hide()}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var e=this;return e.items().each(function(n){var t=n.settings;if(t.icon||t.image||t.selectable)return e._hasIcons=!0,!1}),e.settings.itemsFactory&&e.on("postrender",function(){e.settings.itemsFactory&&e.load()}),e.on("show hide",function(n){n.control===e&&("show"===n.type?_.setTimeout(function(){e.classes.add("in")},0):e.classes.remove("in"))}),e._super()}}),Zl=Kl.extend({init:function(e){var n,t,l,r,o=this;o._super(e),e=o.settings,o._values=n=e.values,n&&("undefined"!==typeof e.value&&function n(r){for(var i=0;i<r.length;i++){if(t=r[i].selected||e.value===r[i].value)return l=l||r[i].text,o.state.set("value",r[i].value),!0;if(r[i].menu&&n(r[i].menu))return!0}}(n),!t&&n.length>0&&(l=n[0].text,o.state.set("value",n[0].value)),o.state.set("menu",n)),o.state.set("text",e.text||l),o.classes.add("listbox"),o.on("select",function(n){var t=n.control;r&&(n.lastControl=r),e.multiple?t.active(!t.active()):o.value(n.control.value()),r=t})},value:function(e){return 0===arguments.length?this.state.get("value"):"undefined"===typeof e?this:(this.settings.values&&!function n(t){return Q(t,function(t){return t.menu?n(t.menu):t.value===e})}(this.settings.values)?null===e&&this.state.set("value",null):this.state.set("value",e),this)},bindStates:function(){var e=this;return e.on("show",function(n){var t,l;t=n.control,l=e.value(),t instanceof Yl&&t.items().each(function(e){e.hasMenus()||e.active(e.value()===l)})}),e.state.on("change:value",function(n){var t=function e(n,t){var l;if(n)for(var r=0;r<n.length;r++){if(n[r].value===t)return n[r];if(n[r].menu&&(l=e(n[r].menu,t)))return l}}(e.state.get("menu"),n.value);t?e.text(t.text):e.text(e.settings.text)}),e._super()}}),Jl=Mn.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var n;this._super(e),e=this.settings,this.classes.add("menu-item"),e.menu&&this.classes.add("menu-item-expand"),e.preview&&this.classes.add("menu-item-preview"),"-"!==(n=this.state.get("text"))&&"|"!==n||(this.classes.add("menu-item-sep"),this.aria("role","separator"),this.state.set("text","-")),e.selectable&&(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||this.classes.add("menu-item-normal"),this.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,n=this,t=n.settings,l=n.parent();if(l.items().each(function(e){e!==n&&e.hideMenu()}),t.menu){(e=n.menu)?e.show():((e=t.menu).length?e={type:"menu",items:e}:e.type=e.type||"menu",l.settings.itemDefaults&&(e.itemDefaults=l.settings.itemDefaults),(e=n.menu=g.create(e).parent(n).renderTo()).reflow(),e.on("cancel",function(t){t.stopPropagation(),n.focus(),e.hide()}),e.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),e.on("hide",function(t){t.control===e&&n.classes.remove("selected")}),e.submenu=!0),e._parentMenu=l,e.classes.add("menu-sub");var r=e.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(n.getEl(),r),e.rel=r,r="menu-sub-"+r,e.classes.remove(e._lastRel).add(r),e._lastRel=r,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){return this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){var e,n=this._id,t=this.settings,l=this.classPrefix,r=this.state.get("text"),o=this.settings.icon,i="",u=t.shortcut,a=this.encode(t.url);function s(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c(e){var n=t.match||"";return n?e.replace(new RegExp(s(n),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):e}function d(e){return e.replace(new RegExp(s("!mce~match["),"g"),"<b>").replace(new RegExp(s("]mce~match!"),"g"),"</b>")}return o&&this.parent().classes.add("menu-has-icons"),t.image&&(i=" style=\"background-image: url('"+t.image+"')\""),u&&(u=function(e){var n,t,l={};for(l=se.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),n=0;n<e.length;n++)(t=l[e[n].toLowerCase()])&&(e[n]=t);return e.join("+")}(u)),o=l+"ico "+l+"i-"+(this.settings.icon||"none"),e="-"!==r?'<i class="'+o+'"'+i+"></i>\xa0":"",r=d(this.encode(c(r))),a=d(this.encode(c(a))),'<div id="'+n+'" class="'+this.classes+'" tabindex="-1">'+e+("-"!==r?'<span id="'+n+'-text" class="'+l+'text">'+r+"</span>":"")+(u?'<div id="'+n+'-shortcut" class="'+l+'menu-shortcut">'+u+"</div>":"")+(t.menu?'<div class="'+l+'caret"></div>':"")+(a?'<div class="'+l+'menu-item-link">'+a+"</div>":"")+"</div>"},postRender:function(){var e=this,n=e.settings,t=n.textStyle;if("function"===typeof t&&(t=t.call(this)),t){var l=e.getEl("text");l&&(l.setAttribute("style",t),e._textStyle=t)}return e.on("mouseenter click",function(t){t.control===e&&(n.menu||"click"!==t.type?(e.showMenu(),t.aria&&e.menu.focus(!0)):(e.fire("select"),_.requestAnimationFrame(function(){e.parent().hideAll()})))}),e._super(),e},hover:function(){return this.parent().items().each(function(e){e.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(e){return function(e,n){var t=e._textStyle;if(t){var l=e.getEl("text");l.setAttribute("style",t),n&&(l.style.color="",l.style.backgroundColor="")}}(this,e),"undefined"!==typeof e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),Xl=Jn.extend({Defaults:{classes:"radio",role:"radio"}}),$l=Mn.extend({renderHtml:function(){var e=this.classPrefix;return this.classes.add("resizehandle"),"both"===this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new cn(this._id,{start:function(){e.fire("ResizeStart")},drag:function(n){"both"!==e.settings.direction&&(n.deltaX=0),e.fire("Resize",n)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}});function er(e){var n="";if(e)for(var t=0;t<e.length;t++)n+='<option value="'+e[t]+'">'+e[t]+"</option>";return n}var nr=Mn.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var n=this;n._super(e),n.settings.size&&(n.size=n.settings.size),n.settings.options&&(n._options=n.settings.options),n.on("keydown",function(e){var t;13===e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,n="";return e=er(this._options),this.size&&(n=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+n+">"+e+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",function(n){e.getEl().innerHTML=er(n.value)}),e._super()}});function tr(e,n,t){return e<n&&(e=n),e>t&&(e=t),e}function lr(e,n,t){e.setAttribute("aria-"+n,t)}function rr(e,n){var t,l,r,o,i;"v"===e.settings.orientation?(r="top",l="height",t="h"):(r="left",l="width",t="w"),i=e.getEl("handle"),o=((e.layoutRect()[t]||100)-Ce.getSize(i)[l])*((n-e._minValue)/(e._maxValue-e._minValue))+"px",i.style[r]=o,i.style.height=e.layoutRect().h+"px",lr(i,"valuenow",n),lr(i,"valuetext",""+e.settings.previewFilter(n)),lr(i,"valuemin",e._minValue),lr(i,"valuemax",e._maxValue)}var or=Mn.extend({init:function(e){e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),this._super(e),this.classes.add("slider"),"v"===e.orientation&&this.classes.add("vertical"),this._minValue=W(e.minValue)?e.minValue:0,this._maxValue=W(e.maxValue)?e.maxValue:100,this._initValue=this.state.get("value")},renderHtml:function(){var e=this._id,n=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,n,t,l,r,o,i=this;e=i._minValue,n=i._maxValue,"v"===i.settings.orientation?(t="screenY",l="top",r="height",o="h"):(t="screenX",l="left",r="width",o="w"),i._super(),function(e,n){function t(t){var l,r;l=i.value(),l=tr(l=function(e,n,t){return t*(n-e)-e}(e,n,(l+(r=e))/(n-r)+.05*t),e,n),i.value(l),i.fire("dragstart",{value:l}),i.fire("drag",{value:l}),i.fire("dragend",{value:l})}i.on("keydown",function(e){switch(e.keyCode){case 37:case 38:t(-1);break;case 39:case 40:t(1)}})}(e,n),function(e,n,u){var a,s,c,d,f;i._dragHelper=new cn(i._id,{handle:i._id+"-handle",start:function(e){a=e[t],s=parseInt(i.getEl("handle").style[l],10),c=(i.layoutRect()[o]||100)-Ce.getSize(u)[r],i.fire("dragstart",{value:f})},drag:function(r){var o=r[t]-a;d=tr(s+o,0,c),u.style[l]=d+"px",f=e+d/c*(n-e),i.value(f),i.tooltip().text(""+i.settings.previewFilter(f)).show().moveRel(u,"bc tc"),i.fire("drag",{value:f})},stop:function(){i.tooltip().hide(),i.fire("dragend",{value:f})}})}(e,n,i.getEl("handle"))},repaint:function(){this._super(),rr(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",function(n){rr(e,n.value)}),e._super()}}),ir=Mn.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}}),ur=Kl.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,n,t=this.getEl(),l=this.layoutRect();return this._super(),e=t.firstChild,n=t.lastChild,be(e).css({width:l.w-Ce.getSize(n).width,height:l.h-2}),be(n).css({height:l.h-2}),this},activeMenu:function(e){be(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var e,n,t=this._id,l=this.classPrefix,r=this.state.get("icon"),o=this.state.get("text"),i=this.settings,u="";return(e=i.image)?(r="none","string"!==typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",r=i.icon?l+"ico "+l+"i-"+r:"",o&&(this.classes.add("btn-has-text"),u='<span class="'+l+'txt">'+this.encode(o)+"</span>"),n="boolean"===typeof i.active?' aria-pressed="'+i.active+'"':"",'<div id="'+t+'" class="'+this.classes+'" role="button"'+n+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+u+'</button><button type="button" class="'+l+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(r?"\xa0":"")+this._menuBtnText:"")+' <i class="'+l+'caret"></i></button></div>'},postRender:function(){var e=this.settings.onclick;return this.on("click",function(n){var t=n.target;if(n.control===this)for(;t;){if(n.aria&&"down"!==n.aria.key||"BUTTON"===t.nodeName&&-1===t.className.indexOf("open"))return n.stopImmediatePropagation(),void(e&&e.call(this,n));t=t.parentNode}}),delete this.settings.onclick,this._super()}}),ar=fl.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),sr=mn.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),be(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+e,(n=this.getEl("t"+e)).setAttribute("aria-selected","true"),be(n).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each(function(n,t){e!==t&&n.hide()})},renderHtml:function(){var e=this,n=e._layout,t="",l=e.classPrefix;return e.preRender(),n.preRender(e),e.items().each(function(n,r){var o=e._id+"-t"+r;n.aria("role","tabpanel"),n.aria("labelledby",o),t+='<div id="'+o+'" class="'+l+'tab" unselectable="on" role="tab" aria-controls="'+n._id+'" aria-selected="false" tabIndex="-1">'+e.encode(n.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+l+'tabs" role="tablist">'+t+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+n.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(n){var t=n.target.parentNode;if(t&&t.id===e._id+"-head")for(var l=t.childNodes.length;l--;)t.childNodes[l]===n.target&&e.activateTab(l)})},initLayoutRect:function(){var e,n,t;n=(n=Ce.getSize(this.getEl("head")).width)<0?0:n,t=0,this.items().each(function(e){n=Math.max(n,e.layoutRect().minW),t=Math.max(t,e.layoutRect().minH)}),this.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=n,e.settings.h=t,e.layoutRect({x:0,y:0,w:n,h:t})});var l=Ce.getSize(this.getEl("head")).height;return this.settings.minWidth=n,this.settings.minHeight=t+l,(e=this._super()).deltaH+=l,e.innerH=e.h-e.deltaH,e}}),cr=Mn.extend({init:function(e){var n=this;n._super(e),n.classes.add("textbox"),e.multiline?n.classes.add("multiline"):(n.on("keydown",function(e){var t;13===e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))}),n.on("keyup",function(e){n.state.set("value",e.target.value)}))},repaint:function(){var e,n,t,l,r,o=0;e=this.getEl().style,n=this._layoutRect,r=this._lastRepaintRect||{};var i=document;return!this.settings.multiline&&i.all&&(!i.documentMode||i.documentMode<=8)&&(e.lineHeight=n.h-o+"px"),l=(t=this.borderBox).left+t.right+8,o=t.top+t.bottom+(this.settings.multiline?8:0),n.x!==r.x&&(e.left=n.x+"px",r.x=n.x),n.y!==r.y&&(e.top=n.y+"px",r.y=n.y),n.w!==r.w&&(e.width=n.w-l+"px",r.w=n.w),n.h!==r.h&&(e.height=n.h-o+"px",r.h=n.h),this._lastRepaintRect=r,this.fire("repaint",{},!1),this},renderHtml:function(){var e,n,t=this.settings;return e={id:this._id,hidefocus:"1"},u.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(n){e[n]=t[n]}),this.disabled()&&(e.disabled="disabled"),t.subtype&&(e.type=t.subtype),(n=Ce.create(t.multiline?"textarea":"input",e)).value=this.state.get("value"),n.className=this.classes.toString(),n.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",function(n){e.state.set("value",n.target.value),e.fire("change",n)})},bindStates:function(){var e=this;return e.state.on("change:value",function(n){e.getEl().value!==n.value&&(e.getEl().value=n.value)}),e.state.on("change:disabled",function(n){e.getEl().disabled=n.value}),e._super()},remove:function(){this.$el.off(),this._super()}}),dr=function(){return{Selector:He,Collection:qe,ReflowQueue:Ze,Control:ln,Factory:g,KeyboardNavigation:on,Container:an,DragHelper:cn,Scrollable:gn,Panel:mn,Movable:Oe,Resizable:vn,FloatPanel:An,Window:zn,MessageBox:Wn,Tooltip:Pn,Widget:Mn,Progress:In,Notification:Tn,Layout:Qn,AbsoluteLayout:Gn,Button:Kn,ButtonGroup:Zn,Checkbox:Jn,ComboBox:$n,ColorBox:et,PanelButton:nt,ColorButton:lt,ColorPicker:ot,Path:ut,ElementPath:at,FormItem:st,Form:ct,FieldSet:dt,FilePicker:sl,FitLayout:cl,FlexLayout:dl,FlowLayout:fl,FormatControls:Vl,GridLayout:ql,Iframe:jl,InfoBox:Wl,Label:Ul,Toolbar:Ql,MenuBar:Gl,MenuButton:Kl,MenuItem:Jl,Throbber:Sn,Menu:Yl,ListBox:Zl,Radio:Xl,ResizeHandle:$l,SelectBox:nr,Slider:or,Spacer:ir,SplitButton:ur,StackLayout:ar,TabPanel:sr,TextBox:cr,DropZone:it,BrowseButton:Yn}},fr=function(e){e.ui?u.each(dr(),function(n,t){e.ui[t]=n}):e.ui=dr()};u.each(dr(),function(e,n){g.add(n,e)}),fr(window.tinymce?window.tinymce:{}),o.add("modern",function(e){return Vl.setup(e),Un(e)})}()},"6HV0":function(e,n,t){"use strict";var l=t("PrTP"),r=t("/oeL"),o=t("fxWY"),i=t("Qyse"),u=t("qbdv"),a=t("ubhB"),s=t("lZJq"),c=t("A9qq"),d=t("hPIC"),f=t("Qkx6"),p=t("ZNgT"),h=t("LJO5"),g=t("kUuJ"),m=t("ZrEx"),v=function(){function e(){this.model={},this.issuePropMap={},this.validateMsg={},this.onSave=new r.EventEmitter,this.isEditing=!1,this.labelColNum=4,this.issuePropMap=m.a.ISU_PROPERTY_MAP,this.issuePropValMap=m.a.ISU_PROPERTY_VAL_MAP}return e.prototype.ngOnInit=function(){"statusId"==this.elem.colCode&&(this.elem.readonly=!0),this.labelColNum=this.getCol()},e.prototype.edit=function(){this.isEditing=!0,this.temp=this.model[this.elem.colCode]},e.prototype.save=function(){var e=this,n=new g.b;n.promise.then(function(n){e.cancel()}).catch(function(e){console.log("err",e)}),console.log("toSave",this.model[this.elem.colCode],this.temp),this.model[this.elem.colCode]!=this.temp?this.onSave.emit({deferred:n,data:{code:this.elem.colCode,value:this.model[this.elem.colCode],label:this.elem.label}}):this.cancel()},e.prototype.cancel=function(){this.isEditing=!1},e.prototype.getCol=function(){return this.elem.fullLine?2:4},e.ctorParameters=function(){return[]},e}(),b=[["[_nghost-%COMP%]     .issue-field-show label.text-label{text-align:left;line-height:25px}[_nghost-%COMP%]     .issue-field-show .editing{display:-ms-flexbox;display:flex}[_nghost-%COMP%]     .issue-field-show .editing .editing-input{-ms-flex:1;flex:1}[_nghost-%COMP%]     .issue-field-show .editing .editing-label{margin-left:6px;width:50px}[_nghost-%COMP%]     .issue-field-show .editing .editing-label .smart-edit{display:inline-block;width:16px}[_nghost-%COMP%]     .issue-field-show .editing.full-line .editing-label{width:100px}"]],y=r["\u0275crt"]({encapsulation:0,styles:b,data:{}});function C(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,1,"span",[["class","smart-edit link"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.edit(t)&&l);return l},null,null)),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-pencil"]],null,null,null,null,null))],null,null)}function w(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,7,"label",[["class","text-label row col-form-label"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275eld"](0,null,null,1,"input-view",[],null,null,null,a.b,a.a)),r["\u0275did"](2154496,null,0,s.a,[c.a],{elem:[0,"elem"],model:[1,"model"]},null),(e()(),r["\u0275ted"](null,["\n      \xa0\xa0\n      "])),(e()(),r["\u0275and"](8388608,null,null,1,null,C)),r["\u0275did"](8192,null,0,u.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](null,["\n    "]))],function(e,n){var t=n.component;e(n,3,0,t.elem,t.model),e(n,6,0,!t.elem.readonly)},null)}function x(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,1,"span",[["class","smart-edit"]],null,null,null,null,null)),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null))],null,null)}function _(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,1,"span",[["class","smart-edit link"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.save(t)&&l);return l},null,null)),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null))],null,null)}function A(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,19,"div",[["class","editing"]],[[2,"full-line",null]],null,null,null,null)),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275eld"](0,null,null,4,"div",[["class","editing-input"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,1,"input-edit",[],null,null,null,d.b,d.a)),r["\u0275did"](2154496,null,0,f.a,[c.a],{form:[0,"form"],validateMsg:[1,"validateMsg"],elem:[2,"elem"],options:[3,"options"],model:[4,"model"]},null),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275eld"](0,null,null,10,"label",[["class","editing-label text-label col-form-label"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275and"](8388608,null,null,1,null,x)),r["\u0275did"](8192,null,0,u.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275and"](8388608,null,null,1,null,_)),r["\u0275did"](8192,null,0,u.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,1,"span",[["class","smart-edit"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel(t)&&l);return l},null,null)),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-times link"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275ted"](null,["\n    "]))],function(e,n){var t=n.component;e(n,5,0,t.form,t.validateMsg,t.elem,t.issuePropMap[t.elem.colCode],t.model),e(n,11,0,!t.form.valid),e(n,14,0,t.form.valid)},function(e,n){e(n,0,0,n.component.elem.fullLine)})}function k(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,16,"div",[["class","form-group row issue-field-show"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n\n  "])),(e()(),r["\u0275eld"](0,null,null,4,"label",[],[[8,"className",0]],null,null,null,null)),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275eld"](0,null,null,1,"label-show",[],null,null,null,p.b,p.a)),r["\u0275did"](57344,null,0,h.a,[],{elem:[0,"elem"]},null),(e()(),r["\u0275ted"](null,["\n  "])),(e()(),r["\u0275ted"](null,["\n\n  "])),(e()(),r["\u0275eld"](0,null,null,7,"div",[],[[8,"className",0]],null,null,null,null)),(e()(),r["\u0275ted"](null,["\n    "])),(e()(),r["\u0275and"](8388608,null,null,1,null,w)),r["\u0275did"](8192,null,0,u.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](null,["\n\n    "])),(e()(),r["\u0275and"](8388608,null,null,1,null,A)),r["\u0275did"](8192,null,0,u.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](null,["\n  "])),(e()(),r["\u0275ted"](null,["\n\n"])),(e()(),r["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,5,0,t.elem),e(n,11,0,!t.isEditing),e(n,14,0,t.isEditing)},function(e,n){var t=n.component;e(n,2,0,r["\u0275inlineInterpolate"](1,"text-label col-sm-",t.labelColNum," col-form-label")),e(n,8,0,r["\u0275inlineInterpolate"](1,"col-sm-",12-t.labelColNum,""))})}r["\u0275ccf"]("issue-field-show",v,function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,1,"issue-field-show",[],null,null,null,k,y)),r["\u0275did"](57344,null,0,v,[],null,null)],function(e,n){e(n,1,0)},null)},{model:"model",elem:"elem",issuePropMap:"issuePropMap",form:"form",validateMsg:"validateMsg"},{onSave:"onSave"},[]);var O=t("G64s"),S=t("/KCW"),E=t("KBuQ"),R=t("Q0LZ"),P=t("bm2B"),M=t("Vnhz"),I=t("Hjei"),D=t("+E40"),T=t("H0UY"),N=t("176a"),B=t("ZV8k"),F=t("dN2u"),L=t("SHsa"),H=t("PGi5"),z=t("4aHV"),V=t("CIDy"),q=t("a5lJ"),j=t("BkNc"),W=t("JNkf"),U=t("g51S"),Q=t("tlIo"),G=t("lDqL"),K=t("CTdQ"),Y=t("9CK1"),Z=t("JmKc"),J=t("MMCg"),X=t("V1EX"),$=t("6Vsg");t.d(n,"a",function(){return ne}),n.b=we;var ee=[[".issue-page{margin:0}.issue-page .buttons .btn-group{margin-right:6px}.issue-page .buttons .btn-group button{margin:0 3px;padding:4px 6px}.issue-page .buttons .btn-group button i{margin-right:5px;width:13px}.issue-page form{width:100%}.issue-page .elements{padding-top:15px}.issue-page .elements .element{float:left;width:50%}.issue-page .elements .element.full-line{width:100%}.issue-page .tab-link .reason-name{display:inline-block;width:50px}.issue-page .tab-contents{padding:10px}.issue-page .tab-contents label{line-height:25px}"],l.a],ne=r["\u0275crt"]({encapsulation:2,styles:ee,data:{}});function te(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,5,"a",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n              "])),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-star"]],null,null,null,null,null)),(e()(),r["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\u53d6\u6d88\u5173\u6ce8"])),(e()(),r["\u0275ted"](null,["\n            "]))],null,null)}function le(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,5,"a",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n              "])),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-star-o"]],null,null,null,null,null)),(e()(),r["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\u5173\u6ce8"])),(e()(),r["\u0275ted"](null,["\n            "]))],null,null)}function re(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,3,"button",[["class","btn btn-default btn-with-icon btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.statusTran(e.context.$implicit)&&l);return l},null,null)),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["","\n      "]))],null,function(e,n){e(n,3,0,n.context.$implicit.name)})}function oe(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,73,"div",[["class","buttons form-inline"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n    "])),(e()(),r["\u0275eld"](0,null,null,64,"div",[["class","btn-group"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275eld"](0,null,null,3,"button",[["class","btn btn-default btn-with-icon btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.edit()&&l);return l},null,null)),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-pencil"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\u7f16\u8f91\n      "])),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275eld"](0,null,null,3,"button",[["class","btn btn-default btn-with-icon btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.assign()&&l);return l},null,null)),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-user-o"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\u5206\u914d\n      "])),(e()(),r["\u0275ted"](null,["\n\n      "])),(e()(),r["\u0275eld"](0,null,null,51,"div",[["class","btn-group"],["ngbDropdown",""]],[[2,"show",null]],[[null,"keyup.esc"],["document","click"]],function(e,n,t){var l=!0;"keyup.esc"===n&&(l=!1!==r["\u0275nov"](e,15).closeFromOutsideEsc()&&l);"document:click"===n&&(l=!1!==r["\u0275nov"](e,15).closeFromClick(t)&&l);return l},null,null)),r["\u0275did"](106496,[["projectDropdown",4]],2,o.a,[i.a,r.NgZone],{autoClose:[0,"autoClose"]},null),r["\u0275qud"](167772160,2,{_menu:0}),r["\u0275qud"](167772160,3,{_toggle:0}),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,2,"button",[["aria-haspopup","true"],["class","btn btn-default dropdown dropdown-toggle"],["id","conditionDropdownMenu"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!==r["\u0275nov"](e,20).toggleOpen()&&l);return l},null,null)),r["\u0275did"](8192,[[3,4]],0,o.c,[o.a,r.ElementRef],null,null),(e()(),r["\u0275ted"](null,["\u66f4\u591a"])),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,41,"div",[["aria-labelledby","conditionDropdownMenu"],["class","dropdown-menu"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null]],null,null,null,null)),r["\u0275did"](8192,[[2,4]],0,o.b,[o.a,r.ElementRef,r.Renderer2],null,null),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275eld"](0,null,null,5,"button",[["class","dropdown-item list-item"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.tag()&&l);return l},null,null)),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(e()(),r["\u0275eld"](0,null,null,1,"a",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\u6807\u7b7e"])),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275eld"](0,null,null,5,"button",[["class","dropdown-item list-item"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.link()&&l);return l},null,null)),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-link"]],null,null,null,null,null)),(e()(),r["\u0275eld"](0,null,null,1,"a",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\u94fe\u63a5"])),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275eld"](0,null,null,5,"button",[["class","dropdown-item list-item"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.showDeleteModal()&&l);return l},null,null)),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-copy"]],null,null,null,null,null)),(e()(),r["\u0275eld"](0,null,null,1,"a",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\u5220\u9664"])),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275ted"](null,["\n\n          "])),(e()(),r["\u0275eld"](0,null,null,0,"li",[["class","dropdown-divider"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n\n          "])),(e()(),r["\u0275eld"](0,null,null,7,"button",[["class","dropdown-item list-item"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.watch()&&l);return l},null,null)),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275and"](8388608,null,null,1,null,te)),r["\u0275did"](8192,null,0,u.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275and"](8388608,null,null,1,null,le)),r["\u0275did"](8192,null,0,u.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275ted"](null,["\n\n          "])),(e()(),r["\u0275eld"](0,null,null,4,"button",[["class","dropdown-item list-item"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.watchList()&&l);return l},null,null)),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275eld"](0,null,null,1,"a",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\u7ba1\u7406\u5173\u6ce8\u5217\u8868"])),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275ted"](null,["\n    "])),(e()(),r["\u0275ted"](null,["\n\n    "])),(e()(),r["\u0275eld"](0,null,null,4,"div",[["class","btn-group"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275and"](8388608,null,null,1,null,re)),r["\u0275did"](401408,null,0,u.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](null,["\n    "])),(e()(),r["\u0275ted"](null,["\n  "]))],function(e,n){var t=n.component;e(n,15,0,"outside"),e(n,53,0,t.issue.watched),e(n,56,0,!t.issue.watched),e(n,71,0,t.issueTransMap[t.issue.typeId][t.issue.statusId])},function(e,n){e(n,14,0,r["\u0275nov"](n,15).isOpen()),e(n,19,0,r["\u0275nov"](n,20).dropdown.isOpen());e(n,23,0,!0,r["\u0275nov"](n,24).dropdown.isOpen())})}function ie(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,4,"div",[["class","element"]],[[2,"full-line",null]],null,null,null,null)),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,1,"issue-field-show",[],null,[[null,"onSave"]],function(e,n,t){var l=!0,r=e.component;"onSave"===n&&(l=!1!==r.saveField(t)&&l);return l},k,y)),r["\u0275did"](57344,null,0,v,[],{model:[0,"model"],elem:[1,"elem"],form:[2,"form"]},{onSave:"onSave"}),(e()(),r["\u0275ted"](null,["\n      "]))],function(e,n){var t=n.component;e(n,3,0,t.issue,n.context.$implicit,t.form)},function(e,n){e(n,0,0,n.context.$implicit.fullLine)})}function ue(e){return r["\u0275vid"](0,[(e()(),r["\u0275ted"](null,["\u5e38\u89c4"]))],null,null)}function ae(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](0,null,null,0))],null,null)}function se(e){return r["\u0275vid"](0,[(e()(),r["\u0275ted"](null,["\u5386\u53f2"]))],null,null)}function ce(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](0,null,null,0))],null,null)}function de(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,6,"span",[["class","tag"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n              "])),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-tag"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,[" "])),(e()(),r["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["",""])),(e()(),r["\u0275ted"](null,["\n            "]))],null,function(e,n){e(n,5,0,n.context.$implicit.name)})}function fe(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,6,"span",[["class","tag no-border"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n              "])),(e()(),r["\u0275eld"](0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,[" "])),(e()(),r["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["",""])),(e()(),r["\u0275ted"](null,["\n            "]))],null,function(e,n){e(n,5,0,n.context.$implicit.nickname)})}function pe(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,7,"span",[["class","link"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.viewIssue(e.parent.context.$implicit)&&l);return l},null,null)),(e()(),r["\u0275ted"](null,["\n                    "])),(e()(),r["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["IS-",""])),(e()(),r["\u0275ted"](null,["\n                    "])),(e()(),r["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["",""])),(e()(),r["\u0275ted"](null,["\n                  "]))],null,function(e,n){e(n,3,0,n.parent.context.$implicit.id),e(n,6,0,n.parent.context.$implicit.title)})}function he(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,7,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n                    "])),(e()(),r["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["IS-",""])),(e()(),r["\u0275ted"](null,["\n                    "])),(e()(),r["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["",""])),(e()(),r["\u0275ted"](null,["\n                  "]))],null,function(e,n){e(n,3,0,n.parent.context.$implicit.id),e(n,6,0,n.parent.context.$implicit.title)})}function ge(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,13,"div",[["class","item"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n                "])),(e()(),r["\u0275eld"](0,null,null,10,"div",[["class","descr"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n                  "])),(e()(),r["\u0275eld"](0,null,null,1,"span",[["class","reason-name"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["",""])),(e()(),r["\u0275ted"](null,["\n                  "])),(e()(),r["\u0275and"](8388608,null,null,1,null,pe)),r["\u0275did"](8192,null,0,u.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](null,["\n                  "])),(e()(),r["\u0275and"](8388608,null,null,1,null,he)),r["\u0275did"](8192,null,0,u.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](null,["\n                "])),(e()(),r["\u0275ted"](null,["\n              "]))],function(e,n){var t=n.component;e(n,8,0,!t.viewOnly),e(n,11,0,t.viewOnly)},function(e,n){e(n,5,0,n.context.$implicit.reasonName)})}function me(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,4,"div",[["class","col-sm-1"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275eld"](0,null,null,1,"file-uploader",[],null,[[null,"uploadedEvent"]],function(e,n,t){var l=!0,r=e.component;"uploadedEvent"===n&&(l=!1!==r.uploadedEvent(t)&&l);return l},O.b,O.a)),r["\u0275did"](2154496,null,0,S.a,[E.a,R.c],{mimeType:[0,"mimeType"],showDropZone:[1,"showDropZone"],ifile:[2,"ifile"]},{uploadedEvent:"uploadedEvent"}),(e()(),r["\u0275ted"](null,["\n        "]))],function(e,n){var t=n.component;e(n,3,0,r["\u0275EMPTY_ARRAY"],!1,t.issue.testsetPath)},null)}function ve(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,0,"span",[["class","fa fa-times pointer"],["tabindex","-1"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.removeAttachment(e.parent.context.$implicit)&&l);return l},null,null))],null,null)}function be(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,8,"span",[["class","attach-item"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275and"](8388608,null,null,1,null,ve)),r["\u0275did"](8192,null,0,u.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275eld"](0,null,null,2,"a",[["class","download pointer"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),r["\u0275ppd"](1),(e()(),r["\u0275ted"](null,["",""])),(e()(),r["\u0275ted"](null,["\n          "]))],function(e,n){e(n,3,0,!n.component.viewOnly)},function(e,n){e(n,5,0,r["\u0275inlineInterpolate"](1,"",r["\u0275unv"](n,5,0,e(n,6,0,r["\u0275nov"](n.parent.parent,0),n.context.$implicit.uri)),"")),e(n,7,0,n.context.$implicit.name)})}function ye(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,10,"div",[["class","item"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275eld"](0,null,null,7,"div",[["class","descr"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275eld"](0,null,null,0,"span",[["class","content"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),r["\u0275ted"](null,[" -\n            "])),(e()(),r["\u0275eld"](0,null,null,2,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["",""])),r["\u0275ppd"](2),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275ted"](null,["\n        "]))],null,function(e,n){e(n,4,0,n.context.$implicit.title),e(n,7,0,r["\u0275unv"](n,7,0,e(n,8,0,r["\u0275nov"](n.parent.parent,1),n.context.$implicit.createTime,"y/MM/dd HH:mm:ss")))})}function Ce(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,140,"div",[["class","issue-page"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n  "])),(e()(),r["\u0275and"](8388608,null,null,1,null,oe)),r["\u0275did"](8192,null,0,u.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](null,["\n\n  "])),(e()(),r["\u0275eld"](0,null,null,11,"form",[["class","my-validate-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var l=!0;"submit"===n&&(l=!1!==r["\u0275nov"](e,7).onSubmit(t)&&l);"reset"===n&&(l=!1!==r["\u0275nov"](e,7).onReset()&&l);return l},null,null)),r["\u0275did"](8192,null,0,P.y,[],null,null),r["\u0275did"](270336,null,0,P.h,[[8,null],[8,null]],{form:[0,"form"]},null),r["\u0275prd"](1024,null,P.c,null,[P.h]),r["\u0275did"](8192,null,0,P.o,[P.c],null,null),(e()(),r["\u0275ted"](null,["\n    "])),(e()(),r["\u0275eld"](0,null,null,4,"div",[["class","form-group row elements"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275and"](8388608,null,null,1,null,ie)),r["\u0275did"](401408,null,0,u.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](null,["\n    "])),(e()(),r["\u0275ted"](null,["\n  "])),(e()(),r["\u0275ted"](null,["\n\n  "])),(e()(),r["\u0275eld"](0,null,null,109,"div",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n    "])),(e()(),r["\u0275eld"](0,null,null,33,"div",[["class","tabs-container light"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275eld"](0,null,null,30,"div",[["class","tabs"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,27,"ngb-tabset",[],null,[[null,"tabChange"]],function(e,n,t){var l=!0,r=e.component;"tabChange"===n&&(l=!1!==r.tabChange(t)&&l);return l},M.b,M.a)),r["\u0275did"](1073152,null,1,I.d,[D.a],null,{tabChange:"tabChange"}),r["\u0275qud"](301989888,4,{tabs:1}),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275eld"](0,null,null,10,"ngb-tab",[["id","info"]],null,null,null,null,null)),r["\u0275did"](8192,[[4,4]],2,I.a,[],{id:[0,"id"]},null),r["\u0275qud"](167772160,5,{contentTpl:0}),r["\u0275qud"](167772160,6,{titleTpl:0}),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275and"](0,null,null,1,null,ue)),r["\u0275did"](8192,[[6,4]],0,I.c,[r.TemplateRef],null,null),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275and"](0,null,null,1,null,ae)),r["\u0275did"](8192,[[5,4]],0,I.b,[r.TemplateRef],null,null),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275eld"](0,null,null,10,"ngb-tab",[["id","history"]],null,null,null,null,null)),r["\u0275did"](8192,[[4,4]],2,I.a,[],{id:[0,"id"]},null),r["\u0275qud"](167772160,7,{contentTpl:0}),r["\u0275qud"](167772160,8,{titleTpl:0}),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275and"](0,null,null,1,null,se)),r["\u0275did"](8192,[[8,4]],0,I.c,[r.TemplateRef],null,null),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275and"](0,null,null,1,null,ce)),r["\u0275did"](8192,[[7,4]],0,I.b,[r.TemplateRef],null,null),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275ted"](null,["\n    "])),(e()(),r["\u0275ted"](null,["\n\n    "])),(e()(),r["\u0275eld"](0,null,null,71,"div",[["class","tab-info tab-contents"]],[[2,"hidden",null]],null,null,null,null)),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275eld"](0,null,null,27,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,2,"label",[["class","col-sm-1 col-form-label"]],null,null,null,null,null)),(e()(),r["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\u6807\u7b7e"])),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,7,"label",[["class","col-sm-5 col-form-label"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275eld"](0,null,null,4,"div",[["class","tags"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275and"](8388608,null,null,1,null,de)),r["\u0275did"](401408,null,0,u.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275ted"](null,["\n\n        "])),(e()(),r["\u0275eld"](0,null,null,2,"label",[["class","col-sm-1 col-form-label"]],null,null,null,null,null)),(e()(),r["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\u5173\u6ce8"])),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,7,"label",[["class","col-sm-5 col-form-label"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275eld"](0,null,null,4,"div",[["class","tags"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275and"](8388608,null,null,1,null,fe)),r["\u0275did"](401408,null,0,u.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275ted"](null,["\n\n      "])),(e()(),r["\u0275eld"](0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,2,"label",[["class","col-sm-1 col-form-label"]],null,null,null,null,null)),(e()(),r["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\u94fe\u63a5"])),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,10,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275eld"](0,null,null,7,"div",[["class","activity"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275eld"](0,null,null,4,"div",[["class","list"],["style","border: 0;"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n              "])),(e()(),r["\u0275and"](8388608,null,null,1,null,ge)),r["\u0275did"](401408,null,0,u.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](null,["\n            "])),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275ted"](null,["\n\n      "])),(e()(),r["\u0275eld"](0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,2,"label",[["class","col-sm-1 col-form-label"]],null,null,null,null,null)),(e()(),r["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\u9644\u4ef6"])),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275and"](8388608,null,null,1,null,me)),r["\u0275did"](8192,null,0,u.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275eld"](0,null,null,7,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275eld"](0,null,null,4,"label",[["class","attach-list"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275and"](8388608,null,null,1,null,be)),r["\u0275did"](401408,null,0,u.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](null,["\n          "])),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275ted"](null,["\n\n      "])),(e()(),r["\u0275eld"](0,null,null,1,"comment-list",[],null,null,null,T.b,T.a)),r["\u0275did"](2220032,null,0,N.a,[B.a,F.a,L.a],{model:[0,"model"],modelType:[1,"modelType"],viewOnly:[2,"viewOnly"]},null),(e()(),r["\u0275ted"](null,["\n    "])),(e()(),r["\u0275ted"](null,["\n  "])),(e()(),r["\u0275ted"](null,["\n\n  "])),(e()(),r["\u0275eld"](0,null,null,10,"div",[["class","tab-history tab-contents"]],[[2,"hidden",null]],null,null,null,null)),(e()(),r["\u0275ted"](null,["\n    "])),(e()(),r["\u0275eld"](0,null,null,7,"div",[["class","activity"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275eld"](0,null,null,4,"div",[["class","list"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n        "])),(e()(),r["\u0275and"](8388608,null,null,1,null,ye)),r["\u0275did"](401408,null,0,u.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](null,["\n      "])),(e()(),r["\u0275ted"](null,["\n    "])),(e()(),r["\u0275ted"](null,["\n  "])),(e()(),r["\u0275ted"](null,["\n\n"]))],function(e,n){var t=n.component;e(n,3,0,!t.viewOnly),e(n,7,0,t.form),e(n,14,0,t.page.elements);e(n,29,0,"info");e(n,41,0,"history"),e(n,68,0,t.issue.tags),e(n,81,0,t.issue.watchList),e(n,99,0,t.issue.links),e(n,112,0,!t.viewOnly),e(n,119,0,t.issue.attachments);e(n,125,0,t.issue,"issue",t.viewOnly),e(n,136,0,t.issue.histories)},function(e,n){var t=n.component;e(n,5,0,r["\u0275nov"](n,9).ngClassUntouched,r["\u0275nov"](n,9).ngClassTouched,r["\u0275nov"](n,9).ngClassPristine,r["\u0275nov"](n,9).ngClassDirty,r["\u0275nov"](n,9).ngClassValid,r["\u0275nov"](n,9).ngClassInvalid,r["\u0275nov"](n,9).ngClassPending),e(n,55,0,"info"!=t.tab),e(n,129,0,"history"!=t.tab)})}function we(e){return r["\u0275vid"](0,[r["\u0275pid"](0,H.a,[]),r["\u0275pid"](0,u.DatePipe,[r.LOCALE_ID]),r["\u0275qud"](201326592,1,{deleteModalWrapper:0}),(e()(),r["\u0275and"](8388608,null,null,1,null,Ce)),r["\u0275did"](8192,null,0,u.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](null,["\n\n"])),(e()(),r["\u0275eld"](0,null,null,2,"pop-dialog",[],null,[[null,"confirm"]],function(e,n,t){var l=!0,r=e.component;"confirm"===n&&(l=!1!==r.delete()&&l);return l},V.b,V.a)),r["\u0275did"](2154496,[[1,4],["deleteModalWrapper",4]],0,q.a,[B.a,F.a,r.Injector],{title:[0,"title"]},{confirm:"confirm"}),(e()(),r["\u0275ted"](0,['\n  \u786e\u8ba4\u5220\u9664\u540d\u4e3a"','"\u7684\u95ee\u9898?\n'])),(e()(),r["\u0275ted"](null,["\n"]))],function(e,n){e(n,4,0,n.component.issue.id);e(n,7,0,"\u63d0\u793a")},function(e,n){e(n,8,0,n.component.issue.title)})}r["\u0275ccf"]("issue-page",z.a,function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,1,"issue-page",[],null,null,null,we,ne)),r["\u0275did"](2220032,null,0,z.a,[E.a,j.a,B.a,P.e,R.c,W.a,U.a,Q.a,G.a,K.a,Y.a,Z.a,J.a,X.a,$.a],null,null)],function(e,n){e(n,1,0)},null)},{viewOnly:"viewOnly",page:"page",issueTransMap:"issueTransMap",issue:"issue"},{optEvent:"optEvent"},[])},"6Vsg":function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("/oeL"),r=t("87JA"),o=t("0WLp"),i=function(){function e(e,n){this.modalService=e,this.compiler=n}return e.prototype.genPage=function(e){this.compiler.clearCacheFor(r.a);var n=this.modalService.open(r.a,{windowClass:"pop-modal"});return n.componentInstance.issue=e,n},e.ctorParameters=function(){return[{type:o.e},{type:l.Compiler}]},e}()},"6jp4":function(e,n,t){"use strict";n.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},"87JA":function(e,n,t){"use strict";t.d(n,"a",function(){return f});var l=t("BkNc"),r=t("bm2B"),o=t("0WLp"),i=t("ZV8k"),u=t("oRYE"),a=t("2tNT"),s=t("KBuQ"),c=t("57f0"),d=t("emQk"),f=function(){function e(e,n,t,l,r,o,i){this._routeService=e,this._state=n,this._route=t,this.fb=l,this.activeModal=r,this.issueSearchService=o,this.issueLinkService=i,this.issue={},this.issueLinkReasons=[],this.searchModel={},this.selectedModels=[],this.formErrors=[],this.validateMsg={linkId:{required:"\u7ecf\u529e\u4eba\u4e0d\u80fd\u4e3a\u7a7a"}},this.buildForm()}return e.prototype.ngOnInit=function(){this.loadData()},e.prototype.ngAfterViewInit=function(){},e.prototype.link=function(){var e=this,n=this.issueLinkReasons.filter(function(n){return n.id==e.reasonId})[0];this.issueLinkService.link(this.issue.id,this.selectedModels[0].id,this.reasonId,n.label).subscribe(function(n){1==n.code&&e.activeModal.close({act:"link",success:!0})})},e.prototype.loadData=function(){var e=this;this.issueLinkService.listIssueLinkReasons().subscribe(function(n){1==n.code&&(e.issueLinkReasons=n.data)})},e.prototype.cancel=function(){this.activeModal.dismiss({act:"cancel"})},e.prototype.changeSearch=function(e){var n=this,t=[];this.selectedModels.forEach(function(e){t.push(e.id)}),this.issueSearchService.idAndTitleSearch(e.keywords,t).subscribe(function(e){e.data.length>0&&(n.searchResult=e.data)})},e.prototype.ngOnDestroy=function(){},e.prototype.buildForm=function(){var e=this;this.form=this.fb.group({linkId:["",[r.v.required]],linkComments:["",[]]},{}),this.form.valueChanges.debounceTime(u.a.DebounceTime).subscribe(function(n){return e.onValueChanged(n)}),this.onValueChanged()},e.prototype.onValueChanged=function(e){this.formErrors=a.a.genMsg(this.form,this.validateMsg,[])},e.ctorParameters=function(){return[{type:s.a},{type:i.a},{type:l.a},{type:r.e},{type:o.b},{type:c.a},{type:d.a}]},e}()},"8XEP":function(e,n,t){"use strict";t.d(n,"b",function(){return u}),t.d(n,"a",function(){return a});var l,r=t("0WLp"),o=this&&this.__extends||(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}l(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i={en:{weekdays:["Mo","Tu","We","Th","Fr","Sa","Su"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},cn:{weekdays:["\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d","\u5468\u65e5"],months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]}},u=function(){return function(){this.language="cn"}}(),a=function(e){function n(n){var t=e.call(this)||this;return t._i18n=n,t}return o(n,e),n.prototype.getWeekdayShortName=function(e){return i[this._i18n.language].weekdays[e-1]},n.prototype.getMonthShortName=function(e){return i[this._i18n.language].months[e-1]},n.prototype.getMonthFullName=function(e){return this.getMonthShortName(e)},n.ctorParameters=function(){return[{type:u}]},n}(r.d)},"8vzS":function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){return function(){this.isInEditing=!1}}()},"9CK1":function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("/oeL"),r=t("RCrH"),o=t("0WLp"),i=function(){function e(e,n){this.modalService=e,this.compiler=n}return e.prototype.genPage=function(e){this.compiler.clearCacheFor(r.a);var n=this.modalService.open(r.a,{windowClass:"pop-modal"});return n.componentInstance.id=e,n},e.ctorParameters=function(){return[{type:o.e},{type:l.Compiler}]},e}()},"9Kws":function(e,n,t){"use strict";var l=t("/oeL"),r=t("bm2B"),o=t("qbdv"),i=t("34xi");t.d(n,"a",function(){return a}),n.b=c;var u=[[""]],a=l["\u0275crt"]({encapsulation:0,styles:u,data:{}});function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,5,"textarea",[],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,1)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,1).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,1)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,1)._compositionEnd(t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(o.content=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.d,[l.Renderer,l.ElementRef,[2,r.a]],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.d]),l["\u0275did"](335872,null,0,r.p,[[8,null],[8,null],[8,null],[2,r.l]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.p]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null)],function(e,n){e(n,3,0,n.component.content)},function(e,n){var t=n.component;e(n,0,0,l["\u0275inlineInterpolate"](1,"",t.elemId,""),l["\u0275nov"](n,5).ngClassUntouched,l["\u0275nov"](n,5).ngClassTouched,l["\u0275nov"](n,5).ngClassPristine,l["\u0275nov"](n,5).ngClassDirty,l["\u0275nov"](n,5).ngClassValid,l["\u0275nov"](n,5).ngClassInvalid,l["\u0275nov"](n,5).ngClassPending)})}function c(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"span",[["class","tiny-mce"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,s)),l["\u0275did"](8192,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){e(n,3,0,n.component.elemId)},null)}l["\u0275ccf"]("tiny-mce",i.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"tiny-mce",[],null,null,null,c,a)),l["\u0275did"](2449408,null,0,i.a,[l.ElementRef],null,null)],null,null)},{elemId:"elemId",height:"height",content:"content"},{changed:"changed"},[])},"9Kxs":function(e,n,t){"use strict";var l=t("/oeL"),r=t("fKez"),o=t("5uVf"),i=t("V8QN");var u=function(){function e(e){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:function(e){return e._file},formatDataFunctionIsAsync:!1},this.setOptions(e),this.response=new l.EventEmitter}return e.prototype.setOptions=function(e){this.options=Object.assign(this.options,e),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(var n=0;n<this.queue.length;n++)this.queue[n].url=this.options.url},e.prototype.addToQueue=function(e,n,t){for(var l=this,i=[],u=0,a=e;u<a.length;u++){var s=a[u];i.push(s)}var c=this._getFilters(t),d=this.queue.length,f=[];i.map(function(e){n||(n=l.options);var t=new r.FileLikeObject(e);if(l._isValidFile(t,c,n)){var i=new o.FileItem(l,e,n);f.push(i),l.queue.push(i),l._onAfterAddingFile(i)}else{var u=c[l._failFilterIndex];l._onWhenAddingFileFailed(t,u,n)}}),this.queue.length!==d&&(this._onAfterAddingAll(f),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()},e.prototype.removeFromQueue=function(e){var n=this.getIndexOfItem(e),t=this.queue[n];t.isUploading&&t.cancel(),this.queue.splice(n,1),this.progress=this._getTotalProgress()},e.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},e.prototype.uploadItem=function(e){var n=this.getIndexOfItem(e),t=this.queue[n],l=this.options.isHTML5?"_xhrTransport":"_iframeTransport";t._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[l](t))},e.prototype.cancelItem=function(e){var n=this.getIndexOfItem(e),t=this.queue[n],l=this.options.isHTML5?t._xhr:t._form;t&&t.isUploading&&l.abort()},e.prototype.uploadAll=function(){var e=this.getNotUploadedItems().filter(function(e){return!e.isUploading});e.length&&(e.map(function(e){return e._prepareToUploading()}),e[0].upload())},e.prototype.cancelAll=function(){this.getNotUploadedItems().map(function(e){return e.cancel()})},e.prototype.isFile=function(e){return function(e){return File&&e instanceof File}(e)},e.prototype.isFileLikeObject=function(e){return e instanceof r.FileLikeObject},e.prototype.getIndexOfItem=function(e){return"number"===typeof e?e:this.queue.indexOf(e)},e.prototype.getNotUploadedItems=function(){return this.queue.filter(function(e){return!e.isUploaded})},e.prototype.getReadyItems=function(){return this.queue.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,n){return e.index-n.index})},e.prototype.destroy=function(){},e.prototype.onAfterAddingAll=function(e){return{fileItems:e}},e.prototype.onBuildItemForm=function(e,n){return{fileItem:e,form:n}},e.prototype.onAfterAddingFile=function(e){return{fileItem:e}},e.prototype.onWhenAddingFileFailed=function(e,n,t){return{item:e,filter:n,options:t}},e.prototype.onBeforeUploadItem=function(e){return{fileItem:e}},e.prototype.onProgressItem=function(e,n){return{fileItem:e,progress:n}},e.prototype.onProgressAll=function(e){return{progress:e}},e.prototype.onSuccessItem=function(e,n,t,l){return{item:e,response:n,status:t,headers:l}},e.prototype.onErrorItem=function(e,n,t,l){return{item:e,response:n,status:t,headers:l}},e.prototype.onCancelItem=function(e,n,t,l){return{item:e,response:n,status:t,headers:l}},e.prototype.onCompleteItem=function(e,n,t,l){return{item:e,response:n,status:t,headers:l}},e.prototype.onCompleteAll=function(){},e.prototype._mimeTypeFilter=function(e){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(e.type))},e.prototype._fileSizeFilter=function(e){return!(this.options.maxFileSize&&e.size>this.options.maxFileSize)},e.prototype._fileTypeFilter=function(e){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(i.FileType.getMimeClass(e)))},e.prototype._onErrorItem=function(e,n,t,l){e._onError(n,t,l),this.onErrorItem(e,n,t,l)},e.prototype._onCompleteItem=function(e,n,t,l){e._onComplete(n,t,l),this.onCompleteItem(e,n,t,l);var r=this.getReadyItems()[0];this.isUploading=!1,r?r.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())},e.prototype._headersGetter=function(e){return function(n){return n?e[n.toLowerCase()]||void 0:e}},e.prototype._xhrTransport=function(e){var n,t=this,l=this,r=e._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(e),"number"!==typeof e._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)n=this.options.formatDataFunction(e);else{n=new FormData,this._onBuildItemForm(e,n);var o=function(){return n.append(e.alias,e._file,e.file.name)};this.options.parametersBeforeFiles||o(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(function(l){var r=t.options.additionalParameter[l];"string"===typeof r&&r.indexOf("{{file_name}}")>=0&&(r=r.replace("{{file_name}}",e.file.name)),n.append(l,r)}),this.options.parametersBeforeFiles&&o()}if(r.upload.onprogress=function(n){var l=Math.round(n.lengthComputable?100*n.loaded/n.total:0);t._onProgressItem(e,l)},r.onload=function(){var n=t._parseHeaders(r.getAllResponseHeaders()),l=t._transformResponse(r.response,n),o=t._isSuccessCode(r.status)?"Success":"Error";t["_on"+o+"Item"](e,l,r.status,n),t._onCompleteItem(e,l,r.status,n)},r.onerror=function(){var n=t._parseHeaders(r.getAllResponseHeaders()),l=t._transformResponse(r.response,n);t._onErrorItem(e,l,r.status,n),t._onCompleteItem(e,l,r.status,n)},r.onabort=function(){var n=t._parseHeaders(r.getAllResponseHeaders()),l=t._transformResponse(r.response,n);t._onCancelItem(e,l,r.status,n),t._onCompleteItem(e,l,r.status,n)},r.open(e.method,e.url,!0),r.withCredentials=e.withCredentials,this.options.headers)for(var i=0,u=this.options.headers;i<u.length;i++){var a=u[i];r.setRequestHeader(a.name,a.value)}if(e.headers.length)for(var s=0,c=e.headers;s<c.length;s++){a=c[s];r.setRequestHeader(a.name,a.value)}this.authToken&&r.setRequestHeader(this.authTokenHeader,this.authToken),r.onreadystatechange=function(){r.readyState==XMLHttpRequest.DONE&&l.response.emit(r.responseText)},this.options.formatDataFunctionIsAsync?n.then(function(e){return r.send(JSON.stringify(e))}):r.send(n),this._render()},e.prototype._getTotalProgress=function(e){if(void 0===e&&(e=0),this.options.removeAfterUpload)return e;var n=this.getNotUploadedItems().length,t=n?this.queue.length-n:this.queue.length,l=100/this.queue.length,r=e*l/100;return Math.round(t*l+r)},e.prototype._getFilters=function(e){if(!e)return this.options.filters;if(Array.isArray(e))return e;if("string"===typeof e){var n=e.match(/[^\s,]+/g);return this.options.filters.filter(function(e){return-1!==n.indexOf(e.name)})}return this.options.filters},e.prototype._render=function(){},e.prototype._queueLimitFilter=function(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit},e.prototype._isValidFile=function(e,n,t){var l=this;return this._failFilterIndex=-1,!n.length||n.every(function(n){return l._failFilterIndex++,n.fn.call(l,e,t)})},e.prototype._isSuccessCode=function(e){return e>=200&&e<300||304===e},e.prototype._transformResponse=function(e,n){return e},e.prototype._parseHeaders=function(e){var n,t,l,r={};return e?(e.split("\n").map(function(e){l=e.indexOf(":"),n=e.slice(0,l).trim().toLowerCase(),t=e.slice(l+1).trim(),n&&(r[n]=r[n]?r[n]+", "+t:t)}),r):r},e.prototype._onWhenAddingFileFailed=function(e,n,t){this.onWhenAddingFileFailed(e,n,t)},e.prototype._onAfterAddingFile=function(e){this.onAfterAddingFile(e)},e.prototype._onAfterAddingAll=function(e){this.onAfterAddingAll(e)},e.prototype._onBeforeUploadItem=function(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)},e.prototype._onBuildItemForm=function(e,n){e._onBuildForm(n),this.onBuildItemForm(e,n)},e.prototype._onProgressItem=function(e,n){var t=this._getTotalProgress(n);this.progress=t,e._onProgress(n),this.onProgressItem(e,n),this.onProgressAll(t),this._render()},e.prototype._onSuccessItem=function(e,n,t,l){e._onSuccess(n,t,l),this.onSuccessItem(e,n,t,l)},e.prototype._onCancelItem=function(e,n,t,l){e._onCancel(n,t,l),this.onCancelItem(e,n,t,l)},e}();n.FileUploader=u},A9qq:function(e,n,t){"use strict";t.d(n,"b",function(){return i}),t.d(n,"a",function(){return u});var l,r=t("qbdv"),o=this&&this.__extends||(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}l(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=function(){function e(){}return e.prototype.transform=function(e){return this.timePassed(e)},e.prototype.timePassed=function(e,n,t){void 0===n&&(n="zh-CN"),void 0===t&&(t="y/MM/dd HH:mm");var l=(new Date).getTime()-new Date(e).getTime(),o=l/864e5,i=l/36e5,u=l/6e4;return o>7?new r.DatePipe(n).transform(e,t):o>=1?parseInt(o+"")+"\u5929\u524d":i>=1?parseInt(i+"")+"\u4e2a\u5c0f\u65f6\u524d":u>=1?parseInt(u+"")+"\u5206\u949f\u524d":"\u521a\u521a"},e}(),u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.transform=function(n,t){return void 0===t&&(t="yyyy-MM-dd"),n?e.prototype.transform.call(this,n,t):null},n}(r.DatePipe)},AbLQ:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=[".ztree *{padding:0;margin:0;font-size:12px;font-family:Verdana,Arial,Helvetica,AppleGothic,sans-serif}.ztree{margin:0;padding:5px;color:#333}.ztree li{padding:0;margin:0;list-style:none;line-height:14px;text-align:left;white-space:nowrap;outline:0}.ztree li ul{margin:0;padding:0 0 0 18px}.ztree li ul.line{background:url(data:image/gif;base64,R0lGODlhCQACAIAAAMzMzP///yH5BAEAAAEALAAAAAAJAAIAAAIEjI9pUAA7) 0 0 repeat-y}.ztree li a{padding:1px 3px 0 0;margin:0;cursor:pointer;height:17px;color:#333;background-color:transparent;text-decoration:none;vertical-align:top;display:inline-block}.ztree li a:hover{text-decoration:underline}.ztree li a.curSelectedNode,.ztree li a.curSelectedNode_Edit{padding-top:0;background-color:#ffe6b0;color:#000;height:16px;border:1px solid #ffb951;opacity:.8}.ztree li a.tmpTargetNode_inner{padding-top:0;background-color:#316ac5;color:#fff;height:16px;border:1px solid #316ac5;opacity:.8;filter:alpha(opacity=80)}.ztree li a input.rename{height:16px;padding:0;margin:0;font-size:14px;border:1px solid #7ec4cc;*border:0}.ztree li span{line-height:16px;margin-right:2px}.ztree li span.button{line-height:0;margin:0;width:16px;height:16px;display:inline-block;vertical-align:middle;border:0 none;cursor:pointer;outline:none;background-color:transparent;background-repeat:no-repeat;background-attachment:scroll;background-image:url(zTreeStandard.524f504c45ed6ca333a4.png);*background-image:url(data:image/gif;base64,R0lGODlhoABhAOZ/AEyr5tnX0aWko+Srivz8+4XZZGG365CPj3PPUPfrlbvL2PT08refX/rCVMpoMtTSyvW6R8zMzOqITPLgfb+vjKjo/+Ph3Pm3Ofqmcl6CosnHu/3PrSGgIezs6tPq/2qzSoy10rm5t6b2ic2qR0xpkP3YiPz1qylahPiaYDma0OTTOfTpTXDK/pfZ/niYtWTA9+zp46rT6vzdnK2/0N7c17DUrmWu12l3b/Lt3PvmuU/FQuTk4ZLh/4TZ/1ikz1u4Mub0//vKZ/Dw7vfvc+/Rh+TEdJTucvDu6maGpPvirfj498Llwv/7t6u0u6DSnniDhZvJlN6Ua4XF7N+4YIfL8vnuw/rxzu3DYZ6dnP3BmP62hH3W/8LZ//rz2XSQq3N7qenZcbjgp+ft8qqtqe7YlOzjp7a1rpK67HbA7YWYqsR5T+jLgnOOodvXrKettoedy/b6/9HSouTApQAAANHNwefn6EOh1raeEejo5eTq74y0e/vReO7z7RxRgP///////yH5BAEAAH8ALAAAAACgAGEAAAf/gH2Cg4SDf4WIgn+Lf2IzGScZM2KMlY6QkpSVm5ydnp+goaKjpJ59NKg0FhY7eB1CQn2HqaqsrrCyiwp9SE00M0h9Cpu7vb/Bw6XKy8yhBHJRDg5RcgSfBGEIPz8IYdaMp6irra9CC7LhteSw57oZTeOuj8l/Cu/xHfPN+805RP8Ac4CS4wBDlg0bsmBwIKdTmB8FREgUUeBHGHDibJVb0C4cPiEcOMoS0weeRlgz+lAiaXKdkJSa+MkUtYaJzZtkuniSowZhFmkODqppWOnhxKMiLC469dHcAiXoVO1YxyEk1D/AmnL0MgMrknE1dDjpsLXrzLOfat60aWKNW7dJ/xb5CarQgZ+7QTc4+PaHwA+JRozoQBBY4g9rfbQ+vZrYAodbVTkouXrPJUcl9v5UDquDA5SnmWXOcEG6tAuznUabJo26UhETsGPLhl1kkRyDWjDc1XLXIAaif8JEDGzkLnGKFxNbXkwAHauqIKtObv7nBI3lkxecqH69jo7v0pVon+nCDwHxR2BYcPGp/PkF6dd3ej27fu0/UbLk1u2HPwYtWkTBCGGBIaDDXQYG5gQCh2CnBAHU9dFKZOFBKIsktzg1XWYYduBEZFA8GBo/Lrw3h3o0sOdJieihqOImRSQg44w0ynhfUBjk2FuOOf7EyF8FFHDXkH4EmdQhGV72IP8BfqADWYVMygLMRswRwJVXr3QAhWd8QHilTC6gN4cFNATwIidhwoeimZ1MUeObCUyxSFAo1HmXBNLU6eMiPxgRJJF3BWnED4dQOR2TTRbKjmRL3jVSHzNouOQuK0EqKYSUfhLBH5t2yukmLiwwx6ijPsCep5WESmqpp366iJtw0ijnH2poUScKd+HqhwQoaKEGIx8EicCwCA4b5AeHsFPlkOgoeyiz7sxQpT302CPtodSe5UJ8cwTwAB1nghpfmd+Gu8gIE6Sr7rrpjrDIAFFgIIEEeN2JQRQDMAIFAgUMi0Cx/CIARbJKQkhkswUj6igju3ihwAIKeCEMMX04DLH/xPR4sqkoLqA4x7camMtIx2R6S0fInaDL7sru/lGHAwOgMO+QvA7gQB2M4AHRsIMZaOwPeBySSCFCD20II5dEMkknSWeC1h8ulAwyyitKfTLVm6i88rotKzGAGvDOO2+8alCgBCNKQLGzgT1XFOLTcIuycSiqrdbaJnWbdvcia4zg99+A+70GIwtQMA0GAyAeDQULbLKAHtwEKewPUAixlNGGYH70H340PQlfSD+idExxl87MAhEwoAZQDDzQOCeo6/HBNh/o4To4VlSRQxIylFDCHnsEEQQ6ue/e++/BD89wH09QQAYFT0xcyS7NPx99xp3MTYr2o3CPlhJilBmA/wVinO2JEh3Q8EAANHRg/lK68+478MI3gE78x9MfhP3umJH/Hgy4QbUy4L/5AVCApkugAkfRh901pQH8a2ASPsIBCD7KfzJIAg6SEDwGqKQRfcCgBjkYBA+SbhPeC0UKQbFCmRAgBjZIQQpsEAPQbeKFMZxhDSvRB96dxBwWPATvpvKkIM7gCTKQAQ6WuMT93aArR0ziDsIyFifubYHM8AdA/iGQT8QgBWiogBhbgIYUxKATXwzjGMt4xqX0bjkNgAA6eveYV0QmjheiQAk0yEQcyKABDMiAZvSYBM545o+B1NQyWqixUKhlLTnxRAzsIEYeAOCSYrRDGxkxyUry4P+TmWxjH3yXpKdAQI6H8B10IqOEU8riBEQoQR+ZeMrtwFKW3+kMB3BQSyzO5JE3actb1hCXvqSgAjzoAQCGBAAeVCAFfCHAMZMJgB5Ys5nPRMzvDNXKC6DjdxRiFAS8Ocg98JGJZIBAIjNAAXN+qCpQSGciG6kMRmYvFPSpj2zuEwM08GALW7hLQP2wBR6gYZP9/GdAAbrMgh70EMBz1oMuQM4+RJSVEyXnEYE3ywZc4IlYeQLwtMQlj4LUl/zIpz5pswgbtGALLGDBXWTqBxZsoQU2YIRLYSpTFiyzpjfNqUWDcCkCUBQdwTMHoyB0VBAyQHhKJINHTehUqOJAqhf/oCo96bYa1nwib6W5mxXIsMWy/oMMCbhPCloQU5q2NaYtSAEj1trWmg4JrnLtQ/0geEqKNlWv++PrOP2aCwXcgAGCzSoCdXHYxAYQe81wT4vksyLzTDZcZDDBWjZrEyLEaRFrfYFo7/KCS4o2rnNtgWhf4AfWkvYFqNUrBOM4WMIeIrC09WtTddGHw6rzBtJbnm8DGNytgoJFonJRe94zrnBVIbMrhU0CiDArH1DhBQYwwF206wcDvIAKPmCEdbGr3exu97vh1Zwi1JuLRXjuhO4FxgmQsDS0pOkIYyqTyBZx3zWFiwAxitWMpjArEBgADZe8y08BgAYDgIARBkbw/zINkGAGOxilpfOUhkElqlWZ6lPcU5WHW7UxsgrYRi2rQwqoQOGf+gEABqBCCnC2CBWz+JI4hrGMccbeomHOEvKlrxj8wIn3Pm1b6ulWudozLpOZCwdT2Nq6wNA1ENhBCi2+pAGkYAcQvE8JVsZyjrfc5bP1AQtoTnOaBSAAdKg5zWOIc5sZdgI2uCECTfDCCbCngDrf2Q16hiwKR0EyGnzsZPuF2ppAJrIpBO7RI7jPHxYAghQcGA2YNkAKQPA6wlX60pne9OvO/GY0s3nOpFbzGJbA6jEUNgNuCIEZZq2BJiBhgLGetRlqfWttWU0DWEPTr4PNjwWYSoYydMHtYP93bGQru9OpVvOpUY2FOI+h2qzmwBJc3YgTxHoMpx5DCJpwgpV4OwQ1YPUSajDucitSFGD1qififZqnoU987XsfJ+4dAPa5j4elnjaqV93qbGub2zNgQwjAPW1xpwGKCk83Fdcdgodj+OKmizYWBD7wJWjb4AeXBRLcYAaOC8AMtv7DyM2wbvBAYQkoR8K7S2FPTtjzDCB4Q853/gXLeQIb2uCGN64BQxnSEHTRNjk6Vl0Vjzd926/UQMk5PoYIkKA6Ul9CLpte9atjfBlnuAsB4ACHBXjgCyDw+SYeEpGJVOQinEijGCtARjOCY81KPwTTKdTqOfdi6gIfQ8r/voT/d3pm2yk3bvcWGYqwEwkOZwfAG9S+CKMkZRs/+EBS4M5JSiLzk86sgCaXYmqTd9zpH2e4lLwQApNXHIqsT/eWXs5ui39dGWdQGNnP/oUvaKASfgEMoAwTzWkq05rKdCY0D7Fx01Ob4Kk/tSzyQIImAJ7NgidBHv5Afeunm9U1yP72FS83xoMCBHchOxDWzwUufCEERRlOcfxAHCMgh5P+BOiL9e/QM/bB+WyGDtinbgwXgH2hAGzQBAsXZyjnMNZAAAiogNbWgApgQ7cXCiAwdnCwfkDgAR74fpVAIIFxF5inIAzSUi8VUwrWU0F1CACIauEmZ9OWC36gACSQBk1Q/2tpQAIVyAg1eIM52AQ72IMztz3m9wlvoH4c6IFnB38/QhF/QiRGQiigxVYqOFM1xQKxpV4+ZjQ++F421DmikwkWeIGhkIQc2IFMCII/4idRKDmCQoV/EFqjRVqtBVtyZYb8UHNY0VX1Nm9+eEVvkIZM6AHu54SLECz98i9+4C/8UgDIsgjjZV7dVV7o1YVDg4mJ8IVj+DlF1onwtQ+SpSaU1QmjGB8i4wJL6IFcYIhsuAj7sogkuA0BMzCLEGEJ1mIv1mAP1gfFIz/IIzzEgz++AxDKowsn0DxEAD17RgzJSAHL+ATNyEKEZiLKtSLMdY2b4AXrV4iG6H5mUAk6I/+LRMIvP0BjLrNiWYZjMTZjh0CMwbg/92M8xahuRfBq/kNWRBAEFLBY9UBAMqCP/OiPJCImJZNo/XWQnfAFasiK30gCiPgHabM2PmOOb7MIYHZl60hmXnYIu/NmbBZEDVQGcYZtHrcEVzASJ2AGZEAGbRAAbbAGV8AA7iYGK+mS6tYGM+lujbRhIdZhpPJhqDIyQMkqIMYIvZeUSvkFJPB7lfA4kSM52lA5jvNpmBZqnLYUvCNtIRlBZUCABoeSUoJEZOAtwEYHRXAFIBVFbdByTrAEcaCWV6QMSGYBSgYuTLZoeMkJO6ABIfCXgClrGrADsBMBskM7ttNpT9lsybb/bIfQO3gXkqjUB1/5cagnloPkkg8gdSGgAXIwBevkPC3XGS8HmoIEJh7DaO2hl8TGD/e2PjRQB/q2Cfzmb/o2SiVQeqfmSodABk53mZgJS0QQAFIXZyFAB1MAAbb0D1oHHtqWnNsBJsOGkNOph6EwSnvQfNM2Tujgm+HEaldATuxEBG3gl8b5maFJBIUHIktgmjNBb3PZh111RRFgbfbpDEWnQ2W4CDhkdDsEDsBjcn+lnsA5Bk21UWtwMn+pAcm5liLVlrMHlxBwUtYJCmMAKH4QZ14ERnNXd5tUCXK3Rna3FMEjoBW1BwQafU1lkwxQBEUgB55JYDRpbi0aB+oW/wegyZMV+gkXCigXOgZo5HmgF3qjB6JCCnqhtBR7lVu2BVhFoG7haVv1cFhXQGAy6o+GxQBVSmC/JWg7Wgk9SiQ9CqTAZ3zXZE3KV3zIhHzV1ANpeluz1Ve6hQ6BdQV2qlvkhIzDdQN7RmR0tqd9+qUWiqH2SaaLkFAApX8AAFAGhVD5x1AExagP1WM9FjqYMAl+CmRIMF+YKqiDiqFDYqh/sFM+lWAvZlM4pVMp6FMzFVMt6KmwGgoXiigKQwBfAzZVeIVEglepVVetyqvAFqzCKqx/MKzGCmyVYAEBcDJ0MD6doKzM6qyx2gmzCiHW6jU9sQG/Moeq5VpEclp5yP+tqzUkq4WHxUoLTfF7GoCuP+SUHeAt10EAO6A+AdABjPCuDxCv87o+9jqtYOoHkxGw2JoQXyOJ15VdlJhdl2iw5MVdCHuJ65oRlqGuqRAPrnAEC+CU/bYDgLID/cYIG9uxH+uvjHCh2cERX0OwuPoHuIhjL3ZJvAhhB5Zl3QWzFxaxikGx6oAHMNABGmAOv2cBD8CxGLoDD2ABfyC0RNuxR/uegfhVT8sJF8oRQtABKZsFXxMFQFBj6phjWrZjjGBj6/i17riuiqEEOmsLPQtsT/F77AOqd1Emf/C2fiAEHvsAMBC3AUAelkWKCNm3qEitBFC1OzAFdzAFWKsGatD/aRkpZuzIZR2JkWG2kZB7NhpwtmhbrGQymGvLtplLB0tbtHTwB6B7FzvQAUJLB6Y7umBijWSCkNn4utRqWUpwByZwByOgBlEgAFVpaVfZYKLWu6AGvFmpuQ5CAOq6CsDms2y7AMhbrAqDoc+rAYgyPsuqAWLnlAUJH/nFJisyWfrVCRpgn3fABGRwB2ogANpLOIyZAs/WCcbmAsjmvo45mKV0KOo6FcPKERDye6ULtzswuv/7ACCjun4QwORRlB9DYhy2Kgt8lBhZB6tgAQxwB3fAAAGQB7OJkenTb/n2CbX5wYygAffbKOqKB64QrPzLJG5LA3DrB3JLtzDArHkL/8N7Cybc4mR5aTWJ1gwEUAVVsJ+loAHcZDB+oK6vcARCoAErfBdBO7SgarRIq7RR3LSoSSaH1pojw5qJtgH5wggDAByeUAUqoAJVgJ85dHSV8LNFNSTqqixN7MSLELJE4rE3PLcBELoHPLLSSS5XQ51+DGwicwRREAUS8MVRsAGHfA1gkC5gIMQhSndsNMJt7MbFWsly/Af4qq/02q+aDK87IK+dfBbwCbXz2QkDIAEHIQHRgAFJoMhfvG8qABsqsMGHeqSgJHptdKzGWqy8TKyMAK0a0KxIywnCTMwkizZyIAEAogWKjAEJgRCL3Be5A8RlMMsmoAJlAMRVYAXfIP9Na3p8aJpNyUyyeqEQdaIFWbDOAJIEXeAAjWMFZTzPQ1DPQzDPZWwFh/qoAbWokvqh5eypARAUtoICPPIf6iwvjYMDKpAATJAA9rwC9ezQE6ACOICCPEVTAOCqqRrQsaoEWFAQGFAnPKLO+HLREhkHIwAG9bwCLi3RQwAGUxAH5kNXvpqFWhiuHg2rIT3SJP0fP1HMGKkBDKACL+3S98wAGvA+dFiHd2iuOw2rC8AAEuDTP20rDoDSjPAAI+DSZezSI/AAmzCJCauw4BXVnkrIdSI2t5IjCeEA+kbGR+3VZ1wJEaaLMGazD4bWX2oBqiwz82LQt6IFSeAAXdQXZCD/0Svw1UOwAmQAOmLrtTrmjny9ox2gBmtd1els0FpwyJ3WBSrQ2CPAAAzQ1fesE2gzuWNWuZXNDKUMiKfcFwGgBpqNAnmiH9PMCKCtAgwQAh3QAWZQ1CqA2p7mu1epacXb2nQJuOrxt7H7InBAA7RtKyEg3TITBVrNn8Qp1EkbAgFggfE7v++r3MuAXCciu9gIvmdCAHVwANA8x0Nhy33BCUIcwv9G3uVtkOH7vaS43zNBAKggxPgNNyIWlAipwB92FjRwAAdAAwPuS3V5lwjZZEvmCVKQAlIgCgQwBrM2BgL+4OSRmoi2mr+WaCkABBgeCkpwAP12APIN4r4WyFrM/1/VuQgXPr+el+LAN6/sEwEHEAE+HgFlEq8w/jSvnRpRO4ceMHeeJHoZzgg7wOBYwOBm8JdmIOUMTphF7q/HlKhe3gPP9ORJ+wTeHQGyxoCdGQAh8ATcveWemgI88FZv1QMeEK5KEAIHoL7XBmcaIAAHEAIv7uZ62NTlygI8AEaVgLZPcADXJuVjcABPsNSCPq3H1ANUYOksAK42oJiL8ABP8OgMzuhPINaTPq2VNr8r1gMzxOmLsOACIG0NXurTugD0uj7HtOqdQACtZwZjsOgcLgAh8OGyXqGVtume0AFYUHKL/gRPcHJY4MnDPut1wOphC+kHYAYdcAR4vujoGBntla0Eau7gjEAD3h3o3h7QFijs577uixAIADs=)}.ztree li span.button.chk{width:13px;height:13px;margin:0 3px 0 0;cursor:auto}.ztree li span.button.chk.checkbox_false_full{background-position:0 0}.ztree li span.button.chk.checkbox_false_full_focus{background-position:0 -14px}.ztree li span.button.chk.checkbox_false_part{background-position:0 -28px}.ztree li span.button.chk.checkbox_false_part_focus{background-position:0 -42px}.ztree li span.button.chk.checkbox_false_disable{background-position:0 -56px}.ztree li span.button.chk.checkbox_true_full{background-position:-14px 0}.ztree li span.button.chk.checkbox_true_full_focus{background-position:-14px -14px}.ztree li span.button.chk.checkbox_true_part{background-position:-14px -28px}.ztree li span.button.chk.checkbox_true_part_focus{background-position:-14px -42px}.ztree li span.button.chk.checkbox_true_disable{background-position:-14px -56px}.ztree li span.button.chk.radio_false_full{background-position:-28px 0}.ztree li span.button.chk.radio_false_full_focus{background-position:-28px -14px}.ztree li span.button.chk.radio_false_part{background-position:-28px -28px}.ztree li span.button.chk.radio_false_part_focus{background-position:-28px -42px}.ztree li span.button.chk.radio_false_disable{background-position:-28px -56px}.ztree li span.button.chk.radio_true_full{background-position:-42px 0}.ztree li span.button.chk.radio_true_full_focus{background-position:-42px -14px}.ztree li span.button.chk.radio_true_part{background-position:-42px -28px}.ztree li span.button.chk.radio_true_part_focus{background-position:-42px -42px}.ztree li span.button.chk.radio_true_disable{background-position:-42px -56px}.ztree li span.button.switch{width:18px;height:18px}.ztree li span.button.root_open{background-position:-92px -54px}.ztree li span.button.root_close{background-position:-74px -54px}.ztree li span.button.roots_open{background-position:-92px 0}.ztree li span.button.roots_close{background-position:-74px 0}.ztree li span.button.center_open{background-position:-92px -18px}.ztree li span.button.center_close{background-position:-74px -18px}.ztree li span.button.bottom_open{background-position:-92px -36px}.ztree li span.button.bottom_close{background-position:-74px -36px}.ztree li span.button.noline_open{background-position:-92px -72px}.ztree li span.button.noline_close{background-position:-74px -72px}.ztree li span.button.root_docu{background:none}.ztree li span.button.roots_docu{background-position:-56px 0}.ztree li span.button.center_docu{background-position:-56px -18px}.ztree li span.button.bottom_docu{background-position:-56px -36px}.ztree li span.button.noline_docu{background:none}.ztree li span.button.ico_open{margin-right:2px;background-position:-110px -16px;vertical-align:top;*vertical-align:middle}.ztree li span.button.ico_close{margin-right:2px;background-position:-110px 0;vertical-align:top;*vertical-align:middle}.ztree li span.button.ico_docu{background-position:-110px -32px}.ztree li span.button.edit,.ztree li span.button.ico_docu{margin-right:2px;vertical-align:top;*vertical-align:middle}.ztree li span.button.edit{background-position:-110px -48px}.ztree li span.button.remove{margin-right:2px;background-position:-110px -64px;vertical-align:top;*vertical-align:middle}.ztree li span.button.ico_loading{margin-right:2px;background:url(data:image/gif;base64,R0lGODlhEAAQAKIGAMLY8YSx5HOm4Mjc88/g9Ofw+v///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgAGACwAAAAAEAAQAAADMGi6RbUwGjKIXCAA016PgRBElAVlG/RdLOO0X9nK61W39qvqiwz5Ls/rRqrggsdkAgAh+QQFCgAGACwCAAAABwAFAAADD2hqELAmiFBIYY4MAutdCQAh+QQFCgAGACwGAAAABwAFAAADD1hU1kaDOKMYCGAGEeYFCQAh+QQFCgAGACwKAAIABQAHAAADEFhUZjSkKdZqBQG0IELDQAIAIfkEBQoABgAsCgAGAAUABwAAAxBoVlRKgyjmlAIBqCDCzUoCACH5BAUKAAYALAYACgAHAAUAAAMPaGpFtYYMAgJgLogA610JACH5BAUKAAYALAIACgAHAAUAAAMPCAHWFiI4o1ghZZJB5i0JACH5BAUKAAYALAAABgAFAAcAAAMQCAFmIaEp1motpDQySMNFAgA7) no-repeat scroll 0 0 transparent;vertical-align:top;*vertical-align:middle}ul.tmpTargetzTree{background-color:#ffe6b0;opacity:.8;filter:alpha(opacity=80)}span.tmpzTreeMove_arrow{width:16px;height:16px;display:inline-block;padding:0;margin:2px 0 0 1px;border:0 none;position:absolute;background-color:transparent;background-repeat:no-repeat;background-attachment:scroll;background-position:-110px -80px;background-image:url(zTreeStandard.524f504c45ed6ca333a4.png);*background-image:url(data:image/gif;base64,R0lGODlhoABhAOZ/AEyr5tnX0aWko+Srivz8+4XZZGG365CPj3PPUPfrlbvL2PT08refX/rCVMpoMtTSyvW6R8zMzOqITPLgfb+vjKjo/+Ph3Pm3Ofqmcl6CosnHu/3PrSGgIezs6tPq/2qzSoy10rm5t6b2ic2qR0xpkP3YiPz1qylahPiaYDma0OTTOfTpTXDK/pfZ/niYtWTA9+zp46rT6vzdnK2/0N7c17DUrmWu12l3b/Lt3PvmuU/FQuTk4ZLh/4TZ/1ikz1u4Mub0//vKZ/Dw7vfvc+/Rh+TEdJTucvDu6maGpPvirfj498Llwv/7t6u0u6DSnniDhZvJlN6Ua4XF7N+4YIfL8vnuw/rxzu3DYZ6dnP3BmP62hH3W/8LZ//rz2XSQq3N7qenZcbjgp+ft8qqtqe7YlOzjp7a1rpK67HbA7YWYqsR5T+jLgnOOodvXrKettoedy/b6/9HSouTApQAAANHNwefn6EOh1raeEejo5eTq74y0e/vReO7z7RxRgP///////yH5BAEAAH8ALAAAAACgAGEAAAf/gH2Cg4SDf4WIgn+Lf2IzGScZM2KMlY6QkpSVm5ydnp+goaKjpJ59NKg0FhY7eB1CQn2HqaqsrrCyiwp9SE00M0h9Cpu7vb/Bw6XKy8yhBHJRDg5RcgSfBGEIPz8IYdaMp6irra9CC7LhteSw57oZTeOuj8l/Cu/xHfPN+805RP8Ac4CS4wBDlg0bsmBwIKdTmB8FREgUUeBHGHDibJVb0C4cPiEcOMoS0weeRlgz+lAiaXKdkJSa+MkUtYaJzZtkuniSowZhFmkODqppWOnhxKMiLC469dHcAiXoVO1YxyEk1D/AmnL0MgMrknE1dDjpsLXrzLOfat60aWKNW7dJ/xb5CarQgZ+7QTc4+PaHwA+JRozoQBBY4g9rfbQ+vZrYAodbVTkouXrPJUcl9v5UDquDA5SnmWXOcEG6tAuznUabJo26UhETsGPLhl1kkRyDWjDc1XLXIAaif8JEDGzkLnGKFxNbXkwAHauqIKtObv7nBI3lkxecqH69jo7v0pVon+nCDwHxR2BYcPGp/PkF6dd3ej27fu0/UbLk1u2HPwYtWkTBCGGBIaDDXQYG5gQCh2CnBAHU9dFKZOFBKIsktzg1XWYYduBEZFA8GBo/Lrw3h3o0sOdJieihqOImRSQg44w0ynhfUBjk2FuOOf7EyF8FFHDXkH4EmdQhGV72IP8BfqADWYVMygLMRswRwJVXr3QAhWd8QHilTC6gN4cFNATwIidhwoeimZ1MUeObCUyxSFAo1HmXBNLU6eMiPxgRJJF3BWnED4dQOR2TTRbKjmRL3jVSHzNouOQuK0EqKYSUfhLBH5t2yukmLiwwx6ijPsCep5WESmqpp366iJtw0ijnH2poUScKd+HqhwQoaKEGIx8EicCwCA4b5AeHsFPlkOgoeyiz7sxQpT302CPtodSe5UJ8cwTwAB1nghpfmd+Gu8gIE6Sr7rrpjrDIAFFgIIEEeN2JQRQDMAIFAgUMi0Cx/CIARbJKQkhkswUj6igju3ihwAIKeCEMMX04DLH/xPR4sqkoLqA4x7camMtIx2R6S0fInaDL7sru/lGHAwOgMO+QvA7gQB2M4AHRsIMZaOwPeBySSCFCD20II5dEMkknSWeC1h8ulAwyyitKfTLVm6i88rotKzGAGvDOO2+8alCgBCNKQLGzgT1XFOLTcIuycSiqrdbaJnWbdvcia4zg99+A+70GIwtQMA0GAyAeDQULbLKAHtwEKewPUAixlNGGYH70H340PQlfSD+idExxl87MAhEwoAZQDDzQOCeo6/HBNh/o4To4VlSRQxIylFDCHnsEEQQ6ue/e++/BD89wH09QQAYFT0xcyS7NPx99xp3MTYr2o3CPlhJilBmA/wVinO2JEh3Q8EAANHRg/lK68+478MI3gE78x9MfhP3umJH/Hgy4QbUy4L/5AVCApkugAkfRh901pQH8a2ASPsIBCD7KfzJIAg6SEDwGqKQRfcCgBjkYBA+SbhPeC0UKQbFCmRAgBjZIQQpsEAPQbeKFMZxhDSvRB96dxBwWPATvpvKkIM7gCTKQAQ6WuMT93aArR0ziDsIyFifubYHM8AdA/iGQT8QgBWiogBhbgIYUxKATXwzjGMt4xqX0bjkNgAA6eveYV0QmjheiQAk0yEQcyKABDMiAZvSYBM545o+B1NQyWqixUKhlLTnxRAzsIEYeAOCSYrRDGxkxyUry4P+TmWxjH3yXpKdAQI6H8B10IqOEU8riBEQoQR+ZeMrtwFKW3+kMB3BQSyzO5JE3actb1hCXvqSgAjzoAQCGBAAeVCAFfCHAMZMJgB5Ys5nPRMzvDNXKC6DjdxRiFAS8Ocg98JGJZIBAIjNAAXN+qCpQSGciG6kMRmYvFPSpj2zuEwM08GALW7hLQP2wBR6gYZP9/GdAAbrMgh70EMBz1oMuQM4+RJSVEyXnEYE3ywZc4IlYeQLwtMQlj4LUl/zIpz5pswgbtGALLGDBXWTqBxZsoQU2YIRLYSpTFiyzpjfNqUWDcCkCUBQdwTMHoyB0VBAyQHhKJINHTehUqOJAqhf/oCo96bYa1nwib6W5mxXIsMWy/oMMCbhPCloQU5q2NaYtSAEj1trWmg4JrnLtQ/0geEqKNlWv++PrOP2aCwXcgAGCzSoCdXHYxAYQe81wT4vksyLzTDZcZDDBWjZrEyLEaRFrfYFo7/KCS4o2rnNtgWhf4AfWkvYFqNUrBOM4WMIeIrC09WtTddGHw6rzBtJbnm8DGNytgoJFonJRe94zrnBVIbMrhU0CiDArH1DhBQYwwF206wcDvIAKPmCEdbGr3exu97vh1Zwi1JuLRXjuhO4FxgmQsDS0pOkIYyqTyBZx3zWFiwAxitWMpjArEBgADZe8y08BgAYDgIARBkbw/zINkGAGOxilpfOUhkElqlWZ6lPcU5WHW7UxsgrYRi2rQwqoQOGf+gEABqBCCnC2CBWz+JI4hrGMccbeomHOEvKlrxj8wIn3Pm1b6ulWudozLpOZCwdT2Nq6wNA1ENhBCi2+pAGkYAcQvE8JVsZyjrfc5bP1AQtoTnOaBSAAdKg5zWOIc5sZdgI2uCECTfDCCbCngDrf2Q16hiwKR0EyGnzsZPuF2ppAJrIpBO7RI7jPHxYAghQcGA2YNkAKQPA6wlX60pne9OvO/GY0s3nOpFbzGJbA6jEUNgNuCIEZZq2BJiBhgLGetRlqfWttWU0DWEPTr4PNjwWYSoYydMHtYP93bGQru9OpVvOpUY2FOI+h2qzmwBJc3YgTxHoMpx5DCJpwgpV4OwQ1YPUSajDucitSFGD1qififZqnoU987XsfJ+4dAPa5j4elnjaqV93qbGub2zNgQwjAPW1xpwGKCk83Fdcdgodj+OKmizYWBD7wJWjb4AeXBRLcYAaOC8AMtv7DyM2wbvBAYQkoR8K7S2FPTtjzDCB4Q853/gXLeQIb2uCGN64BQxnSEHTRNjk6Vl0Vjzd926/UQMk5PoYIkKA6Ul9CLpte9atjfBlnuAsB4ACHBXjgCyDw+SYeEpGJVOQinEijGCtARjOCY81KPwTTKdTqOfdi6gIfQ8r/voT/d3pm2yk3bvcWGYqwEwkOZwfAG9S+CKMkZRs/+EBS4M5JSiLzk86sgCaXYmqTd9zpH2e4lLwQApNXHIqsT/eWXs5ui39dGWdQGNnP/oUvaKASfgEMoAwTzWkq05rKdCY0D7Fx01Ob4Kk/tSzyQIImAJ7NgidBHv5Afeunm9U1yP72FS83xoMCBHchOxDWzwUufCEERRlOcfxAHCMgh5P+BOiL9e/QM/bB+WyGDtinbgwXgH2hAGzQBAsXZyjnMNZAAAiogNbWgApgQ7cXCiAwdnCwfkDgAR74fpVAIIFxF5inIAzSUi8VUwrWU0F1CACIauEmZ9OWC36gACSQBk1Q/2tpQAIVyAg1eIM52AQ72IMztz3m9wlvoH4c6IFnB38/QhF/QiRGQiigxVYqOFM1xQKxpV4+ZjQ++F421DmikwkWeIGhkIQc2IFMCII/4idRKDmCQoV/EFqjRVqtBVtyZYb8UHNY0VX1Nm9+eEVvkIZM6AHu54SLECz98i9+4C/8UgDIsgjjZV7dVV7o1YVDg4mJ8IVj+DlF1onwtQ+SpSaU1QmjGB8i4wJL6IFcYIhsuAj7sogkuA0BMzCLEGEJ1mIv1mAP1gfFIz/IIzzEgz++AxDKowsn0DxEAD17RgzJSAHL+ATNyEKEZiLKtSLMdY2b4AXrV4iG6H5mUAk6I/+LRMIvP0BjLrNiWYZjMTZjh0CMwbg/92M8xahuRfBq/kNWRBAEFLBY9UBAMqCP/OiPJCImJZNo/XWQnfAFasiK30gCiPgHabM2PmOOb7MIYHZl60hmXnYIu/NmbBZEDVQGcYZtHrcEVzASJ2AGZEAGbRAAbbAGV8AA7iYGK+mS6tYGM+lujbRhIdZhpPJhqDIyQMkqIMYIvZeUSvkFJPB7lfA4kSM52lA5jvNpmBZqnLYUvCNtIRlBZUCABoeSUoJEZOAtwEYHRXAFIBVFbdByTrAEcaCWV6QMSGYBSgYuTLZoeMkJO6ABIfCXgClrGrADsBMBskM7ttNpT9lsybb/bIfQO3gXkqjUB1/5cagnloPkkg8gdSGgAXIwBevkPC3XGS8HmoIEJh7DaO2hl8TGD/e2PjRQB/q2Cfzmb/o2SiVQeqfmSodABk53mZgJS0QQAFIXZyFAB1MAAbb0D1oHHtqWnNsBJsOGkNOph6EwSnvQfNM2Tujgm+HEaldATuxEBG3gl8b5maFJBIUHIktgmjNBb3PZh111RRFgbfbpDEWnQ2W4CDhkdDsEDsBjcn+lnsA5Bk21UWtwMn+pAcm5liLVlrMHlxBwUtYJCmMAKH4QZ14ERnNXd5tUCXK3Rna3FMEjoBW1BwQafU1lkwxQBEUgB55JYDRpbi0aB+oW/wegyZMV+gkXCigXOgZo5HmgF3qjB6JCCnqhtBR7lVu2BVhFoG7haVv1cFhXQGAy6o+GxQBVSmC/JWg7Wgk9SiQ9CqTAZ3zXZE3KV3zIhHzV1ANpeluz1Ve6hQ6BdQV2qlvkhIzDdQN7RmR0tqd9+qUWiqH2SaaLkFAApX8AAFAGhVD5x1AExagP1WM9FjqYMAl+CmRIMF+YKqiDiqFDYqh/sFM+lWAvZlM4pVMp6FMzFVMt6KmwGgoXiigKQwBfAzZVeIVEglepVVetyqvAFqzCKqx/MKzGCmyVYAEBcDJ0MD6doKzM6qyx2gmzCiHW6jU9sQG/Moeq5VpEclp5yP+tqzUkq4WHxUoLTfF7GoCuP+SUHeAt10EAO6A+AdABjPCuDxCv87o+9jqtYOoHkxGw2JoQXyOJ15VdlJhdl2iw5MVdCHuJ65oRlqGuqRAPrnAEC+CU/bYDgLID/cYIG9uxH+uvjHCh2cERX0OwuPoHuIhjL3ZJvAhhB5Zl3QWzFxaxikGx6oAHMNABGmAOv2cBD8CxGLoDD2ABfyC0RNuxR/uegfhVT8sJF8oRQtABKZsFXxMFQFBj6phjWrZjjGBj6/i17riuiqEEOmsLPQtsT/F77AOqd1Emf/C2fiAEHvsAMBC3AUAelkWKCNm3qEitBFC1OzAFdzAFWKsGatD/aRkpZuzIZR2JkWG2kZB7NhpwtmhbrGQymGvLtplLB0tbtHTwB6B7FzvQAUJLB6Y7umBijWSCkNn4utRqWUpwByZwByOgBlEgAFVpaVfZYKLWu6AGvFmpuQ5CAOq6CsDms2y7AMhbrAqDoc+rAYgyPsuqAWLnlAUJH/nFJisyWfrVCRpgn3fABGRwB2ogANpLOIyZAs/WCcbmAsjmvo45mKV0KOo6FcPKERDye6ULtzswuv/7ACCjun4QwORRlB9DYhy2Kgt8lBhZB6tgAQxwB3fAAAGQB7OJkenTb/n2CbX5wYygAffbKOqKB64QrPzLJG5LA3DrB3JLtzDArHkL/8N7Cybc4mR5aTWJ1gwEUAVVsJ+loAHcZDB+oK6vcARCoAErfBdBO7SgarRIq7RR3LSoSSaH1pojw5qJtgH5wggDAByeUAUqoAJVgJ85dHSV8LNFNSTqqixN7MSLELJE4rE3PLcBELoHPLLSSS5XQ51+DGwicwRREAUS8MVRsAGHfA1gkC5gIMQhSndsNMJt7MbFWsly/Af4qq/02q+aDK87IK+dfBbwCbXz2QkDIAEHIQHRgAFJoMhfvG8qABsqsMGHeqSgJHptdKzGWqy8TKyMAK0a0KxIywnCTMwkizZyIAEAogWKjAEJgRCL3Be5A8RlMMsmoAJlAMRVYAXfIP9Na3p8aJpNyUyyeqEQdaIFWbDOAJIEXeAAjWMFZTzPQ1DPQzDPZWwFh/qoAbWokvqh5eypARAUtoICPPIf6iwvjYMDKpAATJAA9rwC9ezQE6ACOICCPEVTAOCqqRrQsaoEWFAQGFAnPKLO+HLREhkHIwAG9bwCLi3RQwAGUxAH5kNXvpqFWhiuHg2rIT3SJP0fP1HMGKkBDKACL+3S98wAGvA+dFiHd2iuOw2rC8AAEuDTP20rDoDSjPAAI+DSZezSI/AAmzCJCauw4BXVnkrIdSI2t5IjCeEA+kbGR+3VZ1wJEaaLMGazD4bWX2oBqiwz82LQt6IFSeAAXdQXZCD/0Svw1UOwAmQAOmLrtTrmjny9ox2gBmtd1els0FpwyJ3WBSrQ2CPAAAzQ1fesE2gzuWNWuZXNDKUMiKfcFwGgBpqNAnmiH9PMCKCtAgwQAh3QAWZQ1CqA2p7mu1epacXb2nQJuOrxt7H7InBAA7RtKyEg3TITBVrNn8Qp1EkbAgFggfE7v++r3MuAXCciu9gIvmdCAHVwANA8x0Nhy33BCUIcwv9G3uVtkOH7vaS43zNBAKggxPgNNyIWlAipwB92FjRwAAdAAwPuS3V5lwjZZEvmCVKQAlIgCgQwBrM2BgL+4OSRmoi2mr+WaCkABBgeCkpwAP12APIN4r4WyFrM/1/VuQgXPr+el+LAN6/sEwEHEAE+HgFlEq8w/jSvnRpRO4ceMHeeJHoZzgg7wOBYwOBm8JdmIOUMTphF7q/HlKhe3gPP9ORJ+wTeHQGyxoCdGQAh8ATcveWemgI88FZv1QMeEK5KEAIHoL7XBmcaIAAHEAIv7uZ62NTlygI8AEaVgLZPcADXJuVjcABPsNSCPq3H1ANUYOksAK42oJiL8ABP8OgMzuhPINaTPq2VNr8r1gMzxOmLsOACIG0NXurTugD0uj7HtOqdQACtZwZjsOgcLgAh8OGyXqGVtume0AFYUHKL/gRPcHJY4MnDPut1wOphC+kHYAYdcAR4vujoGBntla0Eau7gjEAD3h3o3h7QFijs577uixAIADs=)}ul.ztree.zTreeDragUL{margin:0;padding:0;width:auto;height:auto;overflow:hidden;border:1px dotted #00b83f;opacity:.8;filter:alpha(opacity=80)}.zTreeMask,ul.ztree.zTreeDragUL{position:absolute;background-color:#cfcfcf}.zTreeMask{z-index:10000;opacity:0;filter:alpha(opacity=0)}"]},AeaD:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){}return e.prototype.onUp=function(e){e.preventDefault(),e.stopPropagation(),this.grid.up(this.row,this.upConfirm)},e.prototype.onDown=function(e){e.preventDefault(),e.stopPropagation(),this.grid.down(this.row,this.downConfirm)},e.prototype.ngOnChanges=function(){},e}()},Avbn:function(e,n,t){"use strict";t.d(n,"a",function(){return l});t("QZuO");var l=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e}()},BLMn:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var l=t("/oeL"),r=t("xrDH"),o=(t.n(r),t("oRYE")),i=t("Mqds"),u=function(){function e(e,n,t){this.element=e,this.renderer=n,this.clientService=t,this.disposersForDragListeners=[],this.elem=e.nativeElement}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this.container=jQuery(this.elem);var e=this.elem.querySelector(".resize-left"),n=this.elem.querySelector(".resize-handle");this.left=jQuery(e),this.handle=jQuery(n),this.disposersForDragListeners.push(this.renderer.listen(n,"mousedown",this.onmousedown.bind(this)))},e.prototype.ngOnDestroy=function(){this.disposersForDragListeners.forEach(function(e){return e()})},e.prototype.onmousedown=function(e){this.isResizing=!0,this.lastDownX=e.clientX,this.disposersForDragListeners.push(this.renderer.listen(this.elem,"mousemove",this.onmousemove.bind(this))),this.disposersForDragListeners.push(this.renderer.listen(this.elem,"mouseup",this.onmouseup.bind(this)))},e.prototype.onmousemove=function(e){this.isResizing&&(this.left.css("width",e.clientX),this.handle.css("left",e.clientX))},e.prototype.onmouseup=function(e){this.isResizing=!1,r.forEach(this.disposersForDragListeners,function(e,n){n>0&&e()});var n=this.left.css("width").replace("px","");this.clientService.setLeftSize(n,this.profileProp).subscribe(function(e){o.a.PROFILE.leftSize={leftSizeDesign:e.leftSizeDesign,leftSizeExe:e.leftSizeExe}})},e.ctorParameters=function(){return[{type:l.ElementRef,decorators:[{type:l.Inject,args:[l.ElementRef]}]},{type:l.Renderer2,decorators:[{type:l.Inject,args:[l.Renderer2]}]},{type:i.a}]},e}()},BdLl:function(e,n,t){"use strict";var l=t("bKpL"),r=t("vioa");l.Observable.timer=r.timer},BfAr:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){return function(){}}()},CIDy:function(e,n,t){"use strict";var l=t("/oeL"),r=t("a5lJ"),o=t("ZV8k"),i=t("dN2u");t.d(n,"a",function(){return a}),n.b=c;var u=[[".pop-dialog.modal[_ngcontent-%COMP%]{top:calc(40% - 100px)}.pop-dialog[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border:none}"]],a=l["\u0275crt"]({encapsulation:0,styles:u,data:{}});function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!==e.context.dismiss("Cross click")&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\xd7"])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),l["\u0275ncd"](null,0),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-primary confirm-btn"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.onConfirm()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u786e\u8ba4"])),(e()(),l["\u0275ted"](null,["\n    \xa0\xa0\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!==e.context.close("Close click")&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u53d6\u6d88"])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n"]))],null,function(e,n){e(n,4,0,n.component.title)})}function c(e){return l["\u0275vid"](0,[l["\u0275qud"](201326592,1,{content:0}),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275and"](0,[[1,2],["content",2]],null,0,null,s)),(e()(),l["\u0275ted"](null,["\n"]))],null,null)}l["\u0275ccf"]("pop-dialog",r.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"pop-dialog",[],null,null,null,c,a)),l["\u0275did"](2154496,null,0,r.a,[o.a,i.a,l.Injector],null,null)],function(e,n){e(n,1,0)},null)},{title:"title"},{confirm:"confirm"},["*"])},CTdQ:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("/oeL"),r=t("uQF4"),o=t("0WLp"),i=function(){function e(e,n){this.modalService=e,this.compiler=n}return e.prototype.genPage=function(e){this.compiler.clearCacheFor(r.a);var n=this.modalService.open(r.a,{windowClass:"pop-modal"});return n.componentInstance.id=e,n},e.ctorParameters=function(){return[{type:o.e},{type:l.Compiler}]},e}()},D7l2:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("xrDH"),r=(t.n(l),t("9GFz")),o=function(){function e(e){this._reqService=e,this.apiBase="client/env/"}return e.prototype.list=function(e){return this._reqService.post(this.apiBase+"list",e)},e.prototype.get=function(e){var n={id:e};return this._reqService.post(this.apiBase+"get",n)},e.prototype.save=function(e){return this._reqService.post(this.apiBase+"save",e)},e.prototype.delete=function(e){var n={id:e};return this._reqService.post(this.apiBase+"delete",n)},e.prototype.changeOrder=function(e,n,t){return l.merge(t,{id:e,act:n}),this._reqService.post(this.apiBase+"changeOrder",t)},e.ctorParameters=function(){return[{type:r.a}]},e}()},DEAB:function(e,n,t){"use strict";var l=t("/oeL"),r=t("bm2B"),o=t("qbdv"),i=t("oDPs"),u=t("MxAn"),a=t("ZV8k"),s=t("KBuQ"),c=t("JNkf"),d=t("Q0LZ");t.d(n,"a",function(){return p}),n.b=w;var f=[['span.tmpzTreeMove_arrow[_ngcontent-%COMP%]{background-image:none!important;margin-top:0!important}span.tmpzTreeMove_arrow[_ngcontent-%COMP%]:before{font-family:FontAwesome;content:"\\F178"}.ztree-toolbar[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;padding:5px 5px 5px 15px;min-width:290px;height:38px;border-bottom:1px solid #eee!important;line-height:28px;font-size:14px;background-color:#f0f3f4}.ztree-toolbar[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{-ms-flex:1;flex:1;line-height:27px;font-size:13px}.ztree-toolbar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{margin:0 3px;vertical-align:baseline}.ztree-toolbar[_ngcontent-%COMP%]   .tips[_ngcontent-%COMP%]{margin-left:8px;color:#e85656}.ztree-toolbar[_ngcontent-%COMP%]   .tips.highlight[_ngcontent-%COMP%]{color:inherit}.ztree[_ngcontent-%COMP%]{overflow-y:auto}.ztree[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:14px!important;line-height:24px!important;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.ztree[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:-3px;border:1px solid transparent}.ztree[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .ztree[_ngcontent-%COMP%]   a.tmpTargetNode_inner[_ngcontent-%COMP%]{padding:0 3px 0 0!important;height:26px!important}.ztree[_ngcontent-%COMP%]   a.tmpTargetNode_inner[_ngcontent-%COMP%]{background:#f5f5f5!important;border:1px solid #ccc!important;color:#333}.ztree[_ngcontent-%COMP%]   a.curSelectedNode[_ngcontent-%COMP%]{padding:0 3px 0 0!important;border:1px solid #dae2ea!important;background:#f8faff!important;color:#209e91}.ztree[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{padding:0 3px 0 0!important;height:26px!important;border:1px solid #dae2ea;background:#f8faff;border-radius:3px}.ztree[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .node_name[_ngcontent-%COMP%]{margin-left:8px}.ztree[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   input.rename[_ngcontent-%COMP%]{height:22px;font-size:18px}.ztree[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ico_docu[_ngcontent-%COMP%]{color:inherit!important}.ztree[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .node_name[_ngcontent-%COMP%]{color:#333}.ztree[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:inline-block;width:25px;height:24px!important;line-height:24px!important;padding:0 5px;font-weight:700;color:#757575;text-align:center;cursor:pointer;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.ztree[_ngcontent-%COMP%]   .button.add[_ngcontent-%COMP%], .ztree[_ngcontent-%COMP%]   .button.edit[_ngcontent-%COMP%], .ztree[_ngcontent-%COMP%]   .button.ico_close[_ngcontent-%COMP%], .ztree[_ngcontent-%COMP%]   .button.ico_docu[_ngcontent-%COMP%], .ztree[_ngcontent-%COMP%]   .button.ico_open[_ngcontent-%COMP%], .ztree[_ngcontent-%COMP%]   .button.remove[_ngcontent-%COMP%]{background-image:none}.ztree[_ngcontent-%COMP%]   .button.switch[_ngcontent-%COMP%]{margin:4px 0!important;height:20px!important}.ztree[_ngcontent-%COMP%]   .button.switch.bottom_docu[_ngcontent-%COMP%], .ztree[_ngcontent-%COMP%]   .button.switch.center_docu[_ngcontent-%COMP%]{margin:0!important;height:26px!important}.ztree[_ngcontent-%COMP%]   .button.switch.center_docu[_ngcontent-%COMP%]{background-position:-56px -14px}.ztree[_ngcontent-%COMP%]   .button.switch.bottom_docu[_ngcontent-%COMP%]{background-position:-56px -32px}.ztree[_ngcontent-%COMP%]   .button.ico_open[_ngcontent-%COMP%]:before{font-family:FontAwesome;content:"\\F115"}.ztree[_ngcontent-%COMP%]   .button.ico_close[_ngcontent-%COMP%]:before{font-family:FontAwesome;content:"\\F114"}.ztree[_ngcontent-%COMP%]   .button.ico_docu[_ngcontent-%COMP%]:before{font-family:FontAwesome;content:"\\F016"}.ztree[_ngcontent-%COMP%]   .button.add[_ngcontent-%COMP%], .ztree[_ngcontent-%COMP%]   .button.edit[_ngcontent-%COMP%], .ztree[_ngcontent-%COMP%]   .button.remove[_ngcontent-%COMP%]{width:17px;font-family:FontAwesome;padding:0 0 0 5px}.ztree[_ngcontent-%COMP%]   .button.add[_ngcontent-%COMP%]:before{content:"\\F067"}.ztree[_ngcontent-%COMP%]   .button.edit[_ngcontent-%COMP%]:before{content:"\\F040"}.ztree[_ngcontent-%COMP%]   .button.remove[_ngcontent-%COMP%]:before{content:"\\F00D"}.ztree[_ngcontent-%COMP%]   span.button.chk[_ngcontent-%COMP%]{height:13px!important;margin:-3px 3px 0 0!important}'],[".ztree[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px;font-family:Verdana,Arial,Helvetica,AppleGothic,sans-serif}.ztree[_ngcontent-%COMP%]{margin:0;padding:5px;color:#333}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none;line-height:14px;text-align:left;white-space:nowrap;outline:0}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 0 0 18px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.line[_ngcontent-%COMP%]{background:url(data:image/gif;base64,R0lGODlhCQACAIAAAMzMzP///yH5BAEAAAEALAAAAAAJAAIAAAIEjI9pUAA7) 0 0 repeat-y}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:1px 3px 0 0;margin:0;cursor:pointer;height:17px;color:#333;background-color:transparent;text-decoration:none;vertical-align:top;display:inline-block}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.curSelectedNode[_ngcontent-%COMP%], .ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.curSelectedNode_Edit[_ngcontent-%COMP%]{padding-top:0;background-color:#ffe6b0;color:#000;height:16px;border:1px solid #ffb951;opacity:.8}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.tmpTargetNode_inner[_ngcontent-%COMP%]{padding-top:0;background-color:#316ac5;color:#fff;height:16px;border:1px solid #316ac5;opacity:.8;filter:alpha(opacity=80)}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   input.rename[_ngcontent-%COMP%]{height:16px;padding:0;margin:0;font-size:14px;border:1px solid #7ec4cc;*border:0}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:16px;margin-right:2px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button[_ngcontent-%COMP%]{line-height:0;margin:0;width:16px;height:16px;display:inline-block;vertical-align:middle;border:0 none;cursor:pointer;outline:none;background-color:transparent;background-repeat:no-repeat;background-attachment:scroll;background-image:url(zTreeStandard.524f504c45ed6ca333a4.png);*background-image:url(data:image/gif;base64,R0lGODlhoABhAOZ/AEyr5tnX0aWko+Srivz8+4XZZGG365CPj3PPUPfrlbvL2PT08refX/rCVMpoMtTSyvW6R8zMzOqITPLgfb+vjKjo/+Ph3Pm3Ofqmcl6CosnHu/3PrSGgIezs6tPq/2qzSoy10rm5t6b2ic2qR0xpkP3YiPz1qylahPiaYDma0OTTOfTpTXDK/pfZ/niYtWTA9+zp46rT6vzdnK2/0N7c17DUrmWu12l3b/Lt3PvmuU/FQuTk4ZLh/4TZ/1ikz1u4Mub0//vKZ/Dw7vfvc+/Rh+TEdJTucvDu6maGpPvirfj498Llwv/7t6u0u6DSnniDhZvJlN6Ua4XF7N+4YIfL8vnuw/rxzu3DYZ6dnP3BmP62hH3W/8LZ//rz2XSQq3N7qenZcbjgp+ft8qqtqe7YlOzjp7a1rpK67HbA7YWYqsR5T+jLgnOOodvXrKettoedy/b6/9HSouTApQAAANHNwefn6EOh1raeEejo5eTq74y0e/vReO7z7RxRgP///////yH5BAEAAH8ALAAAAACgAGEAAAf/gH2Cg4SDf4WIgn+Lf2IzGScZM2KMlY6QkpSVm5ydnp+goaKjpJ59NKg0FhY7eB1CQn2HqaqsrrCyiwp9SE00M0h9Cpu7vb/Bw6XKy8yhBHJRDg5RcgSfBGEIPz8IYdaMp6irra9CC7LhteSw57oZTeOuj8l/Cu/xHfPN+805RP8Ac4CS4wBDlg0bsmBwIKdTmB8FREgUUeBHGHDibJVb0C4cPiEcOMoS0weeRlgz+lAiaXKdkJSa+MkUtYaJzZtkuniSowZhFmkODqppWOnhxKMiLC469dHcAiXoVO1YxyEk1D/AmnL0MgMrknE1dDjpsLXrzLOfat60aWKNW7dJ/xb5CarQgZ+7QTc4+PaHwA+JRozoQBBY4g9rfbQ+vZrYAodbVTkouXrPJUcl9v5UDquDA5SnmWXOcEG6tAuznUabJo26UhETsGPLhl1kkRyDWjDc1XLXIAaif8JEDGzkLnGKFxNbXkwAHauqIKtObv7nBI3lkxecqH69jo7v0pVon+nCDwHxR2BYcPGp/PkF6dd3ej27fu0/UbLk1u2HPwYtWkTBCGGBIaDDXQYG5gQCh2CnBAHU9dFKZOFBKIsktzg1XWYYduBEZFA8GBo/Lrw3h3o0sOdJieihqOImRSQg44w0ynhfUBjk2FuOOf7EyF8FFHDXkH4EmdQhGV72IP8BfqADWYVMygLMRswRwJVXr3QAhWd8QHilTC6gN4cFNATwIidhwoeimZ1MUeObCUyxSFAo1HmXBNLU6eMiPxgRJJF3BWnED4dQOR2TTRbKjmRL3jVSHzNouOQuK0EqKYSUfhLBH5t2yukmLiwwx6ijPsCep5WESmqpp366iJtw0ijnH2poUScKd+HqhwQoaKEGIx8EicCwCA4b5AeHsFPlkOgoeyiz7sxQpT302CPtodSe5UJ8cwTwAB1nghpfmd+Gu8gIE6Sr7rrpjrDIAFFgIIEEeN2JQRQDMAIFAgUMi0Cx/CIARbJKQkhkswUj6igju3ihwAIKeCEMMX04DLH/xPR4sqkoLqA4x7camMtIx2R6S0fInaDL7sru/lGHAwOgMO+QvA7gQB2M4AHRsIMZaOwPeBySSCFCD20II5dEMkknSWeC1h8ulAwyyitKfTLVm6i88rotKzGAGvDOO2+8alCgBCNKQLGzgT1XFOLTcIuycSiqrdbaJnWbdvcia4zg99+A+70GIwtQMA0GAyAeDQULbLKAHtwEKewPUAixlNGGYH70H340PQlfSD+idExxl87MAhEwoAZQDDzQOCeo6/HBNh/o4To4VlSRQxIylFDCHnsEEQQ6ue/e++/BD89wH09QQAYFT0xcyS7NPx99xp3MTYr2o3CPlhJilBmA/wVinO2JEh3Q8EAANHRg/lK68+478MI3gE78x9MfhP3umJH/Hgy4QbUy4L/5AVCApkugAkfRh901pQH8a2ASPsIBCD7KfzJIAg6SEDwGqKQRfcCgBjkYBA+SbhPeC0UKQbFCmRAgBjZIQQpsEAPQbeKFMZxhDSvRB96dxBwWPATvpvKkIM7gCTKQAQ6WuMT93aArR0ziDsIyFifubYHM8AdA/iGQT8QgBWiogBhbgIYUxKATXwzjGMt4xqX0bjkNgAA6eveYV0QmjheiQAk0yEQcyKABDMiAZvSYBM545o+B1NQyWqixUKhlLTnxRAzsIEYeAOCSYrRDGxkxyUry4P+TmWxjH3yXpKdAQI6H8B10IqOEU8riBEQoQR+ZeMrtwFKW3+kMB3BQSyzO5JE3actb1hCXvqSgAjzoAQCGBAAeVCAFfCHAMZMJgB5Ys5nPRMzvDNXKC6DjdxRiFAS8Ocg98JGJZIBAIjNAAXN+qCpQSGciG6kMRmYvFPSpj2zuEwM08GALW7hLQP2wBR6gYZP9/GdAAbrMgh70EMBz1oMuQM4+RJSVEyXnEYE3ywZc4IlYeQLwtMQlj4LUl/zIpz5pswgbtGALLGDBXWTqBxZsoQU2YIRLYSpTFiyzpjfNqUWDcCkCUBQdwTMHoyB0VBAyQHhKJINHTehUqOJAqhf/oCo96bYa1nwib6W5mxXIsMWy/oMMCbhPCloQU5q2NaYtSAEj1trWmg4JrnLtQ/0geEqKNlWv++PrOP2aCwXcgAGCzSoCdXHYxAYQe81wT4vksyLzTDZcZDDBWjZrEyLEaRFrfYFo7/KCS4o2rnNtgWhf4AfWkvYFqNUrBOM4WMIeIrC09WtTddGHw6rzBtJbnm8DGNytgoJFonJRe94zrnBVIbMrhU0CiDArH1DhBQYwwF206wcDvIAKPmCEdbGr3exu97vh1Zwi1JuLRXjuhO4FxgmQsDS0pOkIYyqTyBZx3zWFiwAxitWMpjArEBgADZe8y08BgAYDgIARBkbw/zINkGAGOxilpfOUhkElqlWZ6lPcU5WHW7UxsgrYRi2rQwqoQOGf+gEABqBCCnC2CBWz+JI4hrGMccbeomHOEvKlrxj8wIn3Pm1b6ulWudozLpOZCwdT2Nq6wNA1ENhBCi2+pAGkYAcQvE8JVsZyjrfc5bP1AQtoTnOaBSAAdKg5zWOIc5sZdgI2uCECTfDCCbCngDrf2Q16hiwKR0EyGnzsZPuF2ppAJrIpBO7RI7jPHxYAghQcGA2YNkAKQPA6wlX60pne9OvO/GY0s3nOpFbzGJbA6jEUNgNuCIEZZq2BJiBhgLGetRlqfWttWU0DWEPTr4PNjwWYSoYydMHtYP93bGQru9OpVvOpUY2FOI+h2qzmwBJc3YgTxHoMpx5DCJpwgpV4OwQ1YPUSajDucitSFGD1qififZqnoU987XsfJ+4dAPa5j4elnjaqV93qbGub2zNgQwjAPW1xpwGKCk83Fdcdgodj+OKmizYWBD7wJWjb4AeXBRLcYAaOC8AMtv7DyM2wbvBAYQkoR8K7S2FPTtjzDCB4Q853/gXLeQIb2uCGN64BQxnSEHTRNjk6Vl0Vjzd926/UQMk5PoYIkKA6Ul9CLpte9atjfBlnuAsB4ACHBXjgCyDw+SYeEpGJVOQinEijGCtARjOCY81KPwTTKdTqOfdi6gIfQ8r/voT/d3pm2yk3bvcWGYqwEwkOZwfAG9S+CKMkZRs/+EBS4M5JSiLzk86sgCaXYmqTd9zpH2e4lLwQApNXHIqsT/eWXs5ui39dGWdQGNnP/oUvaKASfgEMoAwTzWkq05rKdCY0D7Fx01Ob4Kk/tSzyQIImAJ7NgidBHv5Afeunm9U1yP72FS83xoMCBHchOxDWzwUufCEERRlOcfxAHCMgh5P+BOiL9e/QM/bB+WyGDtinbgwXgH2hAGzQBAsXZyjnMNZAAAiogNbWgApgQ7cXCiAwdnCwfkDgAR74fpVAIIFxF5inIAzSUi8VUwrWU0F1CACIauEmZ9OWC36gACSQBk1Q/2tpQAIVyAg1eIM52AQ72IMztz3m9wlvoH4c6IFnB38/QhF/QiRGQiigxVYqOFM1xQKxpV4+ZjQ++F421DmikwkWeIGhkIQc2IFMCII/4idRKDmCQoV/EFqjRVqtBVtyZYb8UHNY0VX1Nm9+eEVvkIZM6AHu54SLECz98i9+4C/8UgDIsgjjZV7dVV7o1YVDg4mJ8IVj+DlF1onwtQ+SpSaU1QmjGB8i4wJL6IFcYIhsuAj7sogkuA0BMzCLEGEJ1mIv1mAP1gfFIz/IIzzEgz++AxDKowsn0DxEAD17RgzJSAHL+ATNyEKEZiLKtSLMdY2b4AXrV4iG6H5mUAk6I/+LRMIvP0BjLrNiWYZjMTZjh0CMwbg/92M8xahuRfBq/kNWRBAEFLBY9UBAMqCP/OiPJCImJZNo/XWQnfAFasiK30gCiPgHabM2PmOOb7MIYHZl60hmXnYIu/NmbBZEDVQGcYZtHrcEVzASJ2AGZEAGbRAAbbAGV8AA7iYGK+mS6tYGM+lujbRhIdZhpPJhqDIyQMkqIMYIvZeUSvkFJPB7lfA4kSM52lA5jvNpmBZqnLYUvCNtIRlBZUCABoeSUoJEZOAtwEYHRXAFIBVFbdByTrAEcaCWV6QMSGYBSgYuTLZoeMkJO6ABIfCXgClrGrADsBMBskM7ttNpT9lsybb/bIfQO3gXkqjUB1/5cagnloPkkg8gdSGgAXIwBevkPC3XGS8HmoIEJh7DaO2hl8TGD/e2PjRQB/q2Cfzmb/o2SiVQeqfmSodABk53mZgJS0QQAFIXZyFAB1MAAbb0D1oHHtqWnNsBJsOGkNOph6EwSnvQfNM2Tujgm+HEaldATuxEBG3gl8b5maFJBIUHIktgmjNBb3PZh111RRFgbfbpDEWnQ2W4CDhkdDsEDsBjcn+lnsA5Bk21UWtwMn+pAcm5liLVlrMHlxBwUtYJCmMAKH4QZ14ERnNXd5tUCXK3Rna3FMEjoBW1BwQafU1lkwxQBEUgB55JYDRpbi0aB+oW/wegyZMV+gkXCigXOgZo5HmgF3qjB6JCCnqhtBR7lVu2BVhFoG7haVv1cFhXQGAy6o+GxQBVSmC/JWg7Wgk9SiQ9CqTAZ3zXZE3KV3zIhHzV1ANpeluz1Ve6hQ6BdQV2qlvkhIzDdQN7RmR0tqd9+qUWiqH2SaaLkFAApX8AAFAGhVD5x1AExagP1WM9FjqYMAl+CmRIMF+YKqiDiqFDYqh/sFM+lWAvZlM4pVMp6FMzFVMt6KmwGgoXiigKQwBfAzZVeIVEglepVVetyqvAFqzCKqx/MKzGCmyVYAEBcDJ0MD6doKzM6qyx2gmzCiHW6jU9sQG/Moeq5VpEclp5yP+tqzUkq4WHxUoLTfF7GoCuP+SUHeAt10EAO6A+AdABjPCuDxCv87o+9jqtYOoHkxGw2JoQXyOJ15VdlJhdl2iw5MVdCHuJ65oRlqGuqRAPrnAEC+CU/bYDgLID/cYIG9uxH+uvjHCh2cERX0OwuPoHuIhjL3ZJvAhhB5Zl3QWzFxaxikGx6oAHMNABGmAOv2cBD8CxGLoDD2ABfyC0RNuxR/uegfhVT8sJF8oRQtABKZsFXxMFQFBj6phjWrZjjGBj6/i17riuiqEEOmsLPQtsT/F77AOqd1Emf/C2fiAEHvsAMBC3AUAelkWKCNm3qEitBFC1OzAFdzAFWKsGatD/aRkpZuzIZR2JkWG2kZB7NhpwtmhbrGQymGvLtplLB0tbtHTwB6B7FzvQAUJLB6Y7umBijWSCkNn4utRqWUpwByZwByOgBlEgAFVpaVfZYKLWu6AGvFmpuQ5CAOq6CsDms2y7AMhbrAqDoc+rAYgyPsuqAWLnlAUJH/nFJisyWfrVCRpgn3fABGRwB2ogANpLOIyZAs/WCcbmAsjmvo45mKV0KOo6FcPKERDye6ULtzswuv/7ACCjun4QwORRlB9DYhy2Kgt8lBhZB6tgAQxwB3fAAAGQB7OJkenTb/n2CbX5wYygAffbKOqKB64QrPzLJG5LA3DrB3JLtzDArHkL/8N7Cybc4mR5aTWJ1gwEUAVVsJ+loAHcZDB+oK6vcARCoAErfBdBO7SgarRIq7RR3LSoSSaH1pojw5qJtgH5wggDAByeUAUqoAJVgJ85dHSV8LNFNSTqqixN7MSLELJE4rE3PLcBELoHPLLSSS5XQ51+DGwicwRREAUS8MVRsAGHfA1gkC5gIMQhSndsNMJt7MbFWsly/Af4qq/02q+aDK87IK+dfBbwCbXz2QkDIAEHIQHRgAFJoMhfvG8qABsqsMGHeqSgJHptdKzGWqy8TKyMAK0a0KxIywnCTMwkizZyIAEAogWKjAEJgRCL3Be5A8RlMMsmoAJlAMRVYAXfIP9Na3p8aJpNyUyyeqEQdaIFWbDOAJIEXeAAjWMFZTzPQ1DPQzDPZWwFh/qoAbWokvqh5eypARAUtoICPPIf6iwvjYMDKpAATJAA9rwC9ezQE6ACOICCPEVTAOCqqRrQsaoEWFAQGFAnPKLO+HLREhkHIwAG9bwCLi3RQwAGUxAH5kNXvpqFWhiuHg2rIT3SJP0fP1HMGKkBDKACL+3S98wAGvA+dFiHd2iuOw2rC8AAEuDTP20rDoDSjPAAI+DSZezSI/AAmzCJCauw4BXVnkrIdSI2t5IjCeEA+kbGR+3VZ1wJEaaLMGazD4bWX2oBqiwz82LQt6IFSeAAXdQXZCD/0Svw1UOwAmQAOmLrtTrmjny9ox2gBmtd1els0FpwyJ3WBSrQ2CPAAAzQ1fesE2gzuWNWuZXNDKUMiKfcFwGgBpqNAnmiH9PMCKCtAgwQAh3QAWZQ1CqA2p7mu1epacXb2nQJuOrxt7H7InBAA7RtKyEg3TITBVrNn8Qp1EkbAgFggfE7v++r3MuAXCciu9gIvmdCAHVwANA8x0Nhy33BCUIcwv9G3uVtkOH7vaS43zNBAKggxPgNNyIWlAipwB92FjRwAAdAAwPuS3V5lwjZZEvmCVKQAlIgCgQwBrM2BgL+4OSRmoi2mr+WaCkABBgeCkpwAP12APIN4r4WyFrM/1/VuQgXPr+el+LAN6/sEwEHEAE+HgFlEq8w/jSvnRpRO4ceMHeeJHoZzgg7wOBYwOBm8JdmIOUMTphF7q/HlKhe3gPP9ORJ+wTeHQGyxoCdGQAh8ATcveWemgI88FZv1QMeEK5KEAIHoL7XBmcaIAAHEAIv7uZ62NTlygI8AEaVgLZPcADXJuVjcABPsNSCPq3H1ANUYOksAK42oJiL8ABP8OgMzuhPINaTPq2VNr8r1gMzxOmLsOACIG0NXurTugD0uj7HtOqdQACtZwZjsOgcLgAh8OGyXqGVtume0AFYUHKL/gRPcHJY4MnDPut1wOphC+kHYAYdcAR4vujoGBntla0Eau7gjEAD3h3o3h7QFijs577uixAIADs=)}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk[_ngcontent-%COMP%]{width:13px;height:13px;margin:0 3px 0 0;cursor:auto}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.checkbox_false_full[_ngcontent-%COMP%]{background-position:0 0}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.checkbox_false_full_focus[_ngcontent-%COMP%]{background-position:0 -14px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.checkbox_false_part[_ngcontent-%COMP%]{background-position:0 -28px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.checkbox_false_part_focus[_ngcontent-%COMP%]{background-position:0 -42px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.checkbox_false_disable[_ngcontent-%COMP%]{background-position:0 -56px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.checkbox_true_full[_ngcontent-%COMP%]{background-position:-14px 0}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.checkbox_true_full_focus[_ngcontent-%COMP%]{background-position:-14px -14px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.checkbox_true_part[_ngcontent-%COMP%]{background-position:-14px -28px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.checkbox_true_part_focus[_ngcontent-%COMP%]{background-position:-14px -42px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.checkbox_true_disable[_ngcontent-%COMP%]{background-position:-14px -56px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.radio_false_full[_ngcontent-%COMP%]{background-position:-28px 0}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.radio_false_full_focus[_ngcontent-%COMP%]{background-position:-28px -14px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.radio_false_part[_ngcontent-%COMP%]{background-position:-28px -28px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.radio_false_part_focus[_ngcontent-%COMP%]{background-position:-28px -42px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.radio_false_disable[_ngcontent-%COMP%]{background-position:-28px -56px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.radio_true_full[_ngcontent-%COMP%]{background-position:-42px 0}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.radio_true_full_focus[_ngcontent-%COMP%]{background-position:-42px -14px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.radio_true_part[_ngcontent-%COMP%]{background-position:-42px -28px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.radio_true_part_focus[_ngcontent-%COMP%]{background-position:-42px -42px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.chk.radio_true_disable[_ngcontent-%COMP%]{background-position:-42px -56px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.switch[_ngcontent-%COMP%]{width:18px;height:18px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.root_open[_ngcontent-%COMP%]{background-position:-92px -54px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.root_close[_ngcontent-%COMP%]{background-position:-74px -54px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.roots_open[_ngcontent-%COMP%]{background-position:-92px 0}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.roots_close[_ngcontent-%COMP%]{background-position:-74px 0}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.center_open[_ngcontent-%COMP%]{background-position:-92px -18px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.center_close[_ngcontent-%COMP%]{background-position:-74px -18px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.bottom_open[_ngcontent-%COMP%]{background-position:-92px -36px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.bottom_close[_ngcontent-%COMP%]{background-position:-74px -36px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.noline_open[_ngcontent-%COMP%]{background-position:-92px -72px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.noline_close[_ngcontent-%COMP%]{background-position:-74px -72px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.root_docu[_ngcontent-%COMP%]{background:none}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.roots_docu[_ngcontent-%COMP%]{background-position:-56px 0}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.center_docu[_ngcontent-%COMP%]{background-position:-56px -18px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.bottom_docu[_ngcontent-%COMP%]{background-position:-56px -36px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.noline_docu[_ngcontent-%COMP%]{background:none}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.ico_open[_ngcontent-%COMP%]{margin-right:2px;background-position:-110px -16px;vertical-align:top;*vertical-align:middle}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.ico_close[_ngcontent-%COMP%]{margin-right:2px;background-position:-110px 0;vertical-align:top;*vertical-align:middle}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.ico_docu[_ngcontent-%COMP%]{background-position:-110px -32px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.edit[_ngcontent-%COMP%], .ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.ico_docu[_ngcontent-%COMP%]{margin-right:2px;vertical-align:top;*vertical-align:middle}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.edit[_ngcontent-%COMP%]{background-position:-110px -48px}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.remove[_ngcontent-%COMP%]{margin-right:2px;background-position:-110px -64px;vertical-align:top;*vertical-align:middle}.ztree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.button.ico_loading[_ngcontent-%COMP%]{margin-right:2px;background:url(data:image/gif;base64,R0lGODlhEAAQAKIGAMLY8YSx5HOm4Mjc88/g9Ofw+v///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgAGACwAAAAAEAAQAAADMGi6RbUwGjKIXCAA016PgRBElAVlG/RdLOO0X9nK61W39qvqiwz5Ls/rRqrggsdkAgAh+QQFCgAGACwCAAAABwAFAAADD2hqELAmiFBIYY4MAutdCQAh+QQFCgAGACwGAAAABwAFAAADD1hU1kaDOKMYCGAGEeYFCQAh+QQFCgAGACwKAAIABQAHAAADEFhUZjSkKdZqBQG0IELDQAIAIfkEBQoABgAsCgAGAAUABwAAAxBoVlRKgyjmlAIBqCDCzUoCACH5BAUKAAYALAYACgAHAAUAAAMPaGpFtYYMAgJgLogA610JACH5BAUKAAYALAIACgAHAAUAAAMPCAHWFiI4o1ghZZJB5i0JACH5BAUKAAYALAAABgAFAAcAAAMQCAFmIaEp1motpDQySMNFAgA7) no-repeat scroll 0 0 transparent;vertical-align:top;*vertical-align:middle}ul.tmpTargetzTree[_ngcontent-%COMP%]{background-color:#ffe6b0;opacity:.8;filter:alpha(opacity=80)}span.tmpzTreeMove_arrow[_ngcontent-%COMP%]{width:16px;height:16px;display:inline-block;padding:0;margin:2px 0 0 1px;border:0 none;position:absolute;background-color:transparent;background-repeat:no-repeat;background-attachment:scroll;background-position:-110px -80px;background-image:url(zTreeStandard.524f504c45ed6ca333a4.png);*background-image:url(data:image/gif;base64,R0lGODlhoABhAOZ/AEyr5tnX0aWko+Srivz8+4XZZGG365CPj3PPUPfrlbvL2PT08refX/rCVMpoMtTSyvW6R8zMzOqITPLgfb+vjKjo/+Ph3Pm3Ofqmcl6CosnHu/3PrSGgIezs6tPq/2qzSoy10rm5t6b2ic2qR0xpkP3YiPz1qylahPiaYDma0OTTOfTpTXDK/pfZ/niYtWTA9+zp46rT6vzdnK2/0N7c17DUrmWu12l3b/Lt3PvmuU/FQuTk4ZLh/4TZ/1ikz1u4Mub0//vKZ/Dw7vfvc+/Rh+TEdJTucvDu6maGpPvirfj498Llwv/7t6u0u6DSnniDhZvJlN6Ua4XF7N+4YIfL8vnuw/rxzu3DYZ6dnP3BmP62hH3W/8LZ//rz2XSQq3N7qenZcbjgp+ft8qqtqe7YlOzjp7a1rpK67HbA7YWYqsR5T+jLgnOOodvXrKettoedy/b6/9HSouTApQAAANHNwefn6EOh1raeEejo5eTq74y0e/vReO7z7RxRgP///////yH5BAEAAH8ALAAAAACgAGEAAAf/gH2Cg4SDf4WIgn+Lf2IzGScZM2KMlY6QkpSVm5ydnp+goaKjpJ59NKg0FhY7eB1CQn2HqaqsrrCyiwp9SE00M0h9Cpu7vb/Bw6XKy8yhBHJRDg5RcgSfBGEIPz8IYdaMp6irra9CC7LhteSw57oZTeOuj8l/Cu/xHfPN+805RP8Ac4CS4wBDlg0bsmBwIKdTmB8FREgUUeBHGHDibJVb0C4cPiEcOMoS0weeRlgz+lAiaXKdkJSa+MkUtYaJzZtkuniSowZhFmkODqppWOnhxKMiLC469dHcAiXoVO1YxyEk1D/AmnL0MgMrknE1dDjpsLXrzLOfat60aWKNW7dJ/xb5CarQgZ+7QTc4+PaHwA+JRozoQBBY4g9rfbQ+vZrYAodbVTkouXrPJUcl9v5UDquDA5SnmWXOcEG6tAuznUabJo26UhETsGPLhl1kkRyDWjDc1XLXIAaif8JEDGzkLnGKFxNbXkwAHauqIKtObv7nBI3lkxecqH69jo7v0pVon+nCDwHxR2BYcPGp/PkF6dd3ej27fu0/UbLk1u2HPwYtWkTBCGGBIaDDXQYG5gQCh2CnBAHU9dFKZOFBKIsktzg1XWYYduBEZFA8GBo/Lrw3h3o0sOdJieihqOImRSQg44w0ynhfUBjk2FuOOf7EyF8FFHDXkH4EmdQhGV72IP8BfqADWYVMygLMRswRwJVXr3QAhWd8QHilTC6gN4cFNATwIidhwoeimZ1MUeObCUyxSFAo1HmXBNLU6eMiPxgRJJF3BWnED4dQOR2TTRbKjmRL3jVSHzNouOQuK0EqKYSUfhLBH5t2yukmLiwwx6ijPsCep5WESmqpp366iJtw0ijnH2poUScKd+HqhwQoaKEGIx8EicCwCA4b5AeHsFPlkOgoeyiz7sxQpT302CPtodSe5UJ8cwTwAB1nghpfmd+Gu8gIE6Sr7rrpjrDIAFFgIIEEeN2JQRQDMAIFAgUMi0Cx/CIARbJKQkhkswUj6igju3ihwAIKeCEMMX04DLH/xPR4sqkoLqA4x7camMtIx2R6S0fInaDL7sru/lGHAwOgMO+QvA7gQB2M4AHRsIMZaOwPeBySSCFCD20II5dEMkknSWeC1h8ulAwyyitKfTLVm6i88rotKzGAGvDOO2+8alCgBCNKQLGzgT1XFOLTcIuycSiqrdbaJnWbdvcia4zg99+A+70GIwtQMA0GAyAeDQULbLKAHtwEKewPUAixlNGGYH70H340PQlfSD+idExxl87MAhEwoAZQDDzQOCeo6/HBNh/o4To4VlSRQxIylFDCHnsEEQQ6ue/e++/BD89wH09QQAYFT0xcyS7NPx99xp3MTYr2o3CPlhJilBmA/wVinO2JEh3Q8EAANHRg/lK68+478MI3gE78x9MfhP3umJH/Hgy4QbUy4L/5AVCApkugAkfRh901pQH8a2ASPsIBCD7KfzJIAg6SEDwGqKQRfcCgBjkYBA+SbhPeC0UKQbFCmRAgBjZIQQpsEAPQbeKFMZxhDSvRB96dxBwWPATvpvKkIM7gCTKQAQ6WuMT93aArR0ziDsIyFifubYHM8AdA/iGQT8QgBWiogBhbgIYUxKATXwzjGMt4xqX0bjkNgAA6eveYV0QmjheiQAk0yEQcyKABDMiAZvSYBM545o+B1NQyWqixUKhlLTnxRAzsIEYeAOCSYrRDGxkxyUry4P+TmWxjH3yXpKdAQI6H8B10IqOEU8riBEQoQR+ZeMrtwFKW3+kMB3BQSyzO5JE3actb1hCXvqSgAjzoAQCGBAAeVCAFfCHAMZMJgB5Ys5nPRMzvDNXKC6DjdxRiFAS8Ocg98JGJZIBAIjNAAXN+qCpQSGciG6kMRmYvFPSpj2zuEwM08GALW7hLQP2wBR6gYZP9/GdAAbrMgh70EMBz1oMuQM4+RJSVEyXnEYE3ywZc4IlYeQLwtMQlj4LUl/zIpz5pswgbtGALLGDBXWTqBxZsoQU2YIRLYSpTFiyzpjfNqUWDcCkCUBQdwTMHoyB0VBAyQHhKJINHTehUqOJAqhf/oCo96bYa1nwib6W5mxXIsMWy/oMMCbhPCloQU5q2NaYtSAEj1trWmg4JrnLtQ/0geEqKNlWv++PrOP2aCwXcgAGCzSoCdXHYxAYQe81wT4vksyLzTDZcZDDBWjZrEyLEaRFrfYFo7/KCS4o2rnNtgWhf4AfWkvYFqNUrBOM4WMIeIrC09WtTddGHw6rzBtJbnm8DGNytgoJFonJRe94zrnBVIbMrhU0CiDArH1DhBQYwwF206wcDvIAKPmCEdbGr3exu97vh1Zwi1JuLRXjuhO4FxgmQsDS0pOkIYyqTyBZx3zWFiwAxitWMpjArEBgADZe8y08BgAYDgIARBkbw/zINkGAGOxilpfOUhkElqlWZ6lPcU5WHW7UxsgrYRi2rQwqoQOGf+gEABqBCCnC2CBWz+JI4hrGMccbeomHOEvKlrxj8wIn3Pm1b6ulWudozLpOZCwdT2Nq6wNA1ENhBCi2+pAGkYAcQvE8JVsZyjrfc5bP1AQtoTnOaBSAAdKg5zWOIc5sZdgI2uCECTfDCCbCngDrf2Q16hiwKR0EyGnzsZPuF2ppAJrIpBO7RI7jPHxYAghQcGA2YNkAKQPA6wlX60pne9OvO/GY0s3nOpFbzGJbA6jEUNgNuCIEZZq2BJiBhgLGetRlqfWttWU0DWEPTr4PNjwWYSoYydMHtYP93bGQru9OpVvOpUY2FOI+h2qzmwBJc3YgTxHoMpx5DCJpwgpV4OwQ1YPUSajDucitSFGD1qififZqnoU987XsfJ+4dAPa5j4elnjaqV93qbGub2zNgQwjAPW1xpwGKCk83Fdcdgodj+OKmizYWBD7wJWjb4AeXBRLcYAaOC8AMtv7DyM2wbvBAYQkoR8K7S2FPTtjzDCB4Q853/gXLeQIb2uCGN64BQxnSEHTRNjk6Vl0Vjzd926/UQMk5PoYIkKA6Ul9CLpte9atjfBlnuAsB4ACHBXjgCyDw+SYeEpGJVOQinEijGCtARjOCY81KPwTTKdTqOfdi6gIfQ8r/voT/d3pm2yk3bvcWGYqwEwkOZwfAG9S+CKMkZRs/+EBS4M5JSiLzk86sgCaXYmqTd9zpH2e4lLwQApNXHIqsT/eWXs5ui39dGWdQGNnP/oUvaKASfgEMoAwTzWkq05rKdCY0D7Fx01Ob4Kk/tSzyQIImAJ7NgidBHv5Afeunm9U1yP72FS83xoMCBHchOxDWzwUufCEERRlOcfxAHCMgh5P+BOiL9e/QM/bB+WyGDtinbgwXgH2hAGzQBAsXZyjnMNZAAAiogNbWgApgQ7cXCiAwdnCwfkDgAR74fpVAIIFxF5inIAzSUi8VUwrWU0F1CACIauEmZ9OWC36gACSQBk1Q/2tpQAIVyAg1eIM52AQ72IMztz3m9wlvoH4c6IFnB38/QhF/QiRGQiigxVYqOFM1xQKxpV4+ZjQ++F421DmikwkWeIGhkIQc2IFMCII/4idRKDmCQoV/EFqjRVqtBVtyZYb8UHNY0VX1Nm9+eEVvkIZM6AHu54SLECz98i9+4C/8UgDIsgjjZV7dVV7o1YVDg4mJ8IVj+DlF1onwtQ+SpSaU1QmjGB8i4wJL6IFcYIhsuAj7sogkuA0BMzCLEGEJ1mIv1mAP1gfFIz/IIzzEgz++AxDKowsn0DxEAD17RgzJSAHL+ATNyEKEZiLKtSLMdY2b4AXrV4iG6H5mUAk6I/+LRMIvP0BjLrNiWYZjMTZjh0CMwbg/92M8xahuRfBq/kNWRBAEFLBY9UBAMqCP/OiPJCImJZNo/XWQnfAFasiK30gCiPgHabM2PmOOb7MIYHZl60hmXnYIu/NmbBZEDVQGcYZtHrcEVzASJ2AGZEAGbRAAbbAGV8AA7iYGK+mS6tYGM+lujbRhIdZhpPJhqDIyQMkqIMYIvZeUSvkFJPB7lfA4kSM52lA5jvNpmBZqnLYUvCNtIRlBZUCABoeSUoJEZOAtwEYHRXAFIBVFbdByTrAEcaCWV6QMSGYBSgYuTLZoeMkJO6ABIfCXgClrGrADsBMBskM7ttNpT9lsybb/bIfQO3gXkqjUB1/5cagnloPkkg8gdSGgAXIwBevkPC3XGS8HmoIEJh7DaO2hl8TGD/e2PjRQB/q2Cfzmb/o2SiVQeqfmSodABk53mZgJS0QQAFIXZyFAB1MAAbb0D1oHHtqWnNsBJsOGkNOph6EwSnvQfNM2Tujgm+HEaldATuxEBG3gl8b5maFJBIUHIktgmjNBb3PZh111RRFgbfbpDEWnQ2W4CDhkdDsEDsBjcn+lnsA5Bk21UWtwMn+pAcm5liLVlrMHlxBwUtYJCmMAKH4QZ14ERnNXd5tUCXK3Rna3FMEjoBW1BwQafU1lkwxQBEUgB55JYDRpbi0aB+oW/wegyZMV+gkXCigXOgZo5HmgF3qjB6JCCnqhtBR7lVu2BVhFoG7haVv1cFhXQGAy6o+GxQBVSmC/JWg7Wgk9SiQ9CqTAZ3zXZE3KV3zIhHzV1ANpeluz1Ve6hQ6BdQV2qlvkhIzDdQN7RmR0tqd9+qUWiqH2SaaLkFAApX8AAFAGhVD5x1AExagP1WM9FjqYMAl+CmRIMF+YKqiDiqFDYqh/sFM+lWAvZlM4pVMp6FMzFVMt6KmwGgoXiigKQwBfAzZVeIVEglepVVetyqvAFqzCKqx/MKzGCmyVYAEBcDJ0MD6doKzM6qyx2gmzCiHW6jU9sQG/Moeq5VpEclp5yP+tqzUkq4WHxUoLTfF7GoCuP+SUHeAt10EAO6A+AdABjPCuDxCv87o+9jqtYOoHkxGw2JoQXyOJ15VdlJhdl2iw5MVdCHuJ65oRlqGuqRAPrnAEC+CU/bYDgLID/cYIG9uxH+uvjHCh2cERX0OwuPoHuIhjL3ZJvAhhB5Zl3QWzFxaxikGx6oAHMNABGmAOv2cBD8CxGLoDD2ABfyC0RNuxR/uegfhVT8sJF8oRQtABKZsFXxMFQFBj6phjWrZjjGBj6/i17riuiqEEOmsLPQtsT/F77AOqd1Emf/C2fiAEHvsAMBC3AUAelkWKCNm3qEitBFC1OzAFdzAFWKsGatD/aRkpZuzIZR2JkWG2kZB7NhpwtmhbrGQymGvLtplLB0tbtHTwB6B7FzvQAUJLB6Y7umBijWSCkNn4utRqWUpwByZwByOgBlEgAFVpaVfZYKLWu6AGvFmpuQ5CAOq6CsDms2y7AMhbrAqDoc+rAYgyPsuqAWLnlAUJH/nFJisyWfrVCRpgn3fABGRwB2ogANpLOIyZAs/WCcbmAsjmvo45mKV0KOo6FcPKERDye6ULtzswuv/7ACCjun4QwORRlB9DYhy2Kgt8lBhZB6tgAQxwB3fAAAGQB7OJkenTb/n2CbX5wYygAffbKOqKB64QrPzLJG5LA3DrB3JLtzDArHkL/8N7Cybc4mR5aTWJ1gwEUAVVsJ+loAHcZDB+oK6vcARCoAErfBdBO7SgarRIq7RR3LSoSSaH1pojw5qJtgH5wggDAByeUAUqoAJVgJ85dHSV8LNFNSTqqixN7MSLELJE4rE3PLcBELoHPLLSSS5XQ51+DGwicwRREAUS8MVRsAGHfA1gkC5gIMQhSndsNMJt7MbFWsly/Af4qq/02q+aDK87IK+dfBbwCbXz2QkDIAEHIQHRgAFJoMhfvG8qABsqsMGHeqSgJHptdKzGWqy8TKyMAK0a0KxIywnCTMwkizZyIAEAogWKjAEJgRCL3Be5A8RlMMsmoAJlAMRVYAXfIP9Na3p8aJpNyUyyeqEQdaIFWbDOAJIEXeAAjWMFZTzPQ1DPQzDPZWwFh/qoAbWokvqh5eypARAUtoICPPIf6iwvjYMDKpAATJAA9rwC9ezQE6ACOICCPEVTAOCqqRrQsaoEWFAQGFAnPKLO+HLREhkHIwAG9bwCLi3RQwAGUxAH5kNXvpqFWhiuHg2rIT3SJP0fP1HMGKkBDKACL+3S98wAGvA+dFiHd2iuOw2rC8AAEuDTP20rDoDSjPAAI+DSZezSI/AAmzCJCauw4BXVnkrIdSI2t5IjCeEA+kbGR+3VZ1wJEaaLMGazD4bWX2oBqiwz82LQt6IFSeAAXdQXZCD/0Svw1UOwAmQAOmLrtTrmjny9ox2gBmtd1els0FpwyJ3WBSrQ2CPAAAzQ1fesE2gzuWNWuZXNDKUMiKfcFwGgBpqNAnmiH9PMCKCtAgwQAh3QAWZQ1CqA2p7mu1epacXb2nQJuOrxt7H7InBAA7RtKyEg3TITBVrNn8Qp1EkbAgFggfE7v++r3MuAXCciu9gIvmdCAHVwANA8x0Nhy33BCUIcwv9G3uVtkOH7vaS43zNBAKggxPgNNyIWlAipwB92FjRwAAdAAwPuS3V5lwjZZEvmCVKQAlIgCgQwBrM2BgL+4OSRmoi2mr+WaCkABBgeCkpwAP12APIN4r4WyFrM/1/VuQgXPr+el+LAN6/sEwEHEAE+HgFlEq8w/jSvnRpRO4ceMHeeJHoZzgg7wOBYwOBm8JdmIOUMTphF7q/HlKhe3gPP9ORJ+wTeHQGyxoCdGQAh8ATcveWemgI88FZv1QMeEK5KEAIHoL7XBmcaIAAHEAIv7uZ62NTlygI8AEaVgLZPcADXJuVjcABPsNSCPq3H1ANUYOksAK42oJiL8ABP8OgMzuhPINaTPq2VNr8r1gMzxOmLsOACIG0NXurTugD0uj7HtOqdQACtZwZjsOgcLgAh8OGyXqGVtume0AFYUHKL/gRPcHJY4MnDPut1wOphC+kHYAYdcAR4vujoGBntla0Eau7gjEAD3h3o3h7QFijs577uixAIADs=)}ul.ztree.zTreeDragUL[_ngcontent-%COMP%]{margin:0;padding:0;width:auto;height:auto;overflow:hidden;border:1px dotted #00b83f;opacity:.8;filter:alpha(opacity=80)}.zTreeMask[_ngcontent-%COMP%], ul.ztree.zTreeDragUL[_ngcontent-%COMP%]{position:absolute;background-color:#cfcfcf}.zTreeMask[_ngcontent-%COMP%]{z-index:10000;opacity:0;filter:alpha(opacity=0)}"]],p=l["\u0275crt"]({encapsulation:0,styles:f,data:{}});function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.expandOrNot()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u5168\u90e8\u5c55\u5f00"]))],null,null)}function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.expandOrNot()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u5168\u90e8\u6536\u7f29"]))],null,null)}function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.reset()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u53d6\u6d88\u6240\u6709"]))],null,null)}function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.selectAll()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u9009\u62e9\u6240\u6709"]))],null,null)}function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](73728,null,0,r.q,[l.ElementRef,l.Renderer,[2,r.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,r.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["",""]))],function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.id,"")),e(n,2,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.id,""))},function(e,n){e(n,3,0,n.context.$implicit.name)})}function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,9,"select",[["class","form-control form-control-sm"],["formControlName","projectId"],["id","projectId"],["name","projectId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,1).onChange(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,1).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.queryModel.projectId=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.t,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.t]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,b)),l["\u0275did"](401408,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){var t=n.component;e(n,3,0,"projectId",t.queryModel.projectId),e(n,8,0,t.brotherProjects)},function(e,n){e(n,0,0,l["\u0275nov"](n,5).ngClassUntouched,l["\u0275nov"](n,5).ngClassTouched,l["\u0275nov"](n,5).ngClassPristine,l["\u0275nov"](n,5).ngClassDirty,l["\u0275nov"](n,5).ngClassValid,l["\u0275nov"](n,5).ngClassInvalid,l["\u0275nov"](n,5).ngClassPending)})}function C(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u5df2\u9009","\u4e2a\u7528\u4f8b"]))],null,function(e,n){e(n,1,0,n.component.checkCount)})}function w(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,44,"div",[["class","ztree-container"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,39,"div",[["class","ztree-toolbar"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,36,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var r=!0;"submit"===n&&(r=!1!==l["\u0275nov"](e,6).onSubmit(t)&&r);"reset"===n&&(r=!1!==l["\u0275nov"](e,6).onReset()&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.y,[],null,null),l["\u0275did"](270336,null,0,r.h,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](1024,null,r.c,null,[r.h]),l["\u0275did"](8192,null,0,r.o,[r.c],null,null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,13,"label",[["class","link no-underline mr-xs-2"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,h)),l["\u0275did"](8192,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,g)),l["\u0275did"](8192,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n        \xa0\xa0\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,m)),l["\u0275did"](8192,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,v)),l["\u0275did"](8192,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,5,"input",[["class","form-control form-control-sm"],["formControlName","keywords"],["id","keywords"],["name","keywords"],["placeholder","\u8fc7\u6ee4"],["type","search"]],[[2,"hidden",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,26)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,26).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,26)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,26)._compositionEnd(t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(o.queryModel.keywords=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.d,[l.Renderer,l.ElementRef,[2,r.a]],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.d]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,y)),l["\u0275did"](8192,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","tips"]],[[2,"hidden",null],[2,"highlight",null]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\u6309Ctrl\u952e\u91ca\u653e\u590d\u5236"])),(e()(),l["\u0275ted"](null,["\n      \xa0\xa0\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,C)),l["\u0275did"](8192,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,0,"ul",[["class","ztree"],["id","tree"]],[[4,"height",null]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,6,0,t.queryForm),e(n,13,0,!(t.isExpanded&&t.sonSign)),e(n,16,0,t.isExpanded&&t.sonSign),e(n,19,0,"selection"==t.settings.usage&&t.checkCount),e(n,22,0,"selection"==t.settings.usage&&!t.checkCount);e(n,28,0,"keywords",t.queryModel.keywords),e(n,33,0,"selection"==t.settings.usage),e(n,39,0,t.checkCount)},function(e,n){var t=n.component;e(n,4,0,l["\u0275nov"](n,8).ngClassUntouched,l["\u0275nov"](n,8).ngClassTouched,l["\u0275nov"](n,8).ngClassPristine,l["\u0275nov"](n,8).ngClassDirty,l["\u0275nov"](n,8).ngClassValid,l["\u0275nov"](n,8).ngClassInvalid,l["\u0275nov"](n,8).ngClassPending),e(n,25,0,t.isDragging,l["\u0275nov"](n,30).ngClassUntouched,l["\u0275nov"](n,30).ngClassTouched,l["\u0275nov"](n,30).ngClassPristine,l["\u0275nov"](n,30).ngClassDirty,l["\u0275nov"](n,30).ngClassValid,l["\u0275nov"](n,30).ngClassInvalid,l["\u0275nov"](n,30).ngClassPending),e(n,35,0,!t.isDragging,t.isToCopy),e(n,43,0,t.treeHeight)})}l["\u0275ccf"]("ztree",i.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,2,"ztree",[],null,null,null,w,p)),l["\u0275prd"](256,null,u.a,u.a,[]),l["\u0275did"](2220032,null,0,i.a,[a.a,s.a,l.Renderer2,r.e,c.a,d.c,u.a],null,null)],function(e,n){e(n,2,0)},null)},{projectId:"projectId",caseProjectId:"caseProjectId",treeSettings:"treeSettings",brotherProjects:"brotherProjects",treeModel:"treeModel"},{renameEvent:"renameEvent",removeEvent:"removeEvent",moveEvent:"moveEvent",projectChanged:"projectChanged"},[])},DVRk:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){return function(){}}()},EsGe:function(e,n,t){"use strict";var l=t("NSJx");n.isNumeric=function(e){return!l.isArray(e)&&e-parseFloat(e)+1>=0}},ExPf:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("/oeL"),r=t("OaG9"),o=t("Q0LZ"),i=function(){function e(e,n){this.config=e,this.toastyService=n,this._position="",this.toasts=[],this.position=""}return Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(n){if(n){for(var t=!0,l=0;l<e.POSITIONS.length;l++)if(e.POSITIONS[l]===n){t=!1;break}t&&(n=this.config.position)}else n=this.config.position;this._position="toasty-position-"+n},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.toastyService.events.subscribe(function(n){if(n.type===o.b.ADD){var t=n.value;e.add(t)}else if(n.type===o.b.CLEAR){var l=n.value;e.clear(l)}else n.type===o.b.CLEAR_ALL&&e.clearAll()})},e.prototype.closeToast=function(e){this.clear(e.id)},e.prototype.add=function(e){this.toasts.length>=this.config.limit&&this.toasts.shift(),this.toasts.push(e),e.timeout&&this._setTimeout(e)},e.prototype.clear=function(e){var n=this;if(!e)throw new Error("Please provide id of Toast to close");this.toasts.forEach(function(t,l){t.id===e&&(t.onRemove&&Object(r.a)(t.onRemove)&&t.onRemove.call(n,t),n.toasts.splice(l,1))})},e.prototype.clearAll=function(){var e=this;this.toasts.forEach(function(n,t){n.onRemove&&Object(r.a)(n.onRemove)&&n.onRemove.call(e,n)}),this.toasts=[]},e.prototype._setTimeout=function(e){var n=this;window.setTimeout(function(){n.clear(e.id)},e.timeout)},e.POSITIONS=["bottom-right","bottom-left","top-right","top-left","top-center","bottom-center","center-center"],e.decorators=[{type:l.Component,args:[{selector:"ng2-toasty",template:'\n    <div id="toasty" [ngClass]="[position]">\n        <ng2-toast *ngFor="let toast of toasts" [toast]="toast" (closeToast)="closeToast(toast)"></ng2-toast>\n    </div>'}]}],e.ctorParameters=function(){return[{type:o.a},{type:o.c}]},e.propDecorators={position:[{type:l.Input}]},e}()},F4M9:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var l=t("BkNc"),r=t("0WLp"),o=t("56Rf"),i=t("ZV8k"),u=t("KBuQ"),a=t("lDqL"),s=t("JNkf"),c=function(){function e(e,n,t,l,r,o,i){this._routeService=e,this._state=n,this._route=t,this.activeModal=l,this.toastyService=r,this.issueWatchService=o,this.privilegeService=i,this.issue={},this.users=[],this.searchModel={},this.selectedModels=[],this.updated=!1}return e.prototype.ngOnInit=function(){this.loadData()},e.prototype.ngAfterViewInit=function(){},e.prototype.loadData=function(){var e=this;this.issueWatchService.list(this.issue.id).subscribe(function(n){e.users=n.data})},e.prototype.batchSave=function(){var e=this,n=[];this.selectedModels.forEach(function(e){n.push(e.id)}),this.issueWatchService.batchSave(this.issue.id,n).subscribe(function(n){1==n.code&&(e.selectedModels=[],e.loadData(),e.updated=!0)})},e.prototype.remove=function(e){var n=this;this.issueWatchService.remove(e.id,this.issue.id).subscribe(function(e){1==e.code&&(n.loadData(),n.updated=!0)})},e.prototype.cancel=function(){this.activeModal.dismiss(this.updated?{success:!0}:{act:"cancel"})},e.prototype.changeSearch=function(e){var n=this,t=[];this.selectedModels.forEach(function(e){t.push(e.id)}),this.issueWatchService.search(this.issue.id,this.searchModel.keywords,t).subscribe(function(e){1==e.code&&(n.searchResult=e.data,console.log("this.searchResult",n.searchResult))})},e.prototype.ngOnDestroy=function(){},e.ctorParameters=function(){return[{type:u.a},{type:i.a},{type:l.a},{type:r.b},{type:o.b},{type:a.a},{type:s.a}]},e}()},F4ia:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=[".execution-process[_ngcontent-%COMP%]{padding:10px}.execution-process[_ngcontent-%COMP%]   .process-chart[_ngcontent-%COMP%]{height:200px}"]},FUYF:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){}return e.ctorParameters=function(){return[]},e}()},FlbK:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){this.DateOptions={language:"zh-CN",format:"yyyy-mm-dd",startDate:"+1d",autoclose:!0},this.TimeOptions={showMeridian:!1,minuteStep:30,icons:{up:"fa fa-chevron-up",down:"fa fa-chevron-down"}}}return e.prototype.genDatePicker=function(e,n){var t=jQuery('input[formcontrolname="'+n+'"]').parent();t.datepicker(this.DateOptions),t.on("changeDate",function(){t.datepicker("getFormattedDate")&&(e[n]=t.datepicker("getFormattedDate"))}),t.on("hide",function(){t.datepicker("getFormattedDate")||t.datepicker("setDate",e[n]),console.log(e)})},e.prototype.genTimePicker=function(e,n){if(!e[n]){e.signBefore=3;var t=n.indexOf("ndTime")<0?"10:00":"17:00";e[n]=t}var l=jQuery('.input-group.timepicker > input[name="'+n+'"]');l.timepicker(this.TimeOptions),l.on("changeTime.timepicker",function(t){e[n]=t.time.value})},e.ctorParameters=function(){return[]},e}()},"FuQ+":function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){return function(){}}()},Fybs:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("fc+i"),r=t("/oeL"),o=function(){function e(e){this.domSanitized=e}return e.prototype.transform=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return this.domSanitized.bypassSecurityTrustHtml(e)},e.decorators=[{type:r.Pipe,args:[{name:"safeHtml"}]}],e.ctorParameters=function(){return[{type:l.c}]},e}()},"G/1C":function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("/oeL"),r=function(){function e(){this.closeToastEvent=new l.EventEmitter}return e.prototype.close=function(e){e.preventDefault(),this.closeToastEvent.next(this.toast)},e.decorators=[{type:l.Component,args:[{selector:"ng2-toast",template:'\n        <div class="toast" [ngClass]="[toast.type, toast.theme]">\n            <div *ngIf="toast.showClose" class="close-button" (click)="close($event)"></div>\n            <div *ngIf="toast.title || toast.msg" class="toast-text">\n                <span *ngIf="toast.title" class="toast-title" [innerHTML]="toast.title | safeHtml"></span>\n                <br *ngIf="toast.title && toast.msg" />\n                <span *ngIf="toast.msg" class="toast-msg" [innerHtml]="toast.msg | safeHtml"></span>\n            </div>\n        </div>'}]}],e.ctorParameters=function(){return[]},e.propDecorators={toast:[{type:l.Input}],closeToastEvent:[{type:l.Output,args:["closeToast"]}]},e}()},G64s:function(e,n,t){"use strict";var l=t("/oeL"),r=t("qbdv"),o=t("hxWQ"),i=function(){function e(){}return e.prototype.transform=function(e){return e.substr(e.lastIndexOf("/")+1,e.length)},e}(),u=t("X68L"),a=t("/KCW"),s=t("KBuQ"),c=t("Q0LZ");t.d(n,"a",function(){return f}),n.b=x;var d=[[".file-upload[_ngcontent-%COMP%]{height:38px;font-size:1rem}.file-upload[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:0}.file-upload[_ngcontent-%COMP%]   .drop-container[_ngcontent-%COMP%]{text-align:center}.file-upload[_ngcontent-%COMP%]   .my-drop-zone[_ngcontent-%COMP%]{padding:2px 4px;border:3px dotted #d3d3d3;height:30px;font-size:14px;line-height:22px}.file-upload[_ngcontent-%COMP%]   .my-drop-zone[_ngcontent-%COMP%]   .upload-file-name[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap;overflow:hidden;width:100%;text-overflow:ellipsis;color:#337ab7}.file-upload[_ngcontent-%COMP%]   .nv-file-over[_ngcontent-%COMP%]{border:3px dotted red}.file-upload[_ngcontent-%COMP%]   .upload-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.file-upload[_ngcontent-%COMP%]   .upload-row[_ngcontent-%COMP%]   .upload-input-wrapper[_ngcontent-%COMP%]{margin-right:16px}.file-upload[_ngcontent-%COMP%]   .upload-row[_ngcontent-%COMP%]   .upload-input-wrapper[_ngcontent-%COMP%]   .upload-input-container[_ngcontent-%COMP%]{display:none}.file-upload[_ngcontent-%COMP%]   .upload-row[_ngcontent-%COMP%]   .upload-input-wrapper[_ngcontent-%COMP%]   .upload-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px}.file-upload[_ngcontent-%COMP%]   .upload-row[_ngcontent-%COMP%]   .upload-input-wrapper[_ngcontent-%COMP%]   .upload-button-container[_ngcontent-%COMP%]   label.link[_ngcontent-%COMP%]{line-height:29px}.file-upload[_ngcontent-%COMP%]   .progress-wrapper[_ngcontent-%COMP%]{margin:2px 0 0 0;height:2px;width:100%;background-color:#f5f5f5;border-radius:4px;box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.file-upload[_ngcontent-%COMP%]   .progress-wrapper[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#337ab7;box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);transition:width .6s ease}"]],f=l["\u0275crt"]({encapsulation:0,styles:d,data:{}});function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,2,"span",[["class","upload-file-name"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),l["\u0275ppd"](1)],null,function(e,n){var t=n.component;e(n,1,0,l["\u0275unv"](n,1,0,e(n,2,0,l["\u0275nov"](n.parent.parent.parent,0),t.file)))})}function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u62d6\u52a8\u6587\u4ef6\u5230\u6b64\u5904\u4e0a\u4f20"]))],null,null)}function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,7,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,p)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,h)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){var t=n.component;e(n,3,0,t.file),e(n,6,0,!t.file)},null)}function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","upload-file-name"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "," \u4e0a\u4f20\u6210\u529f\n      "]))],null,function(e,n){e(n,1,0,n.component.uploadedFile.origName)})}function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n         \u4e0a\u4f20\u4e2d...\n      "]))],null,null)}function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,16,"div",[["class","col-sm-8 drop-container"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,13,"div",[["class","well my-drop-zone"],["ng2FileDrop",""]],null,[[null,"fileOver"],[null,"drop"],[null,"dragover"],[null,"dragleave"]],function(e,n,t){var r=!0,o=e.component;"drop"===n&&(r=!1!==l["\u0275nov"](e,5).onDrop(t)&&r);"dragover"===n&&(r=!1!==l["\u0275nov"](e,5).onDragOver(t)&&r);"dragleave"===n&&(r=!1!==l["\u0275nov"](e,5).onDragLeave(t)&&r);"fileOver"===n&&(r=!1!==o.fileOver(t)&&r);return r},null,null)),l["\u0275did"](139264,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](["nv-file-over"]),l["\u0275did"](8192,null,0,o.FileDropDirective,[l.ElementRef],{uploader:[0,"uploader"]},{fileOver:"fileOver"}),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,g)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,m)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,v)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){var t=n.component;e(n,3,0,"well my-drop-zone",e(n,4,0,t.hasBaseDropZoneOver)),e(n,5,0,t.uploader),e(n,8,0,!t.uploader.isUploading&&!t.uploadedFile),e(n,11,0,!t.uploader.isUploading&&t.uploadedFile),e(n,14,0,t.uploader.isUploading)},null)}function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u9009\u62e9"]))],null,null)}function C(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u4e0a\u4f20..."]))],null,null)}function w(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,5,"div",[["class","progress-wrapper"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,2,"div",[["class","progress-bar"],["role","progressbar"]],null,null,null,null,null)),l["\u0275did"](139264,null,0,r.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](["width"]),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){e(n,3,0,e(n,4,0,n.component.uploader.progress+"%"))},null)}function x(e){return l["\u0275vid"](0,[l["\u0275pid"](0,i,[]),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275eld"](0,null,null,36,"div",[["class","row file-upload"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,b)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,27,"div",[],null,null,null,null,null)),l["\u0275did"](139264,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](["col-sm-4"]),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,22,"div",[["class","upload-row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,19,"div",[["class","upload-input-wrapper"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,4,"span",[["class","upload-input-container"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275eld"](0,null,null,1,"input",[["id","upload-input"],["name","upload"],["ng2FileSelect",""],["type","file"]],[[8,"accept",0]],[[null,"change"]],function(e,n,t){var r=!0;"change"===n&&(r=!1!==l["\u0275nov"](e,18).onChange()&&r);return r},null,null)),l["\u0275did"](8192,null,0,u.FileSelectDirective,[l.ElementRef],{uploader:[0,"uploader"]},null),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,10,"span",[["class","upload-button-container"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275eld"](0,null,null,7,"button",[["class","btn btn-secondary btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.selectFile()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,y)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,C)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,w)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,5,0,t.showDropZone),e(n,8,0,e(n,9,0,t.showDropZone)),e(n,18,0,t.uploader),e(n,26,0,t.showDropZone),e(n,29,0,!t.showDropZone),e(n,37,0,t.uploader.isUploading)},function(e,n){e(n,17,0,n.component.mimeType.toString())})}l["\u0275ccf"]("file-uploader",a.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"file-uploader",[],null,null,null,x,f)),l["\u0275did"](2154496,null,0,a.a,[s.a,c.c],null,null)],function(e,n){e(n,1,0)},null)},{mimeType:"mimeType",maxFileSize:"maxFileSize",showDropZone:"showDropZone",ifile:"ifile"},{uploadedEvent:"uploadedEvent"},[])},GEeb:function(e,n,t){"use strict";t.d(n,"b",function(){return u});var l=t("lr9G"),r=t("0jz5"),o=t("FUYF"),i=t("2jsF");t.d(n,"a",function(){return i.a});var u=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[l.a,r.a,o.a]}},e}()},GqZN:function(e,n,t){"use strict";t.d(n,"a",function(){return l});t("a5lJ");var l=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e}()},H0UY:function(e,n,t){"use strict";var l=t("/oeL"),r=t("qbdv"),o=t("yA0D"),i=t("A9qq"),u=t("176a"),a=t("bm2B"),s=t("c3Se"),c=t("ZV8k"),d=t("dN2u"),f=[[".comment-edit.modal[_ngcontent-%COMP%]{top:calc(40% - 100px)}.comment-edit.modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:5px;line-height:20px}.comment-edit[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border:none}"]],p=l["\u0275crt"]({encapsulation:0,styles:f,data:{}});function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u7f16\u8f91\u5907\u6ce8"])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!==e.context.dismiss("Cross click")&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\xd7"])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,11,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,8,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,[["text",1]],null,5,"textarea",[["id","text"],["name","model"],["rows","5"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,18)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,18).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,18)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,18)._compositionEnd(t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(o.model.content=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,a.d,[l.Renderer,l.ElementRef,[2,a.a]],null,null),l["\u0275prd"](512,null,a.l,function(e){return[e]},[a.d]),l["\u0275did"](335872,null,0,a.p,[[8,null],[8,null],[8,null],[2,a.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,a.m,null,[a.p]),l["\u0275did"](8192,null,0,a.n,[a.m],null,null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-primary confirm-btn"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.onConfirm()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u786e\u8ba4"])),(e()(),l["\u0275ted"](null,["\n    \xa0\xa0\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!==e.context.close("Close click")&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u53d6\u6d88"])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){e(n,20,0,"model",n.component.model.content)},function(e,n){e(n,17,0,l["\u0275nov"](n,22).ngClassUntouched,l["\u0275nov"](n,22).ngClassTouched,l["\u0275nov"](n,22).ngClassPristine,l["\u0275nov"](n,22).ngClassDirty,l["\u0275nov"](n,22).ngClassValid,l["\u0275nov"](n,22).ngClassInvalid,l["\u0275nov"](n,22).ngClassPending)})}function g(e){return l["\u0275vid"](0,[l["\u0275qud"](201326592,1,{content:0}),(e()(),l["\u0275and"](0,[[1,2],["content",2]],null,0,null,h)),(e()(),l["\u0275ted"](null,["\n"]))],null,null)}l["\u0275ccf"]("comment-edit",s.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"comment-edit",[],null,null,null,g,p)),l["\u0275did"](2154496,null,0,s.a,[c.a,d.a,l.Injector],null,null)],function(e,n){e(n,1,0)},null)},{model:"model"},{model:"model",confirm:"confirm"},[]);var m=t("SHsa");t.d(n,"a",function(){return b}),n.b=_;var v=[[".comment-edit.modal[_ngcontent-%COMP%]{top:calc(40% - 100px)}.comment-edit.modal[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:5px;line-height:20px}.comment-edit[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border:none}"]],b=l["\u0275crt"]({encapsulation:0,styles:v,data:{}});function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","link"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.editComments(e.parent.context.$implicit)&&l);return l},null,null)),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-pencil"]],null,null,null,null,null))],null,null)}function C(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","link"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.removeComments(e.parent.context.$implicit.id,e.parent.context.index)&&l);return l},null,null)),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null))],null,null)}function w(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,26,"div",[["class","item"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,11,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"span",[["class","avatar"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"img",[["class",""]],[[8,"src",4]],null,null,null,null)),l["\u0275ppd"](1),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,2,"span",[["class","summary"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "," "," - ","\n        "])),l["\u0275ppd"](1),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","edit"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,y)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,C)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "]))],function(e,n){var t=n.component;e(n,21,0,n.context.$implicit.userId==t.userId),e(n,24,0,n.context.$implicit.userId==t.userId)},function(e,n){e(n,6,0,l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,6,0,e(n,7,0,l["\u0275nov"](n.parent,0),n.context.$implicit.userAvatar)),"")),e(n,11,0,n.context.$implicit.userName,n.context.$implicit.summary,l["\u0275unv"](n,11,2,e(n,12,0,l["\u0275nov"](n.parent,1),n.context.$implicit.updateTime))),e(n,16,0,n.context.$implicit.content)})}function x(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,3,"button",[["class","btn btn-secondary btn-with-icon btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.addComments()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-commenting-o"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u5907\u6ce8\n      "]))],null,null)}function _(e){return l["\u0275vid"](0,[l["\u0275pid"](0,o.a,[]),l["\u0275pid"](0,i.b,[]),l["\u0275qud"](201326592,1,{modalWrapper:0}),(e()(),l["\u0275eld"](0,null,null,13,"div",[["class","row comments"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,10,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,w)),l["\u0275did"](401408,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,x)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n\n"])),(e()(),l["\u0275eld"](0,null,null,1,"comment-edit",[],null,[[null,"confirm"],[null,"modelChange"]],function(e,n,t){var l=!0,r=e.component;"confirm"===n&&(l=!1!==r.saveComments(!1)&&l);"modelChange"===n&&(l=!1!==(r.comment=t)&&l);return l},g,p)),l["\u0275did"](2154496,[[1,4],["modalWrapper",4]],0,s.a,[c.a,d.a,l.Injector],{model:[0,"model"]},{confirm:"confirm"}),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,8,0,t.model.comments),e(n,13,0,!t.viewOnly),e(n,19,0,t.comment)},null)}l["\u0275ccf"]("comment-list",u.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"comment-list",[],null,null,null,_,b)),l["\u0275did"](2220032,null,0,u.a,[c.a,d.a,m.a],null,null)],function(e,n){e(n,1,0)},null)},{model:"model",modelType:"modelType",viewOnly:"viewOnly"},{model:"model"},[])},HDzC:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l,r=t("rlar"),o=(t.n(r),this&&this.__extends||(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}l(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)})),i=function(e){function n(){return e.call(this)||this}return o(n,e),n.prototype.cancel=function(){},n.prototype.searchFields=function(e){return this._searchFields=e,this},n.prototype.titleField=function(e){return this._titleField=e,this},n.prototype.descriptionField=function(e){return this._descriptionField=e,this},n.prototype.imageField=function(e){return this._imageField=e,this},n.prototype.extractMatches=function(e,n){var t=this,l=this._searchFields?this._searchFields.split(","):null;return null!==this._searchFields&&void 0!==this._searchFields&&""!=n?e.filter(function(e){return(l?l.map(function(n){return t.extractValue(e,n)}).filter(function(e){return!!e}):[e]).some(function(e){return e.toString().toLowerCase().indexOf(n.toString().toLowerCase())>=0})}):e},n.prototype.extractTitle=function(e){var n=this;return this._titleField.split(",").map(function(t){return n.extractValue(e,t)}).join(" ")},n.prototype.extractValue=function(e,n){var t,l;if(n){t=n.split("."),l=e;for(var r=0;r<t.length;r++)l&&(l=l[t[r]])}else l=e;return l},n.prototype.processResults=function(e){var n,t,l,r=null,o=[];if(e&&e.length>0)for(n=0;n<e.length;n++)t=this._titleField?this.extractTitle(e[n]):e[n],this._descriptionField&&(l=this.extractValue(e[n],this._descriptionField)),this._imageField&&(r=this.extractValue(e[n],this._imageField)),o.push({title:t,description:l,image:r,originalObject:e[n]});return o},n}(r.Subject)},HpTF:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){}return e.prototype.onCreate=function(e){e.preventDefault(),e.stopPropagation(),this.grid.create(this.grid.getNewRow(),this.createConfirm,this.row)},e.prototype.onEdit=function(e){e.preventDefault(),e.stopPropagation(),this.grid.edit(this.row)},e.prototype.onDelete=function(e){e.preventDefault(),e.stopPropagation(),this.grid.delete(this.row,this.deleteConfirm)},e.prototype.ngOnChanges=function(){},e}()},"Hw/e":function(e,n,t){"use strict";var l=this&&this.__decorate||function(e,n,t,l){var r,o=arguments.length,i=o<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,n,t,l);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(i=(o<3?r(i):o>3?r(n,t,i):r(n,t))||i);return o>3&&i&&Object.defineProperty(n,t,i),i},r=t("qbdv"),o=t("/oeL"),i=t("hxWQ"),u=t("X68L"),a=function(){return function(){}}();a=l([o.NgModule({imports:[r.CommonModule],declarations:[i.FileDropDirective,u.FileSelectDirective],exports:[i.FileDropDirective,u.FileSelectDirective]})],a),n.FileUploadModule=a},I00F:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("/oeL"),r=t("oRYE"),o=t("JNkf"),i=function(){function e(e,n,t){this._privilegeService=e,this.element=n,this.renderer=t,this.eventCode="OrgPrivilegeDirective",this.elem=n.nativeElement}return e.prototype.ngOnInit=function(){this.update()},e.prototype.ngOnChanges=function(e){e.myPrivs&&this.update()},e.prototype.update=function(){this.myPrivs&&0!=this.myPrivs.length||(this.myPrivs=r.a.ORG_PRIVILEGES),this._privilegeService.hasPrivilege(this.privs,this.myPrivs)?this.renderer.setElementStyle(this.elem,"display","inline"):this.renderer.setElementStyle(this.elem,"display","none")},e.prototype.ngOnDestroy=function(){},e.ctorParameters=function(){return[{type:o.a},{type:l.ElementRef,decorators:[{type:l.Inject,args:[l.ElementRef]}]},{type:l.Renderer,decorators:[{type:l.Inject,args:[l.Renderer]}]}]},e}()},IB2h:function(e,n,t){t("6+Fs")},JLi4:function(e,n,t){"use strict";var l=function(){return function(){}}();t.d(n,"a",function(){return i});var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=function(e){function n(){return e.call(this)||this}return o(n,e),n.prototype.getEditorType=function(){return this.cell.getColumn().editor&&this.cell.getColumn().editor.type},n.ctorParameters=function(){return[]},n}(l)},JNkf:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("oRYE"),r=function(){function e(){}return e.prototype.issuePrivilege=function(){return{"issue-view":this.hasPrivilege("issue-view"),"issue-maintain":this.hasPrivilege("issue-maintain"),"issue-delete":this.hasPrivilege("issue-delete")}},e.prototype.hasPrivilege=function(e,n){n||(n=l.a.PRJ_PRIVILEGES);for(var t=e.split("|"),r=0;r<t.length;r++){if(n[t[r]])return!0}return!1},e}()},JmKc:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("/oeL"),r=t("F4M9"),o=t("0WLp"),i=function(){function e(e,n){this.modalService=e,this.compiler=n}return e.prototype.genPage=function(e){this.compiler.clearCacheFor(r.a);var n=this.modalService.open(r.a,{windowClass:"pop-modal"});return n.componentInstance.issue=e,n},e.ctorParameters=function(){return[{type:o.e},{type:l.Compiler}]},e}()},"JqO+":function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("cwtr"),r=t("pBVq"),o=function(){function e(e){this.service=e,this.position="fixed",this.progress="0",this.color="#209e91",this.height="1px",this.show=!0}return e.prototype.ngOnInit=function(){var e=this;this.service.events.subscribe(function(n){n.type===l.a.PROGRESS&&Object(r.a)(n.value)?e.progress=n.value:n.type===l.a.COLOR?e.color=n.value:n.type===l.a.HEIGHT?e.height=n.value:n.type===l.a.VISIBLE&&(e.show=n.value)})},e.ctorParameters=function(){return[{type:l.b}]},e}()},K1ZJ:function(e,n,t){"use strict";var l=t("34xi"),r=t("/oeL"),o=t("0WLp"),i=(t("LOkn"),function(){function e(e,n){this.host=e,this.activeModal=n,this.confirm=new r.EventEmitter}return e.prototype.save=function(){this.removeTinymce(),this.activeModal.close({act:"save",data:this.content})},e.prototype.dismiss=function(){this.removeTinymce(),this.activeModal.dismiss({act:"cancel"})},e.prototype.ngOnChanges=function(){var e=tinymce.get("mceEditor");e&&e.setContent(this.content)},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){this.removeTinymce()},e.prototype.onChange=function(e){this.content=e},e.prototype.removeTinymce=function(){tinymce.get("mceEditor")&&tinymce.get("mceEditor").remove()},e.ctorParameters=function(){return[{type:r.ElementRef},{type:o.b}]},e}());t.d(n,"a",function(){return u}),t.d(n,!1,function(){return l.a}),t.d(n,!1,function(){return i});var u=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e}()},KDXw:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("xrDH"),r=(t.n(l),t("9GFz")),o=function(){function e(e){this._reqService=e,this.apiBase="client/ver/"}return e.prototype.list=function(e){return this._reqService.post(this.apiBase+"list",e)},e.prototype.get=function(e){var n={id:e};return this._reqService.post(this.apiBase+"get",n)},e.prototype.save=function(e){return this._reqService.post(this.apiBase+"save",e)},e.prototype.delete=function(e){var n={id:e};return this._reqService.post(this.apiBase+"delete",n)},e.prototype.changeOrder=function(e,n,t){return l.merge(t,{id:e,act:n}),this._reqService.post(this.apiBase+"changeOrder",t)},e.ctorParameters=function(){return[{type:r.a}]},e}()},KFjD:function(e,n,t){"use strict";var l=t("/oeL"),r=t("bm2B"),o=t("qbdv"),i=t("gsT+"),u=t("VpOg"),a=t("QZuO"),s=t("C8VA"),c=t("vatH"),d=t("KGm0");t.d(n,"a",function(){return C});var f=[[".task-edit-inner[_ngcontent-%COMP%]{font-size:14px}.task-edit-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:15px}.task-edit-inner[_ngcontent-%COMP%]   .checkbox-list-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.task-edit-inner[_ngcontent-%COMP%]   .checkbox-list-item[_ngcontent-%COMP%]   .checkbox-name[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;width:90%;text-align:left}.task-edit-inner[_ngcontent-%COMP%]   .checkbox-list-item[_ngcontent-%COMP%]   .checkbox-name[_ngcontent-%COMP%]   .project[_ngcontent-%COMP%], .task-edit-inner[_ngcontent-%COMP%]   .checkbox-list-item[_ngcontent-%COMP%]   .checkbox-name[_ngcontent-%COMP%]   .suite[_ngcontent-%COMP%]{-ms-flex:1;flex:1}.task-edit-inner[_ngcontent-%COMP%]   .checkbox-list-item[_ngcontent-%COMP%]   .checkbox-name[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{width:60px}"]],p=l["\u0275crt"]({encapsulation:0,styles:f,data:{}});function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u65b0\u5efa\u4efb\u52a1"]))],null,null)}function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u7f16\u8f91\u4efb\u52a1"]))],null,null)}function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,6,"option",[],null,null,null,null,null)),l["\u0275did"](73728,null,0,r.q,[l.ElementRef,l.Renderer,[2,r.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,r.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n            "]))],function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.id,"")),e(n,2,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.id,""))},function(e,n){e(n,5,0,n.context.$implicit.name)})}function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,23,"div",[["class","checkbox-list-item"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275eld"](0,null,null,20,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275eld"](0,null,null,10,"span",[["class","checkbox-name"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","project"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","suite"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","count"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275ted"](null,["\n\n                    "])),(e()(),l["\u0275eld"](0,null,null,5,"input",[["class","form-check-input"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,17).onChange(t.target.checked)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,17).onTouched()&&r);"change"===n&&(r=!1!==o.selectSuite(e.context.$implicit,t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(e.context.$implicit.selecting=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.b,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.b]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275ted"](null,["\n                "]))],function(e,n){e(n,19,0,l["\u0275inlineInterpolate"](1,"","suite-"+n.context.$implicit.id,""),n.context.$implicit.selecting)},function(e,n){e(n,7,0,n.context.$implicit.caseProjectName),e(n,10,0,n.context.$implicit.name),e(n,13,0,n.context.$implicit.count),e(n,16,0,l["\u0275nov"](n,21).ngClassUntouched,l["\u0275nov"](n,21).ngClassTouched,l["\u0275nov"](n,21).ngClassPristine,l["\u0275nov"](n,21).ngClassDirty,l["\u0275nov"](n,21).ngClassValid,l["\u0275nov"](n,21).ngClassInvalid,l["\u0275nov"](n,21).ngClassPending)})}function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","validate-error"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n            "]))],null,function(e,n){e(n,3,0,n.context.$implicit)})}function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,157,"div",[["class","task-edit-inner modal-content-inner"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,16,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,7,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,h)),l["\u0275did"](8192,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,g)),l["\u0275did"](8192,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-primary confirm-btn"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.save()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u4fdd\u5b58"])),(e()(),l["\u0275ted"](null,["\n    \xa0\xa0\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.dismiss()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u53d6\u6d88"])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,136,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,133,"form",[["class","my-validate-form form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var r=!0;"submit"===n&&(r=!1!==l["\u0275nov"](e,24).onSubmit(t)&&r);"reset"===n&&(r=!1!==l["\u0275nov"](e,24).onReset()&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.y,[],null,null),l["\u0275did"](270336,null,0,r.h,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](1024,null,r.c,null,[r.h]),l["\u0275did"](8192,null,0,r.o,[r.c],null,null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,15,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,2,"label",[["class","col-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u540d\u79f0"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,8,"div",[["class","col-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,[["name",1]],null,5,"input",[["class","form-control"],["formControlName","name"],["name","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,37)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,37).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,37)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,37)._compositionEnd(t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(o.model.name=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.d,[l.Renderer,l.ElementRef,[2,r.a]],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.d]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,23,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u6d4b\u8bd5\u73af\u5883"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,17,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,14,"select",[["class","form-control"],["formControlName","envId"],["name","envId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,53).onChange(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,53).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.model.envId=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.t,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.t]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,3,"option",[["value","null"]],null,null,null,null,null)),l["\u0275did"](73728,null,0,r.q,[l.ElementRef,l.Renderer,[2,r.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,r.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["\u8bf7\u9009\u62e9"])),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275and"](8388608,null,null,1,null,m)),l["\u0275did"](401408,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,2,"label",[["class","col-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u7ecf\u529e\u4eba"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,5,"div",[["class","col-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,2,"search-select",[],null,[[null,"searchModelChange"],[null,"selectedModelsChange"],[null,"searchChange"]],function(e,n,t){var l=!0,r=e.component;"searchModelChange"===n&&(l=!1!==(r.searchModel=t)&&l);"selectedModelsChange"===n&&(l=!1!==(r.selectedModels=t)&&l);"searchChange"===n&&(l=!1!==r.changeSearch(t)&&l);return l},u.b,u.a)),l["\u0275did"](57344,null,0,a.a,[r.e],{searchModel:[0,"searchModel"],searchResult:[1,"searchResult"],selectedModels:[2,"selectedModels"],selectSingle:[3,"selectSingle"]},{searchChange:"searchChange"}),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,56,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,5,"label",[["class","col-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u5bfc\u5165\u6d4b\u8bd5\u96c6"])),(e()(),l["\u0275eld"](0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,46,"div",[["class","col-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,43,"div",[["class","checkbox-list"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,40,"div",[["class","checkbox-list-inner"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275eld"](0,null,null,13,"div",[["class","toolbar"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275eld"](0,null,null,10,"div",[["class","toolbar-inner"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","link"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.select("all")&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u5168\u9009"])),(e()(),l["\u0275ted"](null,[" |\n                  "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","link"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.select("none")&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u5168\u4e0d\u9009"])),(e()(),l["\u0275ted"](null,["\xa0\xa0\xa0\xa0\xa0\n                  "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","red"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u540c\u65f6\u53ea\u80fd\u9009\u4e2d1\u4e2a\u9879\u76ee, \u5df2\u6709\u7528\u4f8b\u5c06\u88ab\u5220\u9664"])),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275eld"](0,null,null,22,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275eld"](0,null,null,16,"div",[["class","checkbox-list-item title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275eld"](0,null,null,13,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275eld"](0,null,null,10,"span",[["class","checkbox-name"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","project"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u9879\u76ee"])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","suite"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u6d4b\u8bd5\u96c6"])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","count"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u7528\u4f8b\u6570"])),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275ted"](null,["\n\n                "])),(e()(),l["\u0275and"](8388608,null,null,1,null,v)),l["\u0275did"](401408,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","validate-errors"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275and"](8388608,null,null,1,null,b)),l["\u0275did"](401408,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n\n\n"]))],function(e,n){var t=n.component;e(n,7,0,!t.model.id),e(n,10,0,t.model.id),e(n,24,0,t.form);e(n,39,0,"name",t.model.name);e(n,55,0,"envId",t.model.envId);e(n,60,0,"null");e(n,61,0,"null"),e(n,65,0,t.envs);e(n,79,0,t.searchModel,t.searchResult,t.selectedModels,!1),e(n,135,0,t.suites),e(n,151,0,t.formErrors)},function(e,n){var t=n.component;e(n,13,0,!t.form.valid||0==t.selectedModels.length),e(n,22,0,l["\u0275nov"](n,26).ngClassUntouched,l["\u0275nov"](n,26).ngClassTouched,l["\u0275nov"](n,26).ngClassPristine,l["\u0275nov"](n,26).ngClassDirty,l["\u0275nov"](n,26).ngClassValid,l["\u0275nov"](n,26).ngClassInvalid,l["\u0275nov"](n,26).ngClassPending),e(n,36,0,l["\u0275nov"](n,41).ngClassUntouched,l["\u0275nov"](n,41).ngClassTouched,l["\u0275nov"](n,41).ngClassPristine,l["\u0275nov"](n,41).ngClassDirty,l["\u0275nov"](n,41).ngClassValid,l["\u0275nov"](n,41).ngClassInvalid,l["\u0275nov"](n,41).ngClassPending),e(n,52,0,l["\u0275nov"](n,57).ngClassUntouched,l["\u0275nov"](n,57).ngClassTouched,l["\u0275nov"](n,57).ngClassPristine,l["\u0275nov"](n,57).ngClassDirty,l["\u0275nov"](n,57).ngClassValid,l["\u0275nov"](n,57).ngClassInvalid,l["\u0275nov"](n,57).ngClassPending)})}var C=l["\u0275ccf"]("task-edit",i.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"task-edit",[],null,null,null,y,p)),l["\u0275did"](57344,null,0,i.a,[s.a,r.e,c.a,d.a],null,null)],function(e,n){e(n,1,0)},null)},{},{},[])},KWOn:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("ZrEx"),r=function(){function e(){this._data={}}return Object.defineProperty(e.prototype,"data",{set:function(e){e&&(this._data=e,this.genChart())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.genChart=function(){this.chartOption={title:{text:this.title,show:!0,top:"top",left:"center",textStyle:{fontSize:"15"}},legend:{show:!1},padding:0,color:l.a.CHART_COLORS,tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"\u5206\u5e03",type:"pie",radius:"70%",center:["50%","55%"],data:this._data,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},normal:{label:{show:!0,formatter:"{b} : {c} ({d}%)"},labelLine:{show:!0}}}}]}},e.ctorParameters=function(){return[]},e}()},LJO5:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){this.elem={}}return e.prototype.ngOnInit=function(){},e.ctorParameters=function(){return[]},e}()},LOkn:function(e,n,t){!function(){"use strict";var n,t,l,r,o,i,u,a,s,c,d,f,p,h=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]},g=function(e,n){return function(){for(var t=[],l=0;l<arguments.length;l++)t[l]=arguments[l];return e(n.apply(null,arguments))}},m=function(e){return function(){return e}},v=function(e){return e},b=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];for(var l=new Array(arguments.length-1),r=1;r<arguments.length;r++)l[r-1]=arguments[r];return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var i=l.concat(r);return e.apply(null,i)}},y=m(!1),C=m(!0),w=y,x=C,_=function(){return A},A=function(){var e=function(e){return e.isNone()},n=function(e){return e()},t=function(e){return e},l={fold:function(e,n){return e()},is:w,isSome:w,isNone:x,getOr:t,getOrThunk:n,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){},or:t,orThunk:n,map:_,ap:_,each:function(){},bind:_,flatten:_,exists:w,forall:x,filter:_,equals:e,equals_:e,toArray:function(){return[]},toString:m("none()")};return Object.freeze&&Object.freeze(l),l}(),k=function(e){var n=function(){return e},t=function(){return r},l=function(n){return n(e)},r={fold:function(n,t){return t(e)},is:function(n){return e===n},isSome:x,isNone:w,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:t,orThunk:t,map:function(n){return k(n(e))},ap:function(n){return n.fold(_,function(n){return k(n(e))})},each:function(n){n(e)},bind:l,flatten:n,exists:l,forall:l,filter:function(n){return n(e)?r:A},equals:function(n){return n.is(e)},equals_:function(n,t){return n.fold(w,function(n){return t(e,n)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return r},O={some:k,none:_,from:function(e){return null===e||void 0===e?A:k(e)}},S=function(e){return function(n){return function(e){if(null===e)return"null";var n=typeof e;return"object"===n&&Array.prototype.isPrototypeOf(e)?"array":"object"===n&&String.prototype.isPrototypeOf(e)?"string":n}(n)===e}},E=S("string"),R=S("object"),P=S("array"),M=S("null"),I=S("boolean"),D=S("function"),T=S("number"),N=void 0===(n=Array.prototype.indexOf)?function(e,n){return W(e,n)}:function(e,t){return n.call(e,t)},B=function(e,n){return N(e,n)>-1},F=function(e,n){for(var t=e.length,l=new Array(t),r=0;r<t;r++){var o=e[r];l[r]=n(o,r,e)}return l},L=function(e,n){for(var t=0,l=e.length;t<l;t++)n(e[t],t,e)},H=function(e,n){for(var t=[],l=[],r=0,o=e.length;r<o;r++){var i=e[r];(n(i,r,e)?t:l).push(i)}return{pass:t,fail:l}},z=function(e,n){for(var t=[],l=0,r=e.length;l<r;l++){var o=e[l];n(o,l,e)&&t.push(o)}return t},V=function(e,n,t){return L(e,function(e){t=n(t,e)}),t},q=function(e,n){for(var t=0,l=e.length;t<l;t++){var r=e[t];if(n(r,t,e))return O.some(r)}return O.none()},j=function(e,n){for(var t=0,l=e.length;t<l;t++)if(n(e[t],t,e))return O.some(t);return O.none()},W=function(e,n){for(var t=0,l=e.length;t<l;++t)if(e[t]===n)return t;return-1},U=Array.prototype.push,Q=function(e,n){return function(e){for(var n=[],t=0,l=e.length;t<l;++t){if(!Array.prototype.isPrototypeOf(e[t]))throw new Error("Arr.flatten item "+t+" was not an array, input: "+e);U.apply(n,e[t])}return n}(F(e,n))},G=function(e,n){for(var t=0,l=e.length;t<l;++t)if(!0!==n(e[t],t,e))return!1;return!0},K=Array.prototype.slice,Y=function(e,n){return z(e,function(e){return!B(n,e)})},Z=function(e){return 0===e.length?O.none():O.some(e[0])},J=function(e){return 0===e.length?O.none():O.some(e[e.length-1])},X=D(Array.from)?Array.from:function(e){return K.call(e)},$="undefined"!==typeof window?window:Function("return this;")(),ee=function(e,n){return function(e,n){for(var t=void 0!==n&&null!==n?n:$,l=0;l<e.length&&void 0!==t&&null!==t;++l)t=t[e[l]];return t}(e.split("."),n)},ne={getOrDie:function(e,n){var t=function(e,n){return ee(e,n)}(e,n);if(void 0===t||null===t)throw e+" not available on this browser";return t}},te=function(){return ne.getOrDie("URL")},le={createObjectURL:function(e){return te().createObjectURL(e)},revokeObjectURL:function(e){te().revokeObjectURL(e)}},re=navigator,oe=re.userAgent,ie=function(e){return"matchMedia"in window&&matchMedia(e).matches};s=/Android/.test(oe),l=(l=!(t=/WebKit/.test(oe))&&/MSIE/gi.test(oe)&&/Explorer/gi.test(re.appName))&&/MSIE (\w+)\./.exec(oe)[1],r=-1!==oe.indexOf("Trident/")&&(-1!==oe.indexOf("rv:")||-1!==re.appName.indexOf("Netscape"))&&11,o=-1!==oe.indexOf("Edge/")&&!l&&!r&&12,l=l||r||o,i=!t&&!r&&/Gecko/.test(oe),u=-1!==oe.indexOf("Mac"),a=/(iPad|iPhone)/.test(oe),c="FormData"in window&&"FileReader"in window&&"URL"in window&&!!le.createObjectURL,d=ie("only screen and (max-device-width: 480px)")&&(s||a),f=ie("only screen and (min-width: 800px)")&&(s||a),p=-1!==oe.indexOf("Windows Phone"),o&&(t=!1);var ue,ae={opera:!1,webkit:t,ie:l,gecko:i,mac:u,iOS:a,android:s,contentEditable:!a||c||parseInt(oe.match(/AppleWebKit\/(\d*)/)[1],10)>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==l,range:window.getSelection&&"Range"in window,documentMode:l&&!o?document.documentMode||7:10,fileApi:c,ceFalse:!1===l||l>8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===l||l>11,desktop:!d&&!f,windowsPhone:p},se=window.Promise?window.Promise:function(){function e(e,n){return function(){e.apply(n,arguments)}}var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=function(n){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof n)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(n,e(o,this),e(i,this))},l=t.immediateFn||"function"===typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)};function r(e){var n=this;null!==this._state?l(function(){var t=n._state?e.onFulfilled:e.onRejected;if(null!==t){var l;try{l=t(n._value)}catch(n){return void e.reject(n)}e.resolve(l)}else(n._state?e.resolve:e.reject)(n._value)}):this._deferreds.push(e)}function o(n){try{if(n===this)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"===typeof n||"function"===typeof n)){var t=n.then;if("function"===typeof t)return void a(e(t,n),e(o,this),e(i,this))}this._state=!0,this._value=n,u.call(this)}catch(e){i.call(this,e)}}function i(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,n=this._deferreds.length;e<n;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function a(e,n,t){var l=!1;try{e(function(e){l||(l=!0,n(e))},function(e){l||(l=!0,t(e))})}catch(e){if(l)return;l=!0,t(e)}}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.then=function(e,n){var l=this;return new t(function(t,o){r.call(l,new function(e,n,t,l){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof n?n:null,this.resolve=t,this.reject=l}(e,n,t,o))})},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return new t(function(n,t){if(0===e.length)return n([]);var l=e.length;function r(o,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then;if("function"===typeof u)return void u.call(i,function(e){r(o,e)},t)}e[o]=i,0===--l&&n(e)}catch(e){t(e)}}for(var o=0;o<e.length;o++)r(o,e[o])})},t.resolve=function(e){return e&&"object"===typeof e&&e.constructor===t?e:new t(function(n){n(e)})},t.reject=function(e){return new t(function(n,t){t(e)})},t.race=function(e){return new t(function(n,t){for(var l=0,r=e.length;l<r;l++)e[l].then(n,t)})},t}(),ce=function(e,n){return"number"!==typeof n&&(n=0),setTimeout(e,n)},de=function(e,n){return"number"!==typeof n&&(n=1),setInterval(e,n)},fe=function(e,n){var t,l;return(l=function(){var l=arguments;clearTimeout(t),t=ce(function(){e.apply(this,l)},n)}).stop=function(){clearTimeout(t)},l},pe={requestAnimationFrame:function(e,n){ue?ue.then(e):ue=new se(function(e){n||(n=document.body),function(e,n){var t,l=window.requestAnimationFrame,r=["ms","moz","webkit"];for(t=0;t<r.length&&!l;t++)l=window[r[t]+"RequestAnimationFrame"];l||(l=function(e){window.setTimeout(e,0)}),l(e,n)}(e,n)}).then(e)},setTimeout:ce,setInterval:de,setEditorTimeout:function(e,n,t){return ce(function(){e.removed||n()},t)},setEditorInterval:function(e,n,t){var l;return l=de(function(){e.removed?clearInterval(l):n()},t)},debounce:fe,throttle:fe,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},he=/^(?:mouse|contextmenu)|click/,ge={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},me=function(){return!1},ve=function(){return!0},be=function(e,n,t,l){e.addEventListener?e.addEventListener(n,t,l||!1):e.attachEvent&&e.attachEvent("on"+n,t)},ye=function(e,n,t,l){e.removeEventListener?e.removeEventListener(n,t,l||!1):e.detachEvent&&e.detachEvent("on"+n,t)},Ce=function(e,n){var t,l=n||{};for(t in e)ge[t]||(l[t]=e[t]);if(l.target||(l.target=l.srcElement||document),ae.experimentalShadowDom&&(l.target=function(e,n){if(e.composedPath){var t=e.composedPath();if(t&&t.length>0)return t[0]}return n}(e,l.target)),e&&he.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var r=l.target.ownerDocument||document,o=r.documentElement,i=r.body;l.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),l.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)}return l.preventDefault=function(){l.isDefaultPrevented=ve,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},l.stopPropagation=function(){l.isPropagationStopped=ve,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=ve,l.stopPropagation()},!1===function(e){return e.isDefaultPrevented===ve||e.isDefaultPrevented===me}(l)&&(l.isDefaultPrevented=me,l.isPropagationStopped=me,l.isImmediatePropagationStopped=me),"undefined"===typeof l.metaKey&&(l.metaKey=!1),l},we=function(e,n,t){var l=e.document,r={type:"ready"};if(t.domLoaded)n(r);else{var o=function(){return"complete"===l.readyState||"interactive"===l.readyState&&l.body},i=function(){t.domLoaded||(t.domLoaded=!0,n(r))},u=function(){o()&&(ye(l,"readystatechange",u),i())},a=function(){try{l.documentElement.doScroll("left")}catch(e){return void pe.setTimeout(a)}i()};!l.addEventListener||ae.ie&&ae.ie<11?(be(l,"readystatechange",u),l.documentElement.doScroll&&e.self===e.top&&a()):o()?i():be(e,"DOMContentLoaded",i),be(e,"load",i)}},xe=function(){var e,n,t,l,r,o=this,i={};n="mce-data-"+(+new Date).toString(32),l="onmouseenter"in document.documentElement,t="onfocusin"in document.documentElement,r={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,o.domLoaded=!1,o.events=i;var u=function(e,n){var t,l,r,o,u=i[n];if(t=u&&u[e.type])for(l=0,r=t.length;l<r;l++)if((o=t[l])&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return};o.bind=function(a,s,c,d){var f,p,h,g,m,v,b,y=window,C=function(e){u(Ce(e||y.event),f)};if(a&&3!==a.nodeType&&8!==a.nodeType){for(a[n]?f=a[n]:(f=e++,a[n]=f,i[f]={}),d=d||a,h=(s=s.split(" ")).length;h--;)v=C,m=b=!1,"DOMContentLoaded"===(g=s[h])&&(g="ready"),o.domLoaded&&"ready"===g&&"complete"===a.readyState?c.call(d,Ce({type:g})):(l||(m=r[g])&&(v=function(e){var n,t;if(n=e.currentTarget,(t=e.relatedTarget)&&n.contains)t=n.contains(t);else for(;t&&t!==n;)t=t.parentNode;t||((e=Ce(e||y.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=n,u(e,f))}),t||"focusin"!==g&&"focusout"!==g||(b=!0,m="focusin"===g?"focus":"blur",v=function(e){(e=Ce(e||y.event)).type="focus"===e.type?"focusin":"focusout",u(e,f)}),(p=i[f][g])?"ready"===g&&o.domLoaded?c({type:g}):p.push({func:c,scope:d}):(i[f][g]=p=[{func:c,scope:d}],p.fakeName=m,p.capture=b,p.nativeHandler=v,"ready"===g?we(a,v,o):be(a,m||g,v,b)));return a=p=0,c}},o.unbind=function(e,t,l){var r,u,a,s,c,d;if(!e||3===e.nodeType||8===e.nodeType)return o;if(r=e[n]){if(d=i[r],t){for(a=(t=t.split(" ")).length;a--;)if(u=d[c=t[a]]){if(l)for(s=u.length;s--;)if(u[s].func===l){var f=u.nativeHandler,p=u.fakeName,h=u.capture;(u=u.slice(0,s).concat(u.slice(s+1))).nativeHandler=f,u.fakeName=p,u.capture=h,d[c]=u}l&&0!==u.length||(delete d[c],ye(e,u.fakeName||c,u.nativeHandler,u.capture))}}else{for(c in d)u=d[c],ye(e,u.fakeName||c,u.nativeHandler,u.capture);d={}}for(c in d)return o;delete i[r];try{delete e[n]}catch(t){e[n]=null}}return o},o.fire=function(e,t,l){var r;if(!e||3===e.nodeType||8===e.nodeType)return o;(l=Ce(null,l)).type=t,l.target=e;do{(r=e[n])&&u(l,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!l.isPropagationStopped());return o},o.clean=function(e){var t,l,r=o.unbind;if(!e||3===e.nodeType||8===e.nodeType)return o;if(e[n]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),t=(l=e.getElementsByTagName("*")).length;t--;)(e=l[t])[n]&&r(e);return o},o.destroy=function(){i={}},o.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};xe.Event=new xe,xe.Event.bind(window,"ready",function(){});var _e,Ae,ke,Oe,Se,Ee,Re,Pe,Me,Ie,De,Te,Ne,Be,Fe,Le,He,ze,Ve="sizzle"+-new Date,qe=window.document,je=0,We=0,Ue=kn(),Qe=kn(),Ge=kn(),Ke=function(e,n){return e===n&&(De=!0),0},Ye="undefined",Ze=1<<31,Je={}.hasOwnProperty,Xe=[],$e=Xe.pop,en=Xe.push,nn=Xe.push,tn=Xe.slice,ln=Xe.indexOf||function(e){for(var n=0,t=this.length;n<t;n++)if(this[n]===e)return n;return-1},rn="[\\x20\\t\\r\\n\\f]",on="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",un="\\["+rn+"*("+on+")(?:"+rn+"*([*^$|!~]?=)"+rn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+on+"))|)"+rn+"*\\]",an=":("+on+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+un+")*)|.*)\\)|)",sn=new RegExp("^"+rn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rn+"+$","g"),cn=new RegExp("^"+rn+"*,"+rn+"*"),dn=new RegExp("^"+rn+"*([>+~]|"+rn+")"+rn+"*"),fn=new RegExp("="+rn+"*([^\\]'\"]*?)"+rn+"*\\]","g"),pn=new RegExp(an),hn=new RegExp("^"+on+"$"),gn={ID:new RegExp("^#("+on+")"),CLASS:new RegExp("^\\.("+on+")"),TAG:new RegExp("^("+on+"|[*])"),ATTR:new RegExp("^"+un),PSEUDO:new RegExp("^"+an),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rn+"*(even|odd|(([+-]|)(\\d*)n|)"+rn+"*(?:([+-]|)"+rn+"*(\\d+)|))"+rn+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+rn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rn+"*((?:-\\d)?\\d*)"+rn+"*\\)|)(?=[^-]|$)","i")},mn=/^(?:input|select|textarea|button)$/i,vn=/^h\d$/i,bn=/^[^{]+\{\s*\[native \w/,yn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Cn=/[+~]/,wn=/'|\\/g,xn=new RegExp("\\\\([\\da-f]{1,6}"+rn+"?|("+rn+")|.)","ig"),_n=function(e,n,t){var l="0x"+n-65536;return l!==l||t?n:l<0?String.fromCharCode(l+65536):String.fromCharCode(l>>10|55296,1023&l|56320)};try{nn.apply(Xe=tn.call(qe.childNodes),qe.childNodes),Xe[qe.childNodes.length].nodeType}catch(e){nn={apply:Xe.length?function(e,n){en.apply(e,tn.call(n))}:function(e,n){for(var t=e.length,l=0;e[t++]=n[l++];);e.length=t-1}}}var An=function(e,n,t,l){var r,o,i,u,a,s,c,d,f,p;if((n?n.ownerDocument||n:qe)!==Ne&&Te(n),n=n||Ne,t=t||[],!e||"string"!==typeof e)return t;if(1!==(u=n.nodeType)&&9!==u)return[];if(Fe&&!l){if(r=yn.exec(e))if(i=r[1]){if(9===u){if(!(o=n.getElementById(i))||!o.parentNode)return t;if(o.id===i)return t.push(o),t}else if(n.ownerDocument&&(o=n.ownerDocument.getElementById(i))&&ze(n,o)&&o.id===i)return t.push(o),t}else{if(r[2])return nn.apply(t,n.getElementsByTagName(e)),t;if((i=r[3])&&Ae.getElementsByClassName)return nn.apply(t,n.getElementsByClassName(i)),t}if(Ae.qsa&&(!Le||!Le.test(e))){if(d=c=Ve,f=n,p=9===u&&e,1===u&&"object"!==n.nodeName.toLowerCase()){for(s=Ee(e),(c=n.getAttribute("id"))?d=c.replace(wn,"\\$&"):n.setAttribute("id",d),d="[id='"+d+"'] ",a=s.length;a--;)s[a]=d+Dn(s[a]);f=Cn.test(e)&&Mn(n.parentNode)||n,p=s.join(",")}if(p)try{return nn.apply(t,f.querySelectorAll(p)),t}catch(e){}finally{c||n.removeAttribute("id")}}}return Pe(e.replace(sn,"$1"),n,t,l)};function kn(){var e=[];return function n(t,l){return e.push(t+" ")>ke.cacheLength&&delete n[e.shift()],n[t+" "]=l}}function On(e){return e[Ve]=!0,e}function Sn(e,n){var t=n&&e,l=t&&1===e.nodeType&&1===n.nodeType&&(~n.sourceIndex||Ze)-(~e.sourceIndex||Ze);if(l)return l;if(t)for(;t=t.nextSibling;)if(t===n)return-1;return e?1:-1}function En(e){return function(n){return"input"===n.nodeName.toLowerCase()&&n.type===e}}function Rn(e){return function(n){var t=n.nodeName.toLowerCase();return("input"===t||"button"===t)&&n.type===e}}function Pn(e){return On(function(n){return n=+n,On(function(t,l){for(var r,o=e([],t.length,n),i=o.length;i--;)t[r=o[i]]&&(t[r]=!(l[r]=t[r]))})})}function Mn(e){return e&&typeof e.getElementsByTagName!==Ye&&e}for(_e in Ae=An.support={},Se=An.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return!!n&&"HTML"!==n.nodeName},Te=An.setDocument=function(e){var n,t=e?e.ownerDocument||e:qe,l=t.defaultView;return t!==Ne&&9===t.nodeType&&t.documentElement?(Ne=t,Be=t.documentElement,Fe=!Se(t),l&&l!==function(e){try{return e.top}catch(e){}return null}(l)&&(l.addEventListener?l.addEventListener("unload",function(){Te()},!1):l.attachEvent&&l.attachEvent("onunload",function(){Te()})),Ae.attributes=!0,Ae.getElementsByTagName=!0,Ae.getElementsByClassName=bn.test(t.getElementsByClassName),Ae.getById=!0,ke.find.ID=function(e,n){if(typeof n.getElementById!==Ye&&Fe){var t=n.getElementById(e);return t&&t.parentNode?[t]:[]}},ke.filter.ID=function(e){var n=e.replace(xn,_n);return function(e){return e.getAttribute("id")===n}},ke.find.TAG=Ae.getElementsByTagName?function(e,n){if(typeof n.getElementsByTagName!==Ye)return n.getElementsByTagName(e)}:function(e,n){var t,l=[],r=0,o=n.getElementsByTagName(e);if("*"===e){for(;t=o[r++];)1===t.nodeType&&l.push(t);return l}return o},ke.find.CLASS=Ae.getElementsByClassName&&function(e,n){if(Fe)return n.getElementsByClassName(e)},He=[],Le=[],Ae.disconnectedMatch=!0,Le=Le.length&&new RegExp(Le.join("|")),He=He.length&&new RegExp(He.join("|")),n=bn.test(Be.compareDocumentPosition),ze=n||bn.test(Be.contains)?function(e,n){var t=9===e.nodeType?e.documentElement:e,l=n&&n.parentNode;return e===l||!(!l||1!==l.nodeType||!(t.contains?t.contains(l):e.compareDocumentPosition&&16&e.compareDocumentPosition(l)))}:function(e,n){if(n)for(;n=n.parentNode;)if(n===e)return!0;return!1},Ke=n?function(e,n){if(e===n)return De=!0,0;var l=!e.compareDocumentPosition-!n.compareDocumentPosition;return l||(1&(l=(e.ownerDocument||e)===(n.ownerDocument||n)?e.compareDocumentPosition(n):1)||!Ae.sortDetached&&n.compareDocumentPosition(e)===l?e===t||e.ownerDocument===qe&&ze(qe,e)?-1:n===t||n.ownerDocument===qe&&ze(qe,n)?1:Ie?ln.call(Ie,e)-ln.call(Ie,n):0:4&l?-1:1)}:function(e,n){if(e===n)return De=!0,0;var l,r=0,o=e.parentNode,i=n.parentNode,u=[e],a=[n];if(!o||!i)return e===t?-1:n===t?1:o?-1:i?1:Ie?ln.call(Ie,e)-ln.call(Ie,n):0;if(o===i)return Sn(e,n);for(l=e;l=l.parentNode;)u.unshift(l);for(l=n;l=l.parentNode;)a.unshift(l);for(;u[r]===a[r];)r++;return r?Sn(u[r],a[r]):u[r]===qe?-1:a[r]===qe?1:0},t):Ne},An.matches=function(e,n){return An(e,null,null,n)},An.matchesSelector=function(e,n){if((e.ownerDocument||e)!==Ne&&Te(e),n=n.replace(fn,"='$1']"),Ae.matchesSelector&&Fe&&(!He||!He.test(n))&&(!Le||!Le.test(n)))try{var t=(void 0).call(e,n);if(t||Ae.disconnectedMatch||e.document&&11!==e.document.nodeType)return t}catch(e){}return An(n,Ne,null,[e]).length>0},An.contains=function(e,n){return(e.ownerDocument||e)!==Ne&&Te(e),ze(e,n)},An.attr=function(e,n){(e.ownerDocument||e)!==Ne&&Te(e);var t=ke.attrHandle[n.toLowerCase()],l=t&&Je.call(ke.attrHandle,n.toLowerCase())?t(e,n,!Fe):void 0;return void 0!==l?l:Ae.attributes||!Fe?e.getAttribute(n):(l=e.getAttributeNode(n))&&l.specified?l.value:null},An.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},An.uniqueSort=function(e){var n,t=[],l=0,r=0;if(De=!Ae.detectDuplicates,Ie=!Ae.sortStable&&e.slice(0),e.sort(Ke),De){for(;n=e[r++];)n===e[r]&&(l=t.push(r));for(;l--;)e.splice(t[l],1)}return Ie=null,e},Oe=An.getText=function(e){var n,t="",l=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=Oe(e)}else if(3===r||4===r)return e.nodeValue}else for(;n=e[l++];)t+=Oe(n);return t},(ke=An.selectors={cacheLength:50,createPseudo:On,match:gn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xn,_n),e[3]=(e[3]||e[4]||e[5]||"").replace(xn,_n),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||An.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&An.error(e[0]),e},PSEUDO:function(e){var n,t=!e[6]&&e[2];return gn.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":t&&pn.test(t)&&(n=Ee(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(e[0]=e[0].slice(0,n),e[2]=t.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(xn,_n).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===n}},CLASS:function(e){var n=Ue[e+" "];return n||(n=new RegExp("(^|"+rn+")"+e+"("+rn+"|$)"))&&Ue(e,function(e){return n.test("string"===typeof e.className&&e.className||typeof e.getAttribute!==Ye&&e.getAttribute("class")||"")})},ATTR:function(e,n,t){return function(l){var r=An.attr(l,e);return null==r?"!="===n:!n||(r+="","="===n?r===t:"!="===n?r!==t:"^="===n?t&&0===r.indexOf(t):"*="===n?t&&r.indexOf(t)>-1:"$="===n?t&&r.slice(-t.length)===t:"~="===n?(" "+r+" ").indexOf(t)>-1:"|="===n&&(r===t||r.slice(0,t.length+1)===t+"-"))}},CHILD:function(e,n,t,l,r){var o="nth"!==e.slice(0,3),i="last"!==e.slice(-4),u="of-type"===n;return 1===l&&0===r?function(e){return!!e.parentNode}:function(n,t,a){var s,c,d,f,p,h,g=o!==i?"nextSibling":"previousSibling",m=n.parentNode,v=u&&n.nodeName.toLowerCase(),b=!a&&!u;if(m){if(o){for(;g;){for(d=n;d=d[g];)if(u?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[i?m.firstChild:m.lastChild],i&&b){for(p=(s=(c=m[Ve]||(m[Ve]={}))[e]||[])[0]===je&&s[1],f=s[0]===je&&s[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===n){c[e]=[je,p,f];break}}else if(b&&(s=(n[Ve]||(n[Ve]={}))[e])&&s[0]===je)f=s[1];else for(;(d=++p&&d&&d[g]||(f=p=0)||h.pop())&&((u?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[Ve]||(d[Ve]={}))[e]=[je,f]),d!==n)););return(f-=r)===l||f%l===0&&f/l>=0}}},PSEUDO:function(e,n){var t,l=ke.pseudos[e]||ke.setFilters[e.toLowerCase()]||An.error("unsupported pseudo: "+e);return l[Ve]?l(n):l.length>1?(t=[e,e,"",n],ke.setFilters.hasOwnProperty(e.toLowerCase())?On(function(e,t){for(var r,o=l(e,n),i=o.length;i--;)e[r=ln.call(e,o[i])]=!(t[r]=o[i])}):function(e){return l(e,0,t)}):l}},pseudos:{not:On(function(e){var n=[],t=[],l=Re(e.replace(sn,"$1"));return l[Ve]?On(function(e,n,t,r){for(var o,i=l(e,null,r,[]),u=e.length;u--;)(o=i[u])&&(e[u]=!(n[u]=o))}):function(e,r,o){return n[0]=e,l(n,null,o,t),!t.pop()}}),has:On(function(e){return function(n){return An(e,n).length>0}}),contains:On(function(e){return e=e.replace(xn,_n),function(n){return(n.textContent||n.innerText||Oe(n)).indexOf(e)>-1}}),lang:On(function(e){return hn.test(e||"")||An.error("unsupported lang: "+e),e=e.replace(xn,_n).toLowerCase(),function(n){var t;do{if(t=Fe?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return(t=t.toLowerCase())===e||0===t.indexOf(e+"-")}while((n=n.parentNode)&&1===n.nodeType);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===Be},focus:function(e){return e===Ne.activeElement&&(!Ne.hasFocus||Ne.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var n=e.nodeName.toLowerCase();return"input"===n&&!!e.checked||"option"===n&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!ke.pseudos.empty(e)},header:function(e){return vn.test(e.nodeName)},input:function(e){return mn.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return"input"===n&&"button"===e.type||"button"===n},text:function(e){var n;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(n=e.getAttribute("type"))||"text"===n.toLowerCase())},first:Pn(function(){return[0]}),last:Pn(function(e,n){return[n-1]}),eq:Pn(function(e,n,t){return[t<0?t+n:t]}),even:Pn(function(e,n){for(var t=0;t<n;t+=2)e.push(t);return e}),odd:Pn(function(e,n){for(var t=1;t<n;t+=2)e.push(t);return e}),lt:Pn(function(e,n,t){for(var l=t<0?t+n:t;--l>=0;)e.push(l);return e}),gt:Pn(function(e,n,t){for(var l=t<0?t+n:t;++l<n;)e.push(l);return e})}}).pseudos.nth=ke.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})ke.pseudos[_e]=En(_e);for(_e in{submit:!0,reset:!0})ke.pseudos[_e]=Rn(_e);function In(){}function Dn(e){for(var n=0,t=e.length,l="";n<t;n++)l+=e[n].value;return l}function Tn(e,n,t){var l=n.dir,r=t&&"parentNode"===l,o=We++;return n.first?function(n,t,o){for(;n=n[l];)if(1===n.nodeType||r)return e(n,t,o)}:function(n,t,i){var u,a,s=[je,o];if(i){for(;n=n[l];)if((1===n.nodeType||r)&&e(n,t,i))return!0}else for(;n=n[l];)if(1===n.nodeType||r){if((u=(a=n[Ve]||(n[Ve]={}))[l])&&u[0]===je&&u[1]===o)return s[2]=u[2];if(a[l]=s,s[2]=e(n,t,i))return!0}}}function Nn(e){return e.length>1?function(n,t,l){for(var r=e.length;r--;)if(!e[r](n,t,l))return!1;return!0}:e[0]}function Bn(e,n,t,l,r){for(var o,i=[],u=0,a=e.length,s=null!=n;u<a;u++)(o=e[u])&&(t&&!t(o,l,r)||(i.push(o),s&&n.push(u)));return i}function Fn(e,n,t,l,r,o){return l&&!l[Ve]&&(l=Fn(l)),r&&!r[Ve]&&(r=Fn(r,o)),On(function(o,i,u,a){var s,c,d,f=[],p=[],h=i.length,g=o||function(e,n,t){for(var l=0,r=n.length;l<r;l++)An(e,n[l],t);return t}(n||"*",u.nodeType?[u]:u,[]),m=!e||!o&&n?g:Bn(g,f,e,u,a),v=t?r||(o?e:h||l)?[]:i:m;if(t&&t(m,v,u,a),l)for(s=Bn(v,p),l(s,[],u,a),c=s.length;c--;)(d=s[c])&&(v[p[c]]=!(m[p[c]]=d));if(o){if(r||e){if(r){for(s=[],c=v.length;c--;)(d=v[c])&&s.push(m[c]=d);r(null,v=[],s,a)}for(c=v.length;c--;)(d=v[c])&&(s=r?ln.call(o,d):f[c])>-1&&(o[s]=!(i[s]=d))}}else v=Bn(v===i?v.splice(h,v.length):v),r?r(null,i,v,a):nn.apply(i,v)})}function Ln(e){for(var n,t,l,r=e.length,o=ke.relative[e[0].type],i=o||ke.relative[" "],u=o?1:0,a=Tn(function(e){return e===n},i,!0),s=Tn(function(e){return ln.call(n,e)>-1},i,!0),c=[function(e,t,l){return!o&&(l||t!==Me)||((n=t).nodeType?a(e,t,l):s(e,t,l))}];u<r;u++)if(t=ke.relative[e[u].type])c=[Tn(Nn(c),t)];else{if((t=ke.filter[e[u].type].apply(null,e[u].matches))[Ve]){for(l=++u;l<r&&!ke.relative[e[l].type];l++);return Fn(u>1&&Nn(c),u>1&&Dn(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(sn,"$1"),t,u<l&&Ln(e.slice(u,l)),l<r&&Ln(e=e.slice(l)),l<r&&Dn(e))}c.push(t)}return Nn(c)}In.prototype=ke.filters=ke.pseudos,ke.setFilters=new In,Ee=An.tokenize=function(e,n){var t,l,r,o,i,u,a,s=Qe[e+" "];if(s)return n?0:s.slice(0);for(i=e,u=[],a=ke.preFilter;i;){for(o in t&&!(l=cn.exec(i))||(l&&(i=i.slice(l[0].length)||i),u.push(r=[])),t=!1,(l=dn.exec(i))&&(t=l.shift(),r.push({value:t,type:l[0].replace(sn," ")}),i=i.slice(t.length)),ke.filter)!(l=gn[o].exec(i))||a[o]&&!(l=a[o](l))||(t=l.shift(),r.push({value:t,type:o,matches:l}),i=i.slice(t.length));if(!t)break}return n?i.length:i?An.error(e):Qe(e,u).slice(0)},Re=An.compile=function(e,n){var t,l=[],r=[],o=Ge[e+" "];if(!o){for(n||(n=Ee(e)),t=n.length;t--;)(o=Ln(n[t]))[Ve]?l.push(o):r.push(o);(o=Ge(e,function(e,n){var t=n.length>0,l=e.length>0,r=function(r,o,i,u,a){var s,c,d,f=0,p="0",h=r&&[],g=[],m=Me,v=r||l&&ke.find.TAG("*",a),b=je+=null==m?1:Math.random()||.1,y=v.length;for(a&&(Me=o!==Ne&&o);p!==y&&null!=(s=v[p]);p++){if(l&&s){for(c=0;d=e[c++];)if(d(s,o,i)){u.push(s);break}a&&(je=b)}t&&((s=!d&&s)&&f--,r&&h.push(s))}if(f+=p,t&&p!==f){for(c=0;d=n[c++];)d(h,g,o,i);if(r){if(f>0)for(;p--;)h[p]||g[p]||(g[p]=$e.call(u));g=Bn(g)}nn.apply(u,g),a&&!r&&g.length>0&&f+n.length>1&&An.uniqueSort(u)}return a&&(je=b,Me=m),h};return t?On(r):r}(r,l))).selector=e}return o},Pe=An.select=function(e,n,t,l){var r,o,i,u,a,s="function"===typeof e&&e,c=!l&&Ee(e=s.selector||e);if(t=t||[],1===c.length){if((o=c[0]=c[0].slice(0)).length>2&&"ID"===(i=o[0]).type&&Ae.getById&&9===n.nodeType&&Fe&&ke.relative[o[1].type]){if(!(n=(ke.find.ID(i.matches[0].replace(xn,_n),n)||[])[0]))return t;s&&(n=n.parentNode),e=e.slice(o.shift().value.length)}for(r=gn.needsContext.test(e)?0:o.length;r--&&(i=o[r],!ke.relative[u=i.type]);)if((a=ke.find[u])&&(l=a(i.matches[0].replace(xn,_n),Cn.test(o[0].type)&&Mn(n.parentNode)||n))){if(o.splice(r,1),!(e=l.length&&Dn(o)))return nn.apply(t,l),t;break}}return(s||Re(e,c))(l,n,!Fe,t,Cn.test(e)&&Mn(n.parentNode)||n),t},Ae.sortStable=Ve.split("").sort(Ke).join("")===Ve,Ae.detectDuplicates=!!De,Te(),Ae.sortDetached=!0;var Hn=Array.isArray,zn=function(e,n,t){var l,r;if(!e)return 0;if(t=t||e,void 0!==e.length){for(l=0,r=e.length;l<r;l++)if(!1===n.call(t,e[l],l,e))return 0}else for(l in e)if(e.hasOwnProperty(l)&&!1===n.call(t,e[l],l,e))return 0;return 1},Vn=function(e,n,t){var l,r;for(l=0,r=e.length;l<r;l++)if(n.call(t,e[l],l,e))return l;return-1},qn={isArray:Hn,toArray:function(e){var n,t,l=e;if(!Hn(e))for(l=[],n=0,t=e.length;n<t;n++)l[n]=e[n];return l},each:zn,map:function(e,n){var t=[];return zn(e,function(l,r){t.push(n(l,r,e))}),t},filter:function(e,n){var t=[];return zn(e,function(l,r){n&&!n(l,r,e)||t.push(l)}),t},indexOf:function(e,n){var t,l;if(e)for(t=0,l=e.length;t<l;t++)if(e[t]===n)return t;return-1},reduce:function(e,n,t,l){var r=0;for(arguments.length<3&&(t=e[0]);r<e.length;r++)t=n.call(l,t,e[r],r);return t},findIndex:Vn,find:function(e,n,t){var l=Vn(e,n,t);if(-1!==l)return e[l]},last:function(e){return e[e.length-1]}},jn=/^\s*|\s*$/g,Wn=function(e){return null===e||void 0===e?"":(""+e).replace(jn,"")},Un=function(e,n){return n?!("array"!==n||!qn.isArray(e))||typeof e===n:void 0!==e},Qn=function(e,n,t,l){l=l||this,e&&(t&&(e=e[t]),qn.each(e,function(e,r){if(!1===n.call(l,e,r,t))return!1;Qn(e,n,t,l)}))},Gn={trim:Wn,isArray:qn.isArray,is:Un,toArray:qn.toArray,makeMap:function(e,n,t){var l;for(e=e||[],n=n||",","string"===typeof e&&(e=e.split(n)),t=t||{},l=e.length;l--;)t[e[l]]={};return t},each:qn.each,map:qn.map,grep:qn.filter,inArray:qn.indexOf,hasOwn:function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},extend:function(e,n){for(var t,l,r,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var u,a=arguments;for(t=1,l=a.length;t<l;t++)for(r in n=a[t])n.hasOwnProperty(r)&&void 0!==(u=n[r])&&(e[r]=u);return e},create:function(e,n,t){var l,r,o,i,u,a=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],!(r=this.createNS(e[3].replace(/\.\w+$/,""),t))[o]){if("static"===e[2])return r[o]=n,void(this.onCreate&&this.onCreate(e[2],e[3],r[o]));n[o]||(n[o]=function(){},a=1),r[o]=n[o],this.extend(r[o].prototype,n),e[5]&&(l=this.resolve(e[5]).prototype,i=e[5].match(/\.(\w+)$/i)[1],u=r[o],r[o]=a?function(){return l[i].apply(this,arguments)}:function(){return this.parent=l[i],u.apply(this,arguments)},r[o].prototype[o]=r[o],this.each(l,function(e,n){r[o].prototype[n]=l[n]}),this.each(n,function(e,n){l[n]?r[o].prototype[n]=function(){return this.parent=l[n],e.apply(this,arguments)}:n!==o&&(r[o].prototype[n]=e)})),this.each(n.static,function(e,n){r[o][n]=e})}},walk:Qn,createNS:function(e,n){var t,l;for(n=n||window,e=e.split("."),t=0;t<e.length;t++)n[l=e[t]]||(n[l]={}),n=n[l];return n},resolve:function(e,n){var t,l;for(n=n||window,t=0,l=(e=e.split(".")).length;t<l&&(n=n[e[t]]);t++);return n},explode:function(e,n){return!e||Un(e,"array")?e:qn.map(e.split(n||","),Wn)},_addCacheSuffix:function(e){var n=ae.cacheSuffix;return n&&(e+=(-1===e.indexOf("?")?"?":"&")+n),e}},Kn=document,Yn=Array.prototype.push,Zn=Array.prototype.slice,Jn=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Xn=xe.Event,$n=Gn.makeMap("children,contents,next,prev"),et=function(e){return"undefined"!==typeof e},nt=function(e){return"string"===typeof e},tt=function(e,n){var t,l,r;for(r=(n=n||Kn).createElement("div"),t=n.createDocumentFragment(),r.innerHTML=e;l=r.firstChild;)t.appendChild(l);return t},lt=function(e,n,t,l){var r;if(nt(n))n=tt(n,vt(e[0]));else if(n.length&&!n.nodeType){if(n=ft.makeArray(n),l)for(r=n.length-1;r>=0;r--)lt(e,n[r],t,l);else for(r=0;r<n.length;r++)lt(e,n[r],t,l);return e}if(n.nodeType)for(r=e.length;r--;)t.call(e[r],n);return e},rt=function(e,n){return e&&n&&-1!==(" "+e.className+" ").indexOf(" "+n+" ")},ot=function(e,n,t){var l,r;return n=ft(n)[0],e.each(function(){t&&l===this.parentNode?r.appendChild(this):(l=this.parentNode,r=n.cloneNode(!1),this.parentNode.insertBefore(r,this),r.appendChild(this))}),e},it=Gn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ut=Gn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),at={for:"htmlFor",class:"className",readonly:"readOnly"},st={float:"cssFloat"},ct={},dt={},ft=function(e,n){return new ft.fn.init(e,n)},pt=/^\s*|\s*$/g,ht=function(e){return null===e||void 0===e?"":(""+e).replace(pt,"")},gt=function(e,n){var t,l,r,o;if(e)if(void 0===(t=e.length)){for(l in e)if(e.hasOwnProperty(l)&&(o=e[l],!1===n.call(o,l,o)))break}else for(r=0;r<t&&(o=e[r],!1!==n.call(o,r,o));r++);return e},mt=function(e,n){var t=[];return gt(e,function(e,l){n(l,e)&&t.push(l)}),t},vt=function(e){return e?9===e.nodeType?e:e.ownerDocument:Kn};ft.fn=ft.prototype={constructor:ft,selector:"",context:null,length:0,init:function(e,n){var t,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(n&&n.nodeType)this.context=n;else{if(n)return ft(e).attr(n);this.context=n=document}if(nt(e)){if(this.selector=e,!(t="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Jn.exec(e)))return ft(n).find(e);if(t[1])for(l=tt(e,vt(n)).firstChild;l;)Yn.call(this,l),l=l.nextSibling;else{if(!(l=vt(n).getElementById(t[2])))return this;if(l.id!==t[2])return this.find(e);this.length=1,this[0]=l}}else this.add(e,!1);return this},toArray:function(){return Gn.toArray(this)},add:function(e,n){var t,l;if(nt(e))return this.add(ft(e));if(!1!==n)for(t=ft.unique(this.toArray().concat(ft.makeArray(e))),this.length=t.length,l=0;l<t.length;l++)this[l]=t[l];else Yn.apply(this,ft.makeArray(e));return this},attr:function(e,n){var t,l=this;if("object"===typeof e)gt(e,function(e,n){l.attr(e,n)});else{if(!et(n)){if(l[0]&&1===l[0].nodeType){if((t=ct[e])&&t.get)return t.get(l[0],e);if(ut[e])return l.prop(e)?e:void 0;null===(n=l[0].getAttribute(e,2))&&(n=void 0)}return n}this.each(function(){var t;if(1===this.nodeType){if((t=ct[e])&&t.set)return void t.set(this,n);null===n?this.removeAttribute(e,2):this.setAttribute(e,n,2)}})}return l},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var t=this;if("object"===typeof(e=at[e]||e))gt(e,function(e,n){t.prop(e,n)});else{if(!et(n))return t[0]&&t[0].nodeType&&e in t[0]?t[0][e]:n;this.each(function(){1===this.nodeType&&(this[e]=n)})}return t},css:function(e,n){var t,l,r=this,o=function(e){return e.replace(/-(\D)/g,function(e,n){return n.toUpperCase()})},i=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"===typeof e)gt(e,function(e,n){r.css(e,n)});else if(et(n))e=o(e),"number"!==typeof n||it[e]||(n=n.toString()+"px"),r.each(function(){var t=this.style;if((l=dt[e])&&l.set)l.set(this,n);else{try{this.style[st[e]||e]=n}catch(e){}null!==n&&""!==n||(t.removeProperty?t.removeProperty(i(e)):t.removeAttribute(e))}});else{if(t=r[0],(l=dt[e])&&l.get)return l.get(t);if(!t.ownerDocument.defaultView)return t.currentStyle?t.currentStyle[o(e)]:"";try{return t.ownerDocument.defaultView.getComputedStyle(t,null).getPropertyValue(i(e))}catch(e){return}}return r},remove:function(){for(var e,n=this.length;n--;)e=this[n],Xn.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,n=this.length;n--;)for(e=this[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var n;if(et(e)){n=this.length;try{for(;n--;)this[n].innerHTML=e}catch(t){ft(this[n]).empty().append(e)}return this}return this[0]?this[0].innerHTML:""},text:function(e){var n;if(et(e)){for(n=this.length;n--;)"innerText"in this[n]?this[n].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return lt(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return lt(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?lt(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?lt(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return ft(e).append(this),this},prependTo:function(e){return ft(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return ot(this,e)},wrapAll:function(e){return ot(this,e,!0)},wrapInner:function(e){return this.each(function(){ft(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){ft(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),ft(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var t=this;return"string"!==typeof e?t:(-1!==e.indexOf(" ")?gt(e.split(" "),function(){t.toggleClass(this,n)}):t.each(function(t,l){var r,o;(o=rt(l,e))!==n&&(r=l.className,o?l.className=ht((" "+r+" ").replace(" "+e+" "," ")):l.className+=r?" "+e:e)}),t)},hasClass:function(e){return rt(this[0],e)},each:function(e){return gt(this,e)},on:function(e,n){return this.each(function(){Xn.bind(this,e,n)})},off:function(e,n){return this.each(function(){Xn.unbind(this,e,n)})},trigger:function(e){return this.each(function(){"object"===typeof e?Xn.fire(this,e.type,e):Xn.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new ft(Zn.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,t,l=[];for(n=0,t=this.length;n<t;n++)ft.find(e,this[n],l);return ft(l)},filter:function(e){return ft("function"===typeof e?mt(this.toArray(),function(n,t){return e(t,n)}):ft.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof ft&&(e=e[0]),this.each(function(t,l){for(;l;){if("string"===typeof e&&ft(l).is(e)){n.push(l);break}if(l===e){n.push(l);break}l=l.parentNode}}),ft(n)},offset:function(e){var n,t,l,r,o=0,i=0;return e?this.css(e):((n=this[0])&&(l=(t=n.ownerDocument).documentElement,n.getBoundingClientRect&&(o=(r=n.getBoundingClientRect()).left+(l.scrollLeft||t.body.scrollLeft)-l.clientLeft,i=r.top+(l.scrollTop||t.body.scrollTop)-l.clientTop)),{left:o,top:i})},push:Yn,sort:[].sort,splice:[].splice},Gn.extend(ft,{extend:Gn.extend,makeArray:function(e){return(n=e)&&n===n.window||e.nodeType?[e]:Gn.toArray(e);var n},inArray:function(e,n){var t;if(n.indexOf)return n.indexOf(e);for(t=n.length;t--;)if(n[t]===e)return t;return-1},isArray:Gn.isArray,each:gt,trim:ht,grep:mt,find:An,expr:An.selectors,unique:An.uniqueSort,text:An.getText,contains:An.contains,filter:function(e,n,t){var l=n.length;for(t&&(e=":not("+e+")");l--;)1!==n[l].nodeType&&n.splice(l,1);return n=1===n.length?ft.find.matchesSelector(n[0],e)?[n[0]]:[]:ft.find.matches(e,n)}});var bt=function(e,n,t){var l=[],r=e[n];for("string"!==typeof t&&t instanceof ft&&(t=t[0]);r&&9!==r.nodeType;){if(void 0!==t){if(r===t)break;if("string"===typeof t&&ft(r).is(t))break}1===r.nodeType&&l.push(r),r=r[n]}return l},yt=function(e,n,t,l){var r=[];for(l instanceof ft&&(l=l[0]);e;e=e[n])if(!t||e.nodeType===t){if(void 0!==l){if(e===l)break;if("string"===typeof l&&ft(e).is(l))break}r.push(e)}return r},Ct=function(e,n,t){for(e=e[n];e;e=e[n])if(e.nodeType===t)return e;return null};gt({parent:function(e){var n=e.parentNode;return n&&11!==n.nodeType?n:null},parents:function(e){return bt(e,"parentNode")},next:function(e){return Ct(e,"nextSibling",1)},prev:function(e){return Ct(e,"previousSibling",1)},children:function(e){return yt(e.firstChild,"nextSibling",1)},contents:function(e){return Gn.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){ft.fn[e]=function(t){var l=[];return this.each(function(){var e=n.call(l,this,t,l);e&&(ft.isArray(e)?l.push.apply(l,e):l.push(e))}),this.length>1&&($n[e]||(l=ft.unique(l)),0===e.indexOf("parents")&&(l=l.reverse())),l=ft(l),t?l.filter(t):l}}),gt({parentsUntil:function(e,n){return bt(e,"parentNode",n)},nextUntil:function(e,n){return yt(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return yt(e,"previousSibling",1,n).slice(1)}},function(e,n){ft.fn[e]=function(t,l){var r=[];return this.each(function(){var e=n.call(r,this,t,r);e&&(ft.isArray(e)?r.push.apply(r,e):r.push(e))}),this.length>1&&(r=ft.unique(r),0!==e.indexOf("parents")&&"prevUntil"!==e||(r=r.reverse())),r=ft(r),l?r.filter(l):r}}),ft.fn.is=function(e){return!!e&&this.filter(e).length>0},ft.fn.init.prototype=ft.fn,ft.overrideDefaults=function(e){var n,t=function(l,r){return n=n||e(),0===arguments.length&&(l=n.element),r||(r=n.context),new t.fn.init(l,r)};return ft.extend(t,this),t};var wt=function(e,n,t){gt(t,function(t,l){e[t]=e[t]||{},e[t][n]=l})};ae.ie&&ae.ie<8&&(wt(ct,"get",{maxlength:function(e){var n=e.maxLength;if(2147483647!==n)return n},size:function(e){var n=e.size;if(20!==n)return n},class:function(e){return e.className},style:function(e){var n=e.style.cssText;if(0!==n.length)return n}}),wt(ct,"set",{class:function(e,n){e.className=n},style:function(e,n){e.style.cssText=n}})),ae.ie&&ae.ie<9&&(st.float="styleFloat",wt(dt,"set",{opacity:function(e,n){var t=e.style;null===n||""===n?t.removeAttribute("filter"):(t.zoom=1,t.filter="alpha(opacity="+100*n+")")}})),ft.attrHooks=ct,ft.cssHooks=dt;var xt,_t,At,kt=function(){return Ot(0,0)},Ot=function(e,n){return{major:e,minor:n}},St={nu:Ot,detect:function(e,n){var t=String(n).toLowerCase();return 0===e.length?kt():function(e,n){var t=function(e,n){for(var t=0;t<e.length;t++){var l=e[t];if(l.test(n))return l}}(e,n);if(!t)return{major:0,minor:0};var l=function(e){return Number(n.replace(t,"$"+e))};return Ot(l(1),l(2))}(e,t)},unknown:kt},Et=function(e,n){return function(){return n===e}},Rt=function(e){var n=e.current;return{current:n,version:e.version,isEdge:Et("Edge",n),isChrome:Et("Chrome",n),isIE:Et("IE",n),isOpera:Et("Opera",n),isFirefox:Et("Firefox",n),isSafari:Et("Safari",n)}},Pt={unknown:function(){return Rt({current:void 0,version:St.unknown()})},nu:Rt,edge:m("Edge"),chrome:m("Chrome"),ie:m("IE"),opera:m("Opera"),firefox:m("Firefox"),safari:m("Safari")},Mt=function(e,n){return function(){return n===e}},It=function(e){var n=e.current;return{current:n,version:e.version,isWindows:Mt("Windows",n),isiOS:Mt("iOS",n),isAndroid:Mt("Android",n),isOSX:Mt("OSX",n),isLinux:Mt("Linux",n),isSolaris:Mt("Solaris",n),isFreeBSD:Mt("FreeBSD",n)}},Dt={unknown:function(){return It({current:void 0,version:St.unknown()})},nu:It,windows:m("Windows"),ios:m("iOS"),android:m("Android"),linux:m("Linux"),osx:m("OSX"),solaris:m("Solaris"),freebsd:m("FreeBSD")},Tt=function(e,n){var t=String(n).toLowerCase();return q(e,function(e){return e.search(t)})},Nt=function(e,n){return Tt(e,n).map(function(e){var t=St.detect(e.versionRegexes,n);return{current:e.name,version:t}})},Bt=function(e,n){return Tt(e,n).map(function(e){var t=St.detect(e.versionRegexes,n);return{current:e.name,version:t}})},Ft=function(e,n){return-1!==e.indexOf(n)},Lt=function(e){return e.replace(/^\s+|\s+$/g,"")},Ht=function(e){return e.replace(/\s+$/g,"")},zt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Vt=function(e){return function(n){return Ft(n,e)}},qt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Ft(e,"edge/")&&Ft(e,"chrome")&&Ft(e,"safari")&&Ft(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,zt],search:function(e){return Ft(e,"chrome")&&!Ft(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Ft(e,"msie")||Ft(e,"trident")}},{name:"Opera",versionRegexes:[zt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Vt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Vt("firefox")},{name:"Safari",versionRegexes:[zt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Ft(e,"safari")||Ft(e,"mobile/"))&&Ft(e,"applewebkit")}}],jt=[{name:"Windows",search:Vt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Ft(e,"iphone")||Ft(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Vt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Vt("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Vt("linux"),versionRegexes:[]},{name:"Solaris",search:Vt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Vt("freebsd"),versionRegexes:[]}],Wt={browsers:m(qt),oses:m(jt)},Ut=function(e){var n=Wt.browsers(),t=Wt.oses(),l=Nt(n,e).fold(Pt.unknown,Pt.nu),r=Bt(t,e).fold(Dt.unknown,Dt.nu);return{browser:l,os:r,deviceType:function(e,n,t){var l=e.isiOS()&&!0===/ipad/i.test(t),r=e.isiOS()&&!l,o=e.isAndroid()&&3===e.version.major,i=e.isAndroid()&&4===e.version.major,u=l||o||i&&!0===/mobile/i.test(t),a=e.isiOS()||e.isAndroid(),s=a&&!u,c=n.isSafari()&&e.isiOS()&&!1===/safari/i.test(t);return{isiPad:m(l),isiPhone:m(r),isTablet:m(u),isPhone:m(s),isTouch:m(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:m(c)}}(r,l,e)}},Qt={detect:(xt=function(){var e=navigator.userAgent;return Ut(e)},At=!1,function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return At||(At=!0,_t=xt.apply(null,e)),_t})},Gt=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:m(e)}},Kt={fromHtml:function(e,n){var t=(n||document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||t.childNodes.length>1)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return Gt(t.childNodes[0])},fromTag:function(e,n){var t=(n||document).createElement(e);return Gt(t)},fromText:function(e,n){var t=(n||document).createTextNode(e);return Gt(t)},fromDom:Gt,fromPoint:function(e,n,t){var l=e.dom();return O.from(l.elementFromPoint(n,t)).map(Gt)}},Yt=(Node.ATTRIBUTE_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE,Node.DOCUMENT_NODE),Zt=(Node.DOCUMENT_TYPE_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE),Jt=Node.TEXT_NODE,Xt=(Node.PROCESSING_INSTRUCTION_NODE,Node.ENTITY_REFERENCE_NODE,Node.ENTITY_NODE,Node.NOTATION_NODE,function(e){return e.dom().nodeName.toLowerCase()}),$t=function(e){return function(n){return function(e){return e.dom().nodeType}(n)===e}},el=$t(Zt),nl=$t(Jt),tl=Object.keys,ll=Object.hasOwnProperty,rl=function(e,n){for(var t=tl(e),l=0,r=t.length;l<r;l++){var o=t[l];n(e[o],o,e)}},ol=function(e,n){return il(e,function(e,t,l){return{k:t,v:n(e,t,l)}})},il=function(e,n){var t={};return rl(e,function(l,r){var o=n(l,r,e);t[o.k]=o.v}),t},ul=function(e,n,t){if(!(E(t)||I(t)||T(t)))throw console.error("Invalid call to Attr.set. Key ",n,":: Value ",t,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,t+"")},al=function(e,n,t){ul(e.dom(),n,t)},sl=function(e,n){var t=e.dom();rl(n,function(e,n){ul(t,n,e)})},cl=function(e,n){var t=e.dom().getAttribute(n);return null===t?void 0:t},dl=function(e,n){e.dom().removeAttribute(n)},fl=function(e){return void 0!==e.style},pl=function(e,n){var t=e.dom();rl(n,function(e,n){!function(e,n,t){if(!E(t))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",t,":: Element ",e),new Error("CSS value must be a string: "+t);fl(e)&&e.style.setProperty(n,t)}(t,n,e)})},hl=function(e,n){var t=e.dom(),l=window.getComputedStyle(t).getPropertyValue(n),r=""!==l||function(e){var n=nl(e)?e.dom().parentNode:e.dom();return void 0!==n&&null!==n&&n.ownerDocument.body.contains(n)}(e)?l:gl(t,n);return null===r?void 0:r},gl=function(e,n){return fl(e)?e.style.getPropertyValue(n):""},ml=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(e.length!==n.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+n.length+" arguments");var l={};return L(e,function(e,t){l[e]=m(n[t])}),l}},vl=function(e,n){var t=[],l=function(e){return t.push(e),n(e)},r=n(e);do{r=r.bind(l)}while(r.isSome());return t},bl=function(){return ne.getOrDie("Node")},yl=function(e,n,t){return 0!==(e.compareDocumentPosition(n)&t)},Cl=function(e,n){return yl(e,n,bl().DOCUMENT_POSITION_CONTAINED_BY)},wl=Zt,xl=Yt,_l=function(e,n){var t=e.dom();if(t.nodeType!==wl)return!1;if(void 0!==t.matches)return t.matches(n);if(void 0!==t.msMatchesSelector)return t.msMatchesSelector(n);if(void 0!==t.webkitMatchesSelector)return t.webkitMatchesSelector(n);if(void 0!==t.mozMatchesSelector)return t.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},Al=function(e){return e.nodeType!==wl&&e.nodeType!==xl||0===e.childElementCount},kl=function(e,n){return e.dom()===n.dom()},Ol=Qt.detect().browser.isIE()?function(e,n){return Cl(e.dom(),n.dom())}:function(e,n){var t=e.dom(),l=n.dom();return t!==l&&t.contains(l)},Sl=function(e){return Kt.fromDom(e.dom().ownerDocument)},El=function(e){var n=e.dom();return O.from(n.parentNode).map(Kt.fromDom)},Rl=function(e){var n=e.dom();return O.from(n.previousSibling).map(Kt.fromDom)},Pl=function(e){var n=e.dom();return O.from(n.nextSibling).map(Kt.fromDom)},Ml=function(e){return n=vl(e,Rl),(t=K.call(n,0)).reverse(),t;var n,t},Il=function(e){var n=e.dom();return F(n.childNodes,Kt.fromDom)},Dl=function(e,n){var t=e.dom().childNodes;return O.from(t[n]).map(Kt.fromDom)},Tl=function(e){return Dl(e,e.dom().childNodes.length-1)},Nl=(ml("element","offset"),Qt.detect().browser),Bl=function(e){return q(e,el)},Fl=function(e){return Nl.isFirefox()&&"table"===Xt(e)?Bl(Il(e)).filter(function(e){return"caption"===Xt(e)}).bind(function(e){return Bl((n=e,vl(n,Pl))).map(function(n){var t=n.dom().offsetTop,l=e.dom().offsetTop,r=e.dom().offsetHeight;return t<=l?-r:0});var n}).getOr(0):0},Ll={getPos:function(e,n,t){var l,r,o=0,i=0,u=e.ownerDocument;if(t=t||e,n){if(t===e&&n.getBoundingClientRect&&"static"===hl(Kt.fromDom(e),"position"))return{x:o=(r=n.getBoundingClientRect()).left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,y:i=r.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop};for(l=n;l&&l!==t&&l.nodeType;)o+=l.offsetLeft||0,i+=l.offsetTop||0,l=l.offsetParent;for(l=n.parentNode;l&&l!==t&&l.nodeType;)o-=l.scrollLeft||0,i-=l.scrollTop||0,l=l.parentNode;i+=Fl(Kt.fromDom(n))}return{x:o,y:i}}},Hl=function(e){var n=O.none(),t=[],l=function(e){r()?i(e):t.push(e)},r=function(){return n.isSome()},o=function(e){L(e,i)},i=function(e){n.each(function(n){setTimeout(function(){e(n)},0)})};return e(function(e){n=O.some(e),o(t),t=[]}),{get:l,map:function(e){return Hl(function(n){l(function(t){n(e(t))})})},isReady:r}},zl={nu:Hl,pure:function(e){return Hl(function(n){n(e)})}},Vl=function(e){var n=function(n){var t;e((t=n,function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var l=this;setTimeout(function(){t.apply(l,e)},0)}))},t=function(){return zl.nu(n)};return{map:function(e){return Vl(function(t){n(function(n){var l=e(n);t(l)})})},bind:function(e){return Vl(function(t){n(function(n){e(n).get(t)})})},anonBind:function(e){return Vl(function(t){n(function(n){e.get(t)})})},toLazy:t,toCached:function(){var e=null;return Vl(function(n){null===e&&(e=t()),e.get(n)})},get:n}},ql={nu:Vl,pure:function(e){return Vl(function(n){n(e)})}},jl=function(e,n){return n(function(n){var t=[],l=0;0===e.length?n([]):L(e,function(r,o){r.get(function(r){return function(o){t[r]=o,++l>=e.length&&n(t)}}(o))})})},Wl=function(e){return jl(e,ql.nu)},Ul=function(e){return{is:function(n){return e===n},isValue:C,isError:y,getOr:m(e),getOrThunk:m(e),getOrDie:m(e),or:function(n){return Ul(e)},orThunk:function(n){return Ul(e)},fold:function(n,t){return t(e)},map:function(n){return Ul(n(e))},each:function(n){n(e)},bind:function(n){return n(e)},exists:function(n){return n(e)},forall:function(n){return n(e)},toOption:function(){return O.some(e)}}},Ql=function(e){return{is:y,isValue:y,isError:C,getOr:v,getOrThunk:function(e){return e()},getOrDie:function(){return(n=String(e),function(){throw new Error(n)})();var n},or:function(e){return e},orThunk:function(e){return e()},fold:function(n,t){return n(e)},map:function(n){return Ql(e)},each:h,bind:function(n){return Ql(e)},exists:y,forall:C,toOption:O.none}},Gl={value:Ul,error:Ql};function Kl(e,n){var t=e,l=function(e,t,l,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==n){if(o=e[l])return o;for(i=e.parentNode;i&&i!==n;i=i.parentNode)if(o=i[l])return o}}};this.current=function(){return t},this.next=function(e){return t=l(t,"firstChild","nextSibling",e)},this.prev=function(e){return t=l(t,"lastChild","previousSibling",e)},this.prev2=function(e){return t=function(e,t,l,r){var o,i,u;if(e){if(o=e[l],n&&o===n)return;if(o){if(!r)for(u=o[t];u;u=u[t])if(!u[t])return u;return o}if((i=e.parentNode)&&i!==n)return i}}(t,"lastChild","previousSibling",e)}}var Yl,Zl,Jl,Xl=function(e){var n;return function(t){return(n=n||function(e,n){for(var t={},l=0,r=e.length;l<r;l++){var o=e[l];t[String(o)]=n(o,l)}return t}(e,m(!0))).hasOwnProperty(Xt(t))}},$l=Xl(["h1","h2","h3","h4","h5","h6"]),er=Xl(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),nr=function(e){return el(e)&&!er(e)},tr=function(e){return el(e)&&"br"===Xt(e)},lr=Xl(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),rr=Xl(["ul","ol","dl"]),or=Xl(["li","dd","dt"]),ir=Xl(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),ur=Xl(["thead","tbody","tfoot"]),ar=Xl(["td","th"]),sr=Xl(["pre","script","textarea","style"]),cr=function(e){return function(n){return!!n&&n.nodeType===e}},dr=cr(1),fr=function(e){var n=e.toLowerCase().split(" ");return function(e){var t,l;if(e&&e.nodeType)for(l=e.nodeName.toLowerCase(),t=0;t<n.length;t++)if(l===n[t])return!0;return!1}},pr=function(e){return function(n){if(dr(n)){if(n.contentEditable===e)return!0;if(n.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},hr=cr(3),gr=cr(8),mr=cr(9),vr=fr("br"),br=pr("true"),yr=pr("false"),Cr={isText:hr,isElement:dr,isComment:gr,isDocument:mr,isBr:vr,isContentEditableTrue:br,isContentEditableFalse:yr,matchNodeNames:fr,hasPropValue:function(e,n){return function(t){return dr(t)&&t[e]===n}},hasAttribute:function(e,n){return function(n){return dr(n)&&n.hasAttribute(e)}},hasAttributeValue:function(e,n){return function(t){return dr(t)&&t.getAttribute(e)===n}},matchStyleValues:function(e,n){var t=n.toLowerCase().split(" ");return function(n){var l;if(dr(n))for(l=0;l<t.length;l++){var r=n.ownerDocument.defaultView.getComputedStyle(n,null);if((r?r.getPropertyValue(e):null)===t[l])return!0}return!1}},isBogus:function(e){return dr(e)&&e.hasAttribute("data-mce-bogus")},isBogusAll:function(e){return dr(e)&&"all"===e.getAttribute("data-mce-bogus")},isTable:function(e){return dr(e)&&"TABLE"===e.tagName}},wr=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},xr=function(e,n){var t,l=n.childNodes;if(!Cr.isElement(n)||!wr(n)){for(t=l.length-1;t>=0;t--)xr(e,l[t]);if(!1===Cr.isDocument(n)){if(Cr.isText(n)&&n.nodeValue.length>0){var r=Gn.trim(n.nodeValue).length;if(e.isBlock(n.parentNode)||r>0)return;if(0===r&&function(e){var n=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,t=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return n&&t}(n))return}else if(Cr.isElement(n)&&(1===(l=n.childNodes).length&&wr(l[0])&&n.parentNode.insertBefore(l[0],n),l.length||ir(Kt.fromDom(n))))return;e.remove(n)}return n}},_r={trimNode:xr},Ar=Gn.makeMap,kr=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Or=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sr=/[<>&\"\']/g,Er=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Rr={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};Zl={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Jl={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Pr=function(e,n){var t,l,r,o={};if(e){for(e=e.split(","),n=n||10,t=0;t<e.length;t+=2)l=String.fromCharCode(parseInt(e[t],n)),Zl[l]||(r="&"+e[t+1]+";",o[l]=r,o[r]=l);return o}};Yl=Pr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Mr=function(e,n){return e.replace(n?kr:Or,function(e){return Zl[e]||e})},Ir=function(e,n){return e.replace(n?kr:Or,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Zl[e]||"&#"+e.charCodeAt(0)+";"})},Dr=function(e,n,t){return t=t||Yl,e.replace(n?kr:Or,function(e){return Zl[e]||t[e]||e})},Tr={encodeRaw:Mr,encodeAllRaw:function(e){return(""+e).replace(Sr,function(e){return Zl[e]||e})},encodeNumeric:Ir,encodeNamed:Dr,getEncodeFunc:function(e,n){var t=Pr(n)||Yl,l=Ar(e.replace(/\+/g,","));return l.named&&l.numeric?function(e,n){return e.replace(n?kr:Or,function(e){return void 0!==Zl[e]?Zl[e]:void 0!==t[e]?t[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:l.named?n?function(e,n){return Dr(e,n,t)}:Dr:l.numeric?Ir:Mr},decode:function(e){return e.replace(Er,function(e,n){return n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10))>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):Rr[n]||String.fromCharCode(n):Jl[e]||Yl[e]||(t=e,(l=Kt.fromTag("div").dom()).innerHTML=t,l.textContent||l.innerText||t);var t,l})}},Nr={},Br={},Fr=Gn.makeMap,Lr=Gn.each,Hr=Gn.extend,zr=Gn.explode,Vr=Gn.inArray,qr=function(e,n){return(e=Gn.trim(e))?e.split(n||" "):[]},jr=function(e){var n,t,l,r,o,i,u={},a=function(e,t,l){var r,o,i,a=function(e,n){var t,l,r={};for(t=0,l=e.length;t<l;t++)r[e[t]]=n||{};return r};for(l=l||[],t=t||"","string"===typeof l&&(l=qr(l)),r=(e=qr(e)).length;r--;)i={attributes:a(o=qr([n,t].join(" "))),attributesOrder:o,children:a(l,Br)},u[e[r]]=i},s=function(e,n){var t,l,r,o;for(t=(e=qr(e)).length,n=qr(n);t--;)for(l=u[e[t]],r=0,o=n.length;r<o;r++)l.attributes[n[r]]={},l.attributesOrder.push(n[r])};return Nr[e]?Nr[e]:(n="id accesskey class dir lang style tabindex title role",t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",t+=" article aside details dialog figure main header footer hgroup section nav",l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(n+=" xml:lang",l=[l,i="acronym applet basefont big font strike tt"].join(" "),Lr(qr(i),function(e){a(e,"",l)}),t=[t,o="center dir isindex noframes"].join(" "),r=[t,l].join(" "),Lr(qr(o),function(e){a(e,"",r)})),r=r||[t,l].join(" "),a("html","manifest","head body"),a("head","","base command link meta noscript script style title"),a("title hr noscript br"),a("base","href target"),a("link","href rel media hreflang type sizes hreflang"),a("meta","name http-equiv content charset"),a("style","media type scoped"),a("script","src async defer type charset"),a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),a("address dt dd div caption","",r),a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),a("blockquote","cite",r),a("ol","reversed start type","li"),a("ul","","li"),a("li","value",r),a("dl","","dt dd"),a("a","href target rel media hreflang type",l),a("q","cite",l),a("ins del","cite datetime",r),a("img","src sizes srcset alt usemap ismap width height"),a("iframe","src name width height",r),a("embed","src type width height"),a("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),a("param","name value"),a("map","name",[r,"area"].join(" ")),a("area","alt coords shape href target rel media hreflang type"),a("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),a("colgroup","span","col"),a("col","span"),a("tbody thead tfoot","","tr"),a("tr","","td th"),a("td","colspan rowspan headers",r),a("th","colspan rowspan headers scope abbr",r),a("form","accept-charset action autocomplete enctype method name novalidate target",r),a("fieldset","disabled form name",[r,"legend"].join(" ")),a("label","form for",l),a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:l),a("select","disabled form multiple name required size","option optgroup"),a("optgroup","disabled label","option"),a("option","disabled label selected value"),a("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),a("menu","type label",[r,"li"].join(" ")),a("noscript","",r),"html4"!==e&&(a("wbr"),a("ruby","",[l,"rt rp"].join(" ")),a("figcaption","",r),a("mark rt rp summary bdi","",l),a("canvas","width height",r),a("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),a("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),a("picture","","img source"),a("source","src srcset type media sizes"),a("track","kind src srclang label default"),a("datalist","",[l,"option"].join(" ")),a("article section nav aside main header footer","",r),a("hgroup","","h1 h2 h3 h4 h5 h6"),a("figure","",[r,"figcaption"].join(" ")),a("time","datetime",l),a("dialog","open",r),a("command","type label icon disabled checked radiogroup command"),a("output","for form name",l),a("progress","value max",l),a("meter","value min max low high optimum",l),a("details","open",[r,"summary"].join(" ")),a("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(s("script","language xml:space"),s("style","xml:space"),s("object","declare classid code codebase codetype archive standby align border hspace vspace"),s("embed","align name hspace vspace"),s("param","valuetype type"),s("a","charset name rev shape coords"),s("br","clear"),s("applet","codebase archive code object alt name width height align hspace vspace"),s("img","name longdesc align border hspace vspace"),s("iframe","longdesc frameborder marginwidth marginheight scrolling align"),s("font basefont","size color face"),s("input","usemap align"),s("select","onchange"),s("textarea"),s("h1 h2 h3 h4 h5 h6 div p legend caption","align"),s("ul","type compact"),s("li","type"),s("ol dl menu dir","compact"),s("pre","width xml:space"),s("hr","align noshade size width"),s("isindex","prompt"),s("table","summary width frame rules cellspacing cellpadding align bgcolor"),s("col","width align char charoff valign"),s("colgroup","width align char charoff valign"),s("thead","align char charoff valign"),s("tr","align char charoff valign bgcolor"),s("th","axis align char charoff valign nowrap bgcolor width height"),s("form","accept"),s("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),s("tfoot","align char charoff valign"),s("tbody","align char charoff valign"),s("area","nohref"),s("body","background bgcolor text link vlink alink")),"html4"!==e&&(s("input button select textarea","autofocus"),s("input textarea","placeholder"),s("a","download"),s("link script img","crossorigin"),s("iframe","sandbox seamless allowfullscreen")),Lr(qr("a form meter progress dfn"),function(e){u[e]&&delete u[e].children[e]}),delete u.caption.children.table,delete u.script,Nr[e]=u,u)},Wr=function(e,n){var t;return e&&(t={},"string"===typeof e&&(e={"*":e}),Lr(e,function(e,l){t[l]=t[l.toUpperCase()]="map"===n?Fr(e,/[, ]/):zr(e,/[, ]/)})),t};function Ur(e){var n,t,l,r,o,i,u,a,s,c,d,f,p,h={},g={},m=[],v={},b={},y=function(n,t,l){var r=e[n];return r?r=Fr(r,/[, ]/,Fr(r.toUpperCase(),/[, ]/)):(r=Nr[n])||(r=Fr(t," ",Fr(t.toUpperCase()," ")),r=Hr(r,l),Nr[n]=r),r};l=jr((e=e||{}).schema),!1===e.verify_html&&(e.valid_elements="*[*]"),n=Wr(e.valid_styles),t=Wr(e.invalid_styles,"map"),a=Wr(e.valid_classes,"map"),r=y("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=y("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),i=y("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),u=y("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),c=y("non_empty_elements","td th iframe video audio object script pre code",i),d=y("move_caret_before_on_enter_elements","table",c),f=y("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),s=y("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",f),p=y("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),Lr((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){b[e]=new RegExp("</"+e+"[^>]*>","gi")});var C=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},w=function(e){var n,t,l,r,o,i,u,a,s,c,d,f,p,g,v,b,y,w,x,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,A=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(e)for(e=qr(e,","),h["@"]&&(b=h["@"].attributes,y=h["@"].attributesOrder),n=0,t=e.length;n<t;n++)if(o=_.exec(e[n])){if(g=o[1],s=o[2],v=o[3],a=o[5],i={attributes:f={},attributesOrder:p=[]},"#"===g&&(i.paddEmpty=!0),"-"===g&&(i.removeEmpty=!0),"!"===o[4]&&(i.removeEmptyAttrs=!0),b){for(w in b)f[w]=b[w];p.push.apply(p,y)}if(a)for(l=0,r=(a=qr(a,"|")).length;l<r;l++)if(o=A.exec(a[l])){if(u={},d=o[1],c=o[2].replace(/[\\:]:/g,":"),g=o[3],x=o[4],"!"===d&&(i.attributesRequired=i.attributesRequired||[],i.attributesRequired.push(c),u.required=!0),"-"===d){delete f[c],p.splice(Vr(p,c),1);continue}g&&("="===g&&(i.attributesDefault=i.attributesDefault||[],i.attributesDefault.push({name:c,value:x}),u.defaultValue=x),":"===g&&(i.attributesForced=i.attributesForced||[],i.attributesForced.push({name:c,value:x}),u.forcedValue=x),"<"===g&&(u.validValues=Fr(x,"?"))),k.test(c)?(i.attributePatterns=i.attributePatterns||[],u.pattern=C(c),i.attributePatterns.push(u)):(f[c]||p.push(c),f[c]=u)}b||"@"!==s||(b=f,y=p),v&&(i.outputName=s,h[v]=i),k.test(s)?(i.pattern=C(s),m.push(i)):h[s]=i}},x=function(e){h={},m=[],w(e),Lr(l,function(e,n){g[n]=e.children})},_=function(e){var n=/^(~)?(.+)$/;e&&(Nr.text_block_elements=Nr.block_elements=null,Lr(qr(e,","),function(e){var t=n.exec(e),l="~"===t[1],r=l?"span":"div",o=t[2];if(g[o]=g[r],v[o]=r,l||(s[o.toUpperCase()]={},s[o]={}),!h[o]){var i=h[r];delete(i=Hr({},i)).removeEmptyAttrs,delete i.removeEmpty,h[o]=i}Lr(g,function(e,n){e[r]&&(g[n]=e=Hr({},g[n]),e[o]=e[r])})}))},A=function(n){var t=/^([+\-]?)(\w+)\[([^\]]+)\]$/;Nr[e.schema]=null,n&&Lr(qr(n,","),function(e){var n,l,r=t.exec(e);r&&(l=r[1],n=l?g[r[2]]:g[r[2]]={"#comment":{}},n=g[r[2]],Lr(qr(r[3],"|"),function(e){"-"===l?delete n[e]:n[e]={}}))})},k=function(e){var n,t=h[e];if(t)return t;for(n=m.length;n--;)if((t=m[n]).pattern.test(e))return t};return e.valid_elements?x(e.valid_elements):(Lr(l,function(e,n){h[n]={attributes:e.attributes,attributesOrder:e.attributesOrder},g[n]=e.children}),"html5"!==e.schema&&Lr(qr("strong/b em/i"),function(e){e=qr(e,"/"),h[e[1]].outputName=e[0]}),Lr(qr("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){h[e]&&(h[e].removeEmpty=!0)}),Lr(qr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){h[e].paddEmpty=!0}),Lr(qr("span"),function(e){h[e].removeEmptyAttrs=!0})),_(e.custom_elements),A(e.valid_children),w(e.extended_valid_elements),A("+ol[ul|ol],+ul[ul|ol]"),Lr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,n){h[n]&&(h[n].parentsRequired=qr(e))}),e.invalid_elements&&Lr(zr(e.invalid_elements),function(e){h[e]&&delete h[e]}),k("span")||w("span[!data-mce-type|*]"),{children:g,elements:h,getValidStyles:function(){return n},getValidClasses:function(){return a},getBlockElements:function(){return s},getInvalidStyles:function(){return t},getShortEndedElements:function(){return i},getTextBlockElements:function(){return f},getTextInlineElements:function(){return p},getBoolAttrs:function(){return u},getElementRule:k,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return c},getMoveCaretBeforeOnEnterElements:function(){return d},getWhiteSpaceElements:function(){return r},getSpecialElements:function(){return b},isValidChild:function(e,n){var t=g[e.toLowerCase()];return!(!t||!t[n.toLowerCase()])},isValid:function(e,n){var t,l,r=k(e);if(r){if(!n)return!0;if(r.attributes[n])return!0;if(t=r.attributePatterns)for(l=t.length;l--;)if(t[l].pattern.test(e))return!0}return!1},getCustomElements:function(){return v},addValidElements:w,setValidElements:x,addCustomElements:_,addValidChildren:A}}var Qr=function(e,n,t,l){var r=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+r(n)+r(t)+r(l)};function Gr(e,n){var t,l,r,o,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,c={};for(e=e||{},n&&(r=n.getValidStyles(),o=n.getInvalidStyles()),l="\\\" \\' \\; \\: ; : \ufeff".split(" "),t=0;t<l.length;t++)c[l[t]]="\ufeff"+t,c["\ufeff"+t]=l[t];return{toHex:function(e){return e.replace(i,Qr)},parse:function(n){var l,r,o,d,f,p,h,g,m={},v=e.url_converter,b=e.url_converter_scope||this,y=function(e,n,l){var r,o,i,u;if((r=m[e+"-top"+n])&&(o=m[e+"-right"+n])&&(i=m[e+"-bottom"+n])&&(u=m[e+"-left"+n])){var a=[r,o,i,u];for(t=a.length-1;t--&&a[t]===a[t+1];);t>-1&&l||(m[e+n]=-1===t?a[0]:a.join(" "),delete m[e+"-top"+n],delete m[e+"-right"+n],delete m[e+"-bottom"+n],delete m[e+"-left"+n])}},C=function(e){var n,t=m[e];if(t){for(n=(t=t.split(" ")).length;n--;)if(t[n]!==t[0])return!1;return m[e]=t[0],!0}},w=function(e){return d=!0,c[e]},x=function(e,n){return d&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return c[e]})),n||(e=e.replace(/\\([\'\";:])/g,"$1")),e},_=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},A=function(e){return e.replace(/\\[0-9a-f]+/gi,_)},k=function(n,t,l,r,o,i){if(o=o||i)return"'"+(o=x(o)).replace(/\'/g,"\\'")+"'";if(t=x(t||l||r),!e.allow_script_urls){var u=t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return v&&(t=v.call(b,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')"};if(n){for(n=(n=n.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,w).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,w)});l=a.exec(n);)if(a.lastIndex=l.index+l[0].length,r=l[1].replace(s,"").toLowerCase(),o=l[2].replace(s,""),r&&o){if(r=A(r),o=A(o),-1!==r.indexOf("\ufeff")||-1!==r.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===r||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===r&&"700"===o?o="bold":"color"!==r&&"background-color"!==r||(o=o.toLowerCase()),o=(o=o.replace(i,Qr)).replace(u,k),m[r]=d?x(o,!0):o}y("border","",!0),y("border","-width"),y("border","-color"),y("border","-style"),y("padding",""),y("margin",""),f="border",h="border-style",g="border-color",C(p="border-width")&&C(h)&&C(g)&&(m[f]=m[p]+" "+m[h]+" "+m[g],delete m[p],delete m[h],delete m[g]),"medium none"===m.border&&delete m.border,"none"===m["border-image"]&&delete m["border-image"]}return m},serialize:function(e,n){var t,l,i="",u=function(n){var t,l,o,u;if(t=r[n])for(l=0,o=t.length;l<o;l++)n=t[l],(u=e[n])&&(i+=(i.length>0?" ":"")+n+": "+u+";")},a=function(e,n){var t;return(!(t=o["*"])||!t[e])&&(!(t=o[n])||!t[e])};if(n&&r)u("*"),u(n);else for(t in e)!(l=e[t])||o&&!a(t,n)||(i+=(i.length>0?" ":"")+t+": "+l+";");return i}}}var Kr=Gn.each,Yr=Gn.grep,Zr=ae.ie,Jr=/^([a-z0-9],?)+$/i,Xr=/^[ \t\r\n]*$/,$r=function(e,n,t){var l={},r=n.keep_values,o={set:function(e,l,r){n.url_converter&&(l=n.url_converter.call(n.url_converter_scope||t(),l,r,e[0])),e.attr("data-mce-"+r,l).attr(r,l)},get:function(e,n){return e.attr("data-mce-"+n)||e.attr(n)}};return l={style:{set:function(e,n){null===n||"object"!==typeof n?(r&&e.attr("data-mce-style",n),e.attr("style",n)):e.css(n)},get:function(n){var t=n.attr("data-mce-style")||n.attr("style");return t=e.serialize(e.parse(t),n[0].nodeName)}}},r&&(l.href=l.src=o),l},eo=function(e,n){var t=n.attr("style"),l=e.serialize(e.parse(t),n[0].nodeName);l||(l=null),n.attr("data-mce-style",l)},no=function(e,n){var t,l,r=0;if(e)for(t=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)l=e.nodeType,(!n||3!==l||l!==t&&e.nodeValue.length)&&(r++,t=l);return r};function to(e,n){var t,l=this;void 0===n&&(n={});var r={},o=window,i={},u=0,a=function(e,n){void 0===n&&(n={});var t,l=0,r={};t=n.maxLoadTime||5e3;var o=function(n){e.getElementsByTagName("head")[0].appendChild(n)},i=function(i,u,a){var s,c,d,f,p=function(){for(var e=f.passed,n=e.length;n--;)e[n]();f.status=2,f.passed=[],f.failed=[]},h=function(){for(var e=f.failed,n=e.length;n--;)e[n]();f.status=3,f.passed=[],f.failed=[]},g=function(e,n){e()||((new Date).getTime()-d<t?pe.setTimeout(n):h())},m=function(){g(function(){for(var n,t,l=e.styleSheets,r=l.length;r--;)if((t=(n=l[r]).ownerNode?n.ownerNode:n.owningElement)&&t.id===s.id)return p(),!0},m)},v=function(){g(function(){try{var e=c.sheet.cssRules;return p(),!!e}catch(e){}},v)};if(i=Gn._addCacheSuffix(i),r[i]?f=r[i]:(f={passed:[],failed:[]},r[i]=f),u&&f.passed.push(u),a&&f.failed.push(a),1!==f.status)if(2!==f.status)if(3!==f.status){if(f.status=1,(s=e.createElement("link")).rel="stylesheet",s.type="text/css",s.id="u"+l++,s.async=!1,s.defer=!1,d=(new Date).getTime(),n.contentCssCors&&(s.crossOrigin="anonymous"),"onload"in s&&!((b=navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(b[1],10)<536))s.onload=m,s.onerror=h;else{if(navigator.userAgent.indexOf("Firefox")>0)return(c=e.createElement("style")).textContent='@import "'+i+'"',v(),void o(c);m()}var b;o(s),s.href=i}else h();else p()},u=function(e){return ql.nu(function(n){i(e,g(n,m(Gl.value(e))),g(n,m(Gl.error(e))))})},a=function(e){return e.fold(v,v)};return{load:i,loadAll:function(e,n,t){Wl(F(e,u)).get(function(e){var l=H(e,function(e){return e.isValue()});l.fail.length>0?t(l.fail.map(a)):n(l.pass.map(a))})}}}(e,{contentCssCors:n.contentCssCors}),s=[],c=n.schema?n.schema:Ur({}),d=Gr({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),f=n.ownEvents?new xe(n.proxy):xe.Event,p=c.getBlockElements(),h=ft.overrideDefaults(function(){return{context:e,element:Q.getRoot()}}),b=function(n){if(n&&e&&"string"===typeof n){var t=e.getElementById(n);return t&&t.id!==n?e.getElementsByName(n)[1]:t}return n},y=function(e){return"string"===typeof e&&(e=b(e)),h(e)},C=function(e,n,l){var r,o,i=y(e);return i.length&&(o=(r=t[n])&&r.get?r.get(i,n):i.attr(n)),"undefined"===typeof o&&(o=l||""),o},w=function(e){var n=b(e);return n?n.attributes:[]},x=function(e,l,r){var o,i;""===r&&(r=null);var u=y(e);o=u.attr(l),u.length&&((i=t[l])&&i.set?i.set(u,r,l):u.attr(l,r),o!==r&&n.onSetAttrib&&n.onSetAttrib({attrElm:u,attrName:l,attrValue:r}))},_=function(){return n.root_element||e.body},A=function(n,t){return Ll.getPos(e.body,b(n),t)},k=function(e,n,t){var l=y(e);return t?l.css(n):("float"===(n=n.replace(/-(\D)/g,function(e,n){return n.toUpperCase()}))&&(n=ae.ie&&ae.ie<12?"styleFloat":"cssFloat"),l[0]&&l[0].style?l[0].style[n]:void 0)},O=function(e){var n,t;return e=b(e),n=k(e,"width"),t=k(e,"height"),-1===n.indexOf("px")&&(n=0),-1===t.indexOf("px")&&(t=0),{w:parseInt(n,10)||e.offsetWidth||e.clientWidth,h:parseInt(t,10)||e.offsetHeight||e.clientHeight}},S=function(e,n){var t;if(!e)return!1;if(!Array.isArray(e)){if("*"===n)return 1===e.nodeType;if(Jr.test(n)){var l=n.toLowerCase().split(/,/),r=e.nodeName.toLowerCase();for(t=l.length-1;t>=0;t--)if(l[t]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var o=Array.isArray(e)?e:[e];return An(n,o[0].ownerDocument||o[0],null,o).length>0},E=function(e,n,t,l){var r,o=[],i=b(e);for(l=void 0===l,t=t||("BODY"!==_().nodeName?_().parentNode:null),Gn.is(n,"string")&&(r=n,n="*"===n?function(e){return 1===e.nodeType}:function(e){return S(e,r)});i&&i!==t&&i.nodeType&&9!==i.nodeType;){if(!n||"function"===typeof n&&n(i)){if(!l)return[i];o.push(i)}i=i.parentNode}return l?o:null},R=function(e,n,t){var l=n;if(e)for("string"===typeof n&&(l=function(e){return S(e,n)}),e=e[t];e;e=e[t])if("function"===typeof l&&l(e))return e;return null},P=function(e,n,t){var r,o="string"===typeof e?b(e):e;if(!o)return!1;if(Gn.isArray(o)&&(o.length||0===o.length))return r=[],Kr(o,function(e,l){e&&("string"===typeof e&&(e=b(e)),r.push(n.call(t,e,l)))}),r;var i=t||l;return n.call(i,o)},M=function(e,n){y(e).each(function(e,t){Kr(n,function(e,n){x(t,n,e)})})},I=function(e,n){var t=y(e);Zr?t.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br>"+n,t.removeChild(t.firstChild)}catch(e){ft("<div></div>").html("<br>"+n).contents().slice(1).appendTo(t)}return n}}):t.html(n)},D=function(n,t,l,r,o){return P(n,function(n){var i="string"===typeof t?e.createElement(t):t;return M(i,l),r&&("string"!==typeof r&&r.nodeType?i.appendChild(r):"string"===typeof r&&I(i,r)),o?i:n.appendChild(i)})},T=function(n,t,l){return D(e.createElement(n),n,t,l,!0)},N=Tr.decode,B=Tr.encodeAllRaw,L=function(e,n){var t=y(e);return n?t.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():t.remove(),t.length>1?t.toArray():t[0]},z=function(e,n,t){y(e).toggleClass(n,t).each(function(){""===this.className&&ft(this).attr("class",null)})},V=function(e,n,t){return P(n,function(n){return Gn.is(n,"array")&&(e=e.cloneNode(!0)),t&&Kr(Yr(n.childNodes),function(n){e.appendChild(n)}),n.parentNode.replaceChild(e,n)})},q=function(){return e.createRange()},j=function(t,l,r,i){if(Gn.isArray(t)){for(var u=t.length;u--;)t[u]=j(t[u],l,r,i);return t}return!n.collect||t!==e&&t!==o||s.push([t,l,r,i]),f.bind(t,l,r,i||Q)},W=function(n,t,l){var r;if(Gn.isArray(n)){for(r=n.length;r--;)n[r]=W(n[r],t,l);return n}if(s&&(n===e||n===o))for(r=s.length;r--;){var i=s[r];n!==i[0]||t&&t!==i[1]||l&&l!==i[2]||f.unbind(i[0],i[1],i[2])}return f.unbind(n,t,l)},U=function(e){if(e&&Cr.isElement(e)){var n=e.getAttribute("data-mce-contenteditable");return n&&"inherit"!==n?n:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Q={doc:e,settings:n,win:o,files:i,stdMode:!0,boxModel:!0,styleSheetLoader:a,boundEvents:s,styles:d,schema:c,events:f,isBlock:function(e){if("string"===typeof e)return!!p[e];if(e){var n=e.nodeType;if(n)return!(1!==n||!p[e.nodeName])}return!1},$:h,$$:y,root:null,clone:function(n,t){if(!Zr||1!==n.nodeType||t)return n.cloneNode(t);if(!t){var l=e.createElement(n.nodeName);return Kr(w(n),function(e){x(l,e.nodeName,C(n,e.nodeName))}),l}return null},getRoot:_,getViewPort:function(e){var n=e||o,t=n.document,l=t.documentElement;return{x:n.pageXOffset||l.scrollLeft,y:n.pageYOffset||l.scrollTop,w:n.innerWidth||l.clientWidth,h:n.innerHeight||l.clientHeight}},getRect:function(e){var n,t;return e=b(e),n=A(e),t=O(e),{x:n.x,y:n.y,w:t.w,h:t.h}},getSize:O,getParent:function(e,n,t){var l=E(e,n,t,!1);return l&&l.length>0?l[0]:null},getParents:E,get:b,getNext:function(e,n){return R(e,n,"nextSibling")},getPrev:function(e,n){return R(e,n,"previousSibling")},select:function(t,l){return An(t,b(l)||n.root_element||e,[])},is:S,add:D,create:T,createHTML:function(e,n,t){var l,r="";for(l in r+="<"+e,n)n.hasOwnProperty(l)&&null!==n[l]&&"undefined"!==typeof n[l]&&(r+=" "+l+'="'+B(n[l])+'"');return"undefined"!==typeof t?r+">"+t+"</"+e+">":r+" />"},createFragment:function(n){var t,l=e.createElement("div"),r=e.createDocumentFragment();for(n&&(l.innerHTML=n);t=l.firstChild;)r.appendChild(t);return r},remove:L,setStyle:function(e,t,l){var r=y(e).css(t,l);n.update_styles&&eo(d,r)},getStyle:k,setStyles:function(e,t){var l=y(e).css(t);n.update_styles&&eo(d,l)},removeAllAttribs:function(e){return P(e,function(e){var n,t=e.attributes;for(n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))})},setAttrib:x,setAttribs:M,getAttrib:C,getPos:A,parseStyle:function(e){return d.parse(e)},serializeStyle:function(e,n){return d.serialize(e,n)},addStyle:function(n){var t,l;if(Q!==to.DOM&&e===document){if(r[n])return;r[n]=!0}(l=e.getElementById("mceDefaultStyles"))||((l=e.createElement("style")).id="mceDefaultStyles",l.type="text/css",(t=e.getElementsByTagName("head")[0]).firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l)),l.styleSheet?l.styleSheet.cssText+=n:l.appendChild(e.createTextNode(n))},loadCSS:function(n){var t;Q===to.DOM||e!==document?(n||(n=""),t=e.getElementsByTagName("head")[0],Kr(n.split(","),function(e){var n;e=Gn._addCacheSuffix(e),i[e]||(i[e]=!0,n=T("link",{rel:"stylesheet",href:e}),t.appendChild(n))})):to.DOM.loadCSS(n)},addClass:function(e,n){y(e).addClass(n)},removeClass:function(e,n){z(e,n,!1)},hasClass:function(e,n){return y(e).hasClass(n)},toggleClass:z,show:function(e){y(e).show()},hide:function(e){y(e).hide()},isHidden:function(e){return"none"===y(e).css("display")},uniqueId:function(e){return(e||"mce_")+u++},setHTML:I,getOuterHTML:function(e){var n="string"===typeof e?b(e):e;return Cr.isElement(n)?n.outerHTML:ft("<div></div>").append(ft(n).clone()).html()},setOuterHTML:function(e,n){y(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=n)}catch(e){}L(ft(this).html(n),!0)})},decode:N,encode:B,insertAfter:function(e,n){var t=b(n);return P(e,function(e){var n,l;return n=t.parentNode,(l=t.nextSibling)?n.insertBefore(e,l):n.appendChild(e),e})},replace:V,rename:function(e,n){var t;return e.nodeName!==n.toUpperCase()&&(t=T(n),Kr(w(e),function(n){x(t,n.nodeName,C(e,n.nodeName))}),V(t,e,!0)),t||e},findCommonAncestor:function(e,n){for(var t,l=e;l;){for(t=n;t&&l!==t;)t=t.parentNode;if(l===t)break;l=l.parentNode}return!l&&e.ownerDocument?e.ownerDocument.documentElement:l},toHex:function(e){return d.toHex(Gn.trim(e))},run:P,getAttribs:w,isEmpty:function(e,n){var t,l,r,o,i,u,a=0;if(e=e.firstChild){i=new Kl(e,e.parentNode),n=n||(c?c.getNonEmptyElements():null),o=c?c.getWhiteSpaceElements():{};do{if(r=e.nodeType,Cr.isElement(e)){var s=e.getAttribute("data-mce-bogus");if(s){e=i.next("all"===s);continue}if(u=e.nodeName.toLowerCase(),n&&n[u]){if("br"===u){a++,e=i.next();continue}return!1}for(t=(l=w(e)).length;t--;)if("name"===(u=l[t].nodeName)||"data-mce-bookmark"===u)return!1}if(8===r)return!1;if(3===r&&!Xr.test(e.nodeValue))return!1;if(3===r&&e.parentNode&&o[e.parentNode.nodeName]&&Xr.test(e.nodeValue))return!1;e=i.next()}while(e)}return a<=1},createRng:q,nodeIndex:no,split:function(e,n,t){var l,r,o,i=q();if(e&&n)return i.setStart(e.parentNode,no(e)),i.setEnd(n.parentNode,no(n)),l=i.extractContents(),(i=q()).setStart(n.parentNode,no(n)+1),i.setEnd(e.parentNode,no(e)+1),r=i.extractContents(),(o=e.parentNode).insertBefore(_r.trimNode(Q,l),e),t?o.insertBefore(t,e):o.insertBefore(n,e),o.insertBefore(_r.trimNode(Q,r),e),L(e),t||n},bind:j,unbind:W,fire:function(e,n,t){return f.fire(e,n,t)},getContentEditable:U,getContentEditableParent:function(e){for(var n=_(),t=null;e&&e!==n&&null===(t=U(e));e=e.parentNode);return t},destroy:function(){if(s)for(var e=s.length;e--;){var n=s[e];f.unbind(n[0],n[1],n[2])}An.setDocument&&An.setDocument()},isChildOf:function(e,n){for(;e;){if(n===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}};return t=$r(d,n,function(){return Q}),Q}!function(e){e.DOM=e(document),e.nodeIndex=no}(to||(to={}));var lo=to,ro=lo.DOM,oo=Gn.each,io=Gn.grep,uo=function(e){return"function"===typeof e},ao=function(){var e={},n=[],t={},l=[],r=0;this.isDone=function(n){return 2===e[n]},this.markDone=function(n){e[n]=2},this.add=this.load=function(l,r,o,i){void 0===e[l]&&(n.push(l),e[l]=0),r&&(t[l]||(t[l]=[]),t[l].push({success:r,failure:i,scope:o||this}))},this.remove=function(n){delete e[n],delete t[n]},this.loadQueue=function(e,t,l){this.loadScripts(n,e,t,l)},this.loadScripts=function(n,o,i,u){var a,s=[],c=function(e,n){oo(t[n],function(n){uo(n[e])&&n[e].call(n.scope)}),t[n]=void 0};l.push({success:o,failure:u,scope:i||this}),(a=function(){var t=io(n);if(n.length=0,oo(t,function(n){2!==e[n]?3!==e[n]?1!==e[n]&&(e[n]=1,r++,function(e,n,t){var l,r,o=ro;r=o.uniqueId(),(l=document.createElement("script")).id=r,l.type="text/javascript",l.src=Gn._addCacheSuffix(e),l.onload=function(){o.remove(r),l&&(l.onreadystatechange=l.onload=l=null),n()},l.onerror=function(){uo(t)?t():"undefined"!==typeof console&&console.log&&console.log("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(l)}(n,function(){e[n]=2,r--,c("success",n),a()},function(){e[n]=3,r--,s.push(n),c("failure",n),a()})):c("failure",n):c("success",n)}),!r){var o=l.slice(0);l.length=0,oo(o,function(e){0===s.length?uo(e.success)&&e.success.call(e.scope):uo(e.failure)&&e.failure.call(e.scope,s)})}})()}};ao.ScriptLoader=new ao;var so=Gn.each;function co(){var e=this,n=[],t={},l={},r=[],o=function(e){var n;return l[e]&&(n=l[e].dependencies),n||[]},i=function(e,n){return"object"===typeof n?n:"string"===typeof e?{prefix:"",resource:n,suffix:""}:{prefix:e.prefix,resource:n,suffix:e.suffix}},u=function(e,n,t,l){var r=o(e);so(r,function(e){var t=i(n,e);a(t.resource,t,void 0,void 0)}),t&&(l?t.call(l):t.call(ao))},a=function(e,n,r,o,i){if(!t[e]){var a="string"===typeof n?n:n.prefix+n.resource+n.suffix;0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=co.baseURL+"/"+a),t[e]=a.substring(0,a.lastIndexOf("/")),l[e]?u(e,n,r,o):ao.ScriptLoader.add(a,function(){return u(e,n,r,o)},o,i)}};return{items:n,urls:t,lookup:l,_listeners:r,get:function(e){if(l[e])return l[e].instance},dependencies:o,requireLangPack:function(e,n){var l=co.language;if(l&&!1!==co.languageLoad){if(n)if(-1!==(n=","+n+",").indexOf(","+l.substr(0,2)+","))l=l.substr(0,2);else if(-1===n.indexOf(","+l+","))return;ao.ScriptLoader.add(t[e]+"/langs/"+l+".js")}},add:function(e,t,o){n.push(t),l[e]={instance:t,dependencies:o};var i=H(r,function(n){return n.name===e});return r=i.fail,so(i.pass,function(e){e.callback()}),t},remove:function(e){delete t[e],delete l[e]},createUrl:i,addComponents:function(n,t){var l=e.urls[n];so(t,function(e){ao.ScriptLoader.add(l+"/"+e)})},load:a,waitFor:function(e,n){l.hasOwnProperty(e)?n():r.push({name:e,callback:n})}}}!function(e){e.PluginManager=e(),e.ThemeManager=e()}(co||(co={}));var fo=function(e,n){El(e).each(function(t){t.dom().insertBefore(n.dom(),e.dom())})},po=function(e,n){Pl(e).fold(function(){El(e).each(function(e){ho(e,n)})},function(e){fo(e,n)})},ho=function(e,n){e.dom().appendChild(n.dom())},go=function(e,n){L(n,function(n){ho(e,n)})},mo=function(e){e.dom().textContent="",L(Il(e),function(e){vo(e)})},vo=function(e){var n=e.dom();null!==n.parentNode&&n.parentNode.removeChild(n)},bo=function(e){var n,t=Il(e);t.length>0&&(n=e,L(t,function(e){fo(n,e)})),vo(e)},yo=function(e,n){var t=null;return{cancel:function(){null!==t&&(clearTimeout(t),t=null)},throttle:function(){for(var l=[],r=0;r<arguments.length;r++)l[r]=arguments[r];null===t&&(t=setTimeout(function(){e.apply(null,l),t=null},n))}}},Co=function(e){var n=e,t=function(){return n};return{get:t,set:function(e){n=e},clone:function(){return Co(t())}}},wo=function(e,n){var t=cl(e,n);return void 0===t||""===t?[]:t.split(" ")},xo=function(e){return void 0!==e.dom().classList},_o=function(e,n){return function(e,n,t){var l=wo(e,n).concat([t]);return al(e,n,l.join(" ")),!0}(e,"class",n)},Ao=function(e,n){return function(e,n,t){var l=z(wo(e,n),function(e){return e!==t});return l.length>0?al(e,n,l.join(" ")):dl(e,n),!1}(e,"class",n)},ko=function(e,n){xo(e)?e.dom().classList.add(n):_o(e,n)},Oo=function(e){0===(xo(e)?e.dom().classList:function(e){return wo(e,"class")}(e)).length&&dl(e,"class")},So=function(e,n){return xo(e)&&e.dom().classList.contains(n)},Eo=function(e,n){return function(e,n){var t=void 0===n?document:n.dom();return Al(t)?[]:F(t.querySelectorAll(e),Kt.fromDom)}(n,e)};function Ro(e,n,t,l,r){return e(t,l)?O.some(t):D(r)&&r(t)?O.none():n(t,l,r)}var Po=function(e,n,t){for(var l=e.dom(),r=D(t)?t:m(!1);l.parentNode;){l=l.parentNode;var o=Kt.fromDom(l);if(n(o))return O.some(o);if(r(o))break}return O.none()},Mo=function(e,n,t){return Ro(function(e){return n(e)},Po,e,n,t)},Io=function(e,n,t){return Po(e,function(e){return _l(e,n)},t)},Do=function(e,n){return function(e,n){var t=void 0===n?document:n.dom();return Al(t)?O.none():O.from(t.querySelector(e)).map(Kt.fromDom)}(n,e)},To=function(e,n,t){return Ro(_l,Io,e,n,t)},No=m("mce-annotation"),Bo=m("data-mce-annotation"),Fo=m("data-mce-annotation-uid"),Lo=function(e,n){var t=e.selection.getRng(),l=Kt.fromDom(t.startContainer),r=Kt.fromDom(e.getBody()),o=n.fold(function(){return"."+No()},function(e){return"["+Bo()+'="'+e+'"]'}),i=Dl(l,t.startOffset).getOr(l),u=function(e,n){return t=n,(l=e.dom())&&l.hasAttribute&&l.hasAttribute(t)?O.some(cl(e,n)):O.none();var t,l};return To(i,o,function(e){return kl(e,r)}).bind(function(n){return u(n,""+Fo()).bind(function(t){return u(n,""+Bo()).map(function(n){var l=Ho(e,t);return{uid:t,name:n,elements:l}})})})},Ho=function(e,n){var t=Kt.fromDom(e.getBody());return Eo(t,"["+Fo()+'="'+n+'"]')},zo=function(e,n){var t=Kt.fromDom(e.getBody()),l=Eo(t,"["+Bo()+'="'+n+'"]'),r={};return L(l,function(e){var n=cl(e,Fo()),t=r.hasOwnProperty(n)?r[n]:[];r[n]=t.concat([e])}),r},Vo=function(e,n){var t,l,r,o=Co({}),i=function(e,n){u(e,function(e){return n(e),e})},u=function(e,n){var t=o.get(),l=n(t.hasOwnProperty(e)?t[e]:{listeners:[],previous:Co(O.none())});t[e]=l,o.set(t)},a=(t=function(){var n,t,l,r=o.get(),a=(n=tl(r),(l=K.call(n,0)).sort(t),l);L(a,function(n){u(n,function(t){var l=t.previous.get();return Lo(e,O.some(n)).fold(function(){l.isSome()&&(function(e){i(e,function(n){L(n.listeners,function(n){return n(!1,e)})})}(n),t.previous.set(O.none()))},function(e){var n=e.uid,r=e.name,o=e.elements;l.is(n)||(function(e,n,t){i(e,function(l){L(l.listeners,function(l){return l(!0,e,{uid:n,nodes:F(t,function(e){return e.dom()})})})})}(r,n,o),t.previous.set(O.some(n)))}),{previous:t.previous,listeners:t.listeners}})})},l=30,r=null,{cancel:function(){null!==r&&(clearTimeout(r),r=null)},throttle:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null!==r&&clearTimeout(r),r=setTimeout(function(){t.apply(null,e),r=null},l)}});return e.on("remove",function(){a.cancel()}),e.on("nodeChange",function(){a.throttle()}),{addListener:function(e,n){u(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([n])}})}}},qo=function(e,n){e.on("init",function(){e.serializer.addNodeFilter("span",function(e){L(e,function(e){(function(e){return O.from(e.attributes.map[Bo()]).bind(n.lookup)})(e).each(function(n){!1===n.persistent&&e.unwrap()})})})})},jo=function(){var e={};return{register:function(n,t){e[n]={name:n,settings:t}},lookup:function(n){return e.hasOwnProperty(n)?O.from(e[n]).map(function(e){return e.settings}):O.none()}}},Wo=0,Uo=function(e,n){return Kt.fromDom(e.dom().cloneNode(n))},Qo=function(e){return Uo(e,!1)},Go=function(e){return Uo(e,!0)},Ko=function(e,n){var t,l,r=Sl(e).dom(),o=Kt.fromDom(r.createDocumentFragment()),i=(t=n,(l=(r||document).createElement("div")).innerHTML=t,Il(Kt.fromDom(l)));go(o,i),mo(e),ho(e,o)},Yo=[].slice,Zo=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var l=Yo.call(arguments);return l.length-1>=e.length?e.apply(this,l.slice(1)):function(){var e=l.concat([].slice.call(arguments));return Zo.apply(this,e)}},Jo={constant:function(e){return function(){return e}},negate:function(e){return function(n){return!e(n)}},and:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=Yo.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}},or:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=Yo.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}},curry:Zo,compose:function(e,n){return function(t){return e(n(t))}},noop:function(){}},Xo=function(e){return"\ufeff"===e},$o="\ufeff",ei=function(e){return e.replace(new RegExp("\ufeff","g"),"")},ni=Cr.isElement,ti=Cr.isText,li=function(e){return ti(e)&&(e=e.parentNode),ni(e)&&e.hasAttribute("data-mce-caret")},ri=function(e){return ti(e)&&Xo(e.data)},oi=function(e){return li(e)||ri(e)},ii=function(e){return e.firstChild!==e.lastChild||!Cr.isBr(e.firstChild)},ui=function(e){var n=e.container();return e&&Cr.isText(n)&&n.data.charAt(e.offset())===$o},ai=function(e){var n=e.container();return e&&Cr.isText(n)&&n.data.charAt(e.offset()-1)===$o},si=function(e,n,t){var l,r,o;return(l=n.ownerDocument.createElement(e)).setAttribute("data-mce-caret",t?"before":"after"),l.setAttribute("data-mce-bogus","all"),l.appendChild(((o=document.createElement("br")).setAttribute("data-mce-bogus","1"),o)),r=n.parentNode,t?r.insertBefore(l,n):n.nextSibling?r.insertBefore(l,n.nextSibling):r.appendChild(l),l},ci=function(e){return ti(e)&&e.data[0]===$o},di=function(e){return ti(e)&&e.data[e.data.length-1]===$o},fi=function(e){return e&&e.hasAttribute("data-mce-caret")?(n=e.getElementsByTagName("br"),t=n[n.length-1],Cr.isBogus(t)&&t.parentNode.removeChild(t),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var n,t},pi=Cr.isContentEditableTrue,hi=Cr.isContentEditableFalse,gi=Cr.isBr,mi=Cr.isText,vi=Cr.matchNodeNames("script style textarea"),bi=Cr.matchNodeNames("img input textarea hr iframe video audio object"),yi=Cr.matchNodeNames("table"),Ci=oi,wi=function(e){return!Ci(e)&&(mi(e)?!vi(e.parentNode):bi(e)||gi(e)||yi(e)||xi(e))},xi=function(e){return!1===function(e){return Cr.isElement(e)&&"true"===e.getAttribute("unselectable")}(e)&&hi(e)},_i=function(e){return bi(e)||function(e){return!!xi(e)&&!0!==qn.reduce(e.getElementsByTagName("*"),function(e,n){return e||pi(n)},!1)}(e)},Ai=function(e,n){return wi(e)&&function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(xi(e))return!1;if(pi(e))return!0}return!0}(e,n)},ki=Math.round,Oi=function(e){return e?{left:ki(e.left),top:ki(e.top),bottom:ki(e.bottom),right:ki(e.right),width:ki(e.width),height:ki(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Si=function(e,n){return e=Oi(e),n?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},Ei=function(e,n,t){return e>=0&&e<=Math.min(n.height,t.height)/2},Ri=function(e,n){return e.bottom-e.height/2<n.top||!(e.top>n.bottom)&&Ei(n.top-e.bottom,e,n)},Pi=function(e,n){return e.top>n.bottom||!(e.bottom<n.top)&&Ei(n.bottom-e.top,e,n)},Mi=function(e){var n=e.startContainer,t=e.startOffset;return n.hasChildNodes()&&e.endOffset===t+1?n.childNodes[t]:null},Ii=function(e,n){return 1===e.nodeType&&e.hasChildNodes()&&(n>=e.childNodes.length&&(n=e.childNodes.length-1),e=e.childNodes[n]),e},Di=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Ti=function(e){return"string"===typeof e&&e.charCodeAt(0)>=768&&Di.test(e)},Ni=function(e,n){for(var t=[],l=0;l<e.length;l++){var r=e[l];if(!r.isSome())return O.none();t.push(r.getOrDie())}return O.some(n.apply(null,t))},Bi=Cr.isElement,Fi=wi,Li=Cr.matchStyleValues("display","block table"),Hi=Cr.matchStyleValues("float","left right"),zi=Jo.and(Bi,Fi,Jo.negate(Hi)),Vi=Jo.negate(Cr.matchStyleValues("white-space","pre pre-line pre-wrap")),qi=Cr.isText,ji=Cr.isBr,Wi=lo.nodeIndex,Ui=Ii,Qi=function(e){return"createRange"in e?e.createRange():lo.DOM.createRng()},Gi=function(e){return e&&/[\r\n\t ]/.test(e)},Ki=function(e){return!!e.setStart&&!!e.setEnd},Yi=function(e){var n,t=e.startContainer,l=e.startOffset;return!!(Gi(e.toString())&&Vi(t.parentNode)&&Cr.isText(t)&&(n=t.data,Gi(n[l-1])||Gi(n[l+1])))},Zi=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Ji=function(e){var n,t;return n=(t=e.getClientRects()).length>0?Oi(t[0]):Oi(e.getBoundingClientRect()),!Ki(e)&&ji(e)&&Zi(n)?function(e){var n,t=e.ownerDocument,l=Qi(t),r=t.createTextNode("\xa0"),o=e.parentNode;return o.insertBefore(r,e),l.setStart(r,0),l.setEnd(r,1),n=Oi(l.getBoundingClientRect()),o.removeChild(r),n}(e):Zi(n)&&Ki(e)?function(e){var n=e.startContainer,t=e.endContainer,l=e.startOffset,r=e.endOffset;if(n===t&&Cr.isText(t)&&0===l&&1===r){var o=e.cloneRange();return o.setEndAfter(t),Ji(o)}return null}(e):n},Xi=function(e,n){var t=Si(e,n);return t.width=1,t.right=t.left+1,t},$i=function(e){var n,t,l=[],r=function(e){var n,t;0!==e.height&&(l.length>0&&(n=e,t=l[l.length-1],n.left===t.left&&n.top===t.top&&n.bottom===t.bottom&&n.right===t.right)||l.push(e))},o=function(e,n){var t=Qi(e.ownerDocument);if(n<e.data.length){if(Ti(e.data[n]))return l;if(Ti(e.data[n-1])&&(t.setStart(e,n),t.setEnd(e,n+1),!Yi(t)))return r(Xi(Ji(t),!1)),l}n>0&&(t.setStart(e,n-1),t.setEnd(e,n),Yi(t)||r(Xi(Ji(t),!1))),n<e.data.length&&(t.setStart(e,n),t.setEnd(e,n+1),Yi(t)||r(Xi(Ji(t),!0)))};if(qi(e.container()))return o(e.container(),e.offset()),l;if(Bi(e.container()))if(e.isAtEnd())t=Ui(e.container(),e.offset()),qi(t)&&o(t,t.data.length),zi(t)&&!ji(t)&&r(Xi(Ji(t),!1));else{if(t=Ui(e.container(),e.offset()),qi(t)&&o(t,0),zi(t)&&e.isAtEnd())return r(Xi(Ji(t),!1)),l;n=Ui(e.container(),e.offset()-1),zi(n)&&!ji(n)&&(Li(n)||Li(t)||!zi(t))&&r(Xi(Ji(n),!1)),zi(t)&&r(Xi(Ji(t),!0))}return l};function eu(e,n,t){var l=function(){return t||(t=$i(eu(e,n))),t};return{container:Jo.constant(e),offset:Jo.constant(n),toRange:function(){var t;return(t=Qi(e.ownerDocument)).setStart(e,n),t.setEnd(e,n),t},getClientRects:l,isVisible:function(){return l().length>0},isAtStart:function(){return qi(e),0===n},isAtEnd:function(){return qi(e)?n>=e.data.length:n>=e.childNodes.length},isEqual:function(t){return t&&e===t.container()&&n===t.offset()},getNode:function(t){return Ui(e,t?n-1:n)}}}!function(e){e.fromRangeStart=function(n){return e(n.startContainer,n.startOffset)},e.fromRangeEnd=function(n){return e(n.endContainer,n.endOffset)},e.after=function(n){return e(n.parentNode,Wi(n)+1)},e.before=function(n){return e(n.parentNode,Wi(n))},e.isAbove=function(e,n){return Ni([Z(n.getClientRects()),J(e.getClientRects())],Ri).getOr(!1)},e.isBelow=function(e,n){return Ni([J(n.getClientRects()),Z(e.getClientRects())],Pi).getOr(!1)},e.isAtStart=function(e){return!!e&&e.isAtStart()},e.isAtEnd=function(e){return!!e&&e.isAtEnd()},e.isTextPosition=function(e){return!!e&&Cr.isText(e.container())},e.isElementPosition=function(n){return!1===e.isTextPosition(n)}}(eu||(eu={}));var nu,tu=eu,lu=Cr.isText,ru=Cr.isBogus,ou=lo.nodeIndex,iu=function(e){var n=e.parentNode;return ru(n)?iu(n):n},uu=function(e){return e?qn.reduce(e.childNodes,function(e,n){return ru(n)&&"BR"!==n.nodeName?e=e.concat(uu(n)):e.push(n),e},[]):[]},au=function(e){return function(n){return e===n}},su=function(e){return(lu(e)?"text()":e.nodeName.toLowerCase())+"["+function(e){var n,t,l;return n=uu(iu(e)),t=qn.findIndex(n,au(e),e),n=n.slice(0,t+1),l=qn.reduce(n,function(e,t,l){return lu(t)&&lu(n[l-1])&&e++,e},0),n=qn.filter(n,Cr.matchNodeNames(e.nodeName)),(t=qn.findIndex(n,au(e),e))-l}(e)+"]"},cu=function(e,n){var t,l,r,o,i,u=[];return t=n.container(),l=n.offset(),lu(t)?r=function(e,n){for(;(e=e.previousSibling)&&lu(e);)n+=e.data.length;return n}(t,l):(l>=(o=t.childNodes).length?(r="after",l=o.length-1):r="before",t=o[l]),u.push(su(t)),i=function(e,n,t){var l=[];for(n=n.parentNode;n!==e&&(!t||!t(n));n=n.parentNode)l.push(n);return l}(e,t),i=qn.filter(i,Jo.negate(Cr.isBogus)),(u=u.concat(qn.map(i,function(e){return su(e)}))).reverse().join("/")+","+r},du=function(e,n){var t,l,r;return n?(n=(t=n.split(","))[0].split("/"),r=t.length>1?t[1]:"before",(l=qn.reduce(n,function(e,n){return(n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(n))?("text()"===n[1]&&(n[1]="#text"),t=e,l=n[1],r=parseInt(n[2],10),o=uu(t),o=qn.filter(o,function(e,n){return!lu(e)||!lu(o[n-1])}),(o=qn.filter(o,Cr.matchNodeNames(l)))[r]):null;var t,l,r,o},e))?lu(l)?function(e,n){for(var t,l=e,r=0;lu(l);){if(t=l.data.length,n>=r&&n<=r+t){e=l,n-=r;break}if(!lu(l.nextSibling)){e=l,n=t;break}r+=t,l=l.nextSibling}return lu(e)&&n>e.data.length&&(n=e.data.length),tu(e,n)}(l,parseInt(r,10)):(r="after"===r?ou(l)+1:ou(l),tu(l.parentNode,r)):null):null},fu=Cr.isContentEditableFalse,pu=function(e,n,t,l,r){var o,i=l[r?"startContainer":"endContainer"],u=l[r?"startOffset":"endOffset"],a=[],s=0,c=e.getRoot();for(Cr.isText(i)?a.push(t?function(e,n,t){var l,r;for(r=e(n.data.slice(0,t)).length,l=n.previousSibling;l&&Cr.isText(l);l=l.previousSibling)r+=e(l.data).length;return r}(n,i,u):u):(u>=(o=i.childNodes).length&&o.length&&(s=1,u=Math.max(0,o.length-1)),a.push(e.nodeIndex(o[u],t)+s));i&&i!==c;i=i.parentNode)a.push(e.nodeIndex(i,t));return a},hu=function(e){Cr.isText(e)&&0===e.data.length&&e.parentNode.removeChild(e)},gu=function(e,n,t){var l=0;return Gn.each(e.select(n),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==t&&void l++}),l},mu=function(e,n){var t,l,r,o=n?"start":"end";t=e[o+"Container"],l=e[o+"Offset"],Cr.isElement(t)&&"TR"===t.nodeName&&(t=(r=t.childNodes)[Math.min(n?l:l-1,r.length-1)])&&(l=n?0:t.childNodes.length,e["set"+(n?"Start":"End")](t,l))},vu=function(e){return mu(e,!0),mu(e,!1),e},bu=function(e,n){var t;if(Cr.isElement(e)&&(e=Ii(e,n),fu(e)))return e;if(oi(e)){if(Cr.isText(e)&&li(e)&&(e=e.parentNode),t=e.previousSibling,fu(t))return t;if(t=e.nextSibling,fu(t))return t}},yu=function(e,n,t){var l=t.getNode(),r=l?l.nodeName:null,o=t.getRng();if(fu(l)||"IMG"===r)return{name:r,index:gu(t.dom,r,l)};var i=function(e){return bu(e.startContainer,e.startOffset)||bu(e.endContainer,e.endOffset)}(o);return i?{name:r=i.tagName,index:gu(t.dom,r,i)}:function(e,n,t,l){var r=n.dom,o={};return o.start=pu(r,e,t,l,!0),n.isCollapsed()||(o.end=pu(r,e,t,l,!1)),o}(e,t,n,o)},Cu=function(e,n,t){var l={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return t?e.create("span",l,"&#xFEFF;"):e.create("span",l)},wu=function(e,n){var t=e.dom,l=e.getRng(),r=t.uniqueId(),o=e.isCollapsed(),i=e.getNode(),u=i.nodeName;if("IMG"===u)return{name:u,index:gu(t,u,i)};var a=vu(l.cloneRange());if(!o){a.collapse(!1);var s=Cu(t,r+"_end",n);a.insertNode(s),hu(s.nextSibling)}(l=vu(l)).collapse(!0);var c=Cu(t,r+"_start",n);return l.insertNode(c),hu(c.previousSibling),hu(c.nextSibling),e.moveToBookmark({id:r,keep:1}),{id:r}},xu={getBookmark:function(e,n,t){return 2===n?yu(ei,t,e):3===n?function(e){var n=e.getRng();return{start:cu(e.dom.getRoot(),tu.fromRangeStart(n)),end:cu(e.dom.getRoot(),tu.fromRangeEnd(n))}}(e):n?function(e){return{rng:e.getRng()}}(e):wu(e,!1)},getUndoBookmark:b(yu,v,!0),getPersistentBookmark:wu},_u=function(e){return Cr.isElement(e)&&"_mce_caret"===e.id},Au=function(e,n){for(;n&&n!==e;){if("_mce_caret"===n.id)return n;n=n.parentNode}return null},ku=Cr.isElement,Ou=Cr.isText,Su=function(e){var n=e.parentNode;n&&n.removeChild(e)},Eu=function(e,n){0===n.length?Su(e):e.nodeValue=n},Ru=function(e){var n=ei(e);return{count:e.length-n.length,text:n}},Pu=function(e,n){return Du(e),n},Mu=function(e,n){var t,l,r,o=n.container(),i=(t=X(o.childNodes),l=e,r=N(t,l),-1===r?O.none():O.some(r)).map(function(e){return e<n.offset()?tu(o,n.offset()-1):n}).getOr(n);return Du(e),i},Iu=function(e,n){return Ou(e)&&n.container()===e?function(e,n){var t=Ru(e.data.substr(0,n.offset())),l=Ru(e.data.substr(n.offset())),r=t.text+l.text;return r.length>0?(Eu(e,r),tu(e,n.offset()-t.count)):n}(e,n):Pu(e,n)},Du=function(e){if(ku(e)&&oi(e)&&(ii(e)?e.removeAttribute("data-mce-caret"):Su(e)),Ou(e)){var n=ei(function(e){try{return e.nodeValue}catch(e){return""}}(e));Eu(e,n)}},Tu={removeAndReposition:function(e,n){return tu.isTextPosition(n)?Iu(e,n):function(e,n){return n.container()===e.parentNode?Mu(e,n):Pu(e,n)}(e,n)},remove:Du},Nu=Cr.isContentEditableTrue,Bu=Cr.isContentEditableFalse,Fu=function(e,n,t,l,r){return n._selectionOverrides.showCaret(e,t,l,r)},Lu=function(e,n){return e.fire("BeforeObjectSelected",{target:n}).isDefaultPrevented()?null:function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n}(n)},Hu=function(e,n,t){var l=ns(1,e.getBody(),n),r=tu.fromRangeStart(l),o=r.getNode();if(Bu(o))return Fu(1,e,o,!r.isAtEnd(),!1);var i=r.getNode(!0);if(Bu(i))return Fu(1,e,i,!1,!1);var u=e.dom.getParent(r.getNode(),function(e){return Bu(e)||Nu(e)});return Bu(u)?Fu(1,e,u,!1,t):null},zu=function(e,n,t){if(!n||!n.collapsed)return n;var l=Hu(e,n,t);return l||n};!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(nu||(nu={}));var Vu,qu=Cr.isContentEditableFalse,ju=Cr.isText,Wu=Cr.isElement,Uu=Cr.isBr,Qu=wi,Gu=_i,Ku=Ai,Yu=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},Zu=function(e,n){if(ja(e)){if(Qu(n.previousSibling)&&!ju(n.previousSibling))return tu.before(n);if(ju(n))return tu(n,0)}if(Wa(e)){if(Qu(n.nextSibling)&&!ju(n.nextSibling))return tu.after(n);if(ju(n))return tu(n,n.data.length)}return Wa(e)?Uu(n)?tu.before(n):tu.after(n):tu.before(n)},Ju=function(e,n,t){var l,r,o,i,u;if(!Wu(t)||!n)return null;if(n.isEqual(tu.after(t))&&t.lastChild){if(u=tu.after(t.lastChild),Wa(e)&&Qu(t.lastChild)&&Wu(t.lastChild))return Uu(t.lastChild)?tu.before(t.lastChild):u}else u=n;var a=u.container(),s=u.offset();if(ju(a)){if(Wa(e)&&s>0)return tu(a,--s);if(ja(e)&&s<a.length)return tu(a,++s);l=a}else{if(Wa(e)&&s>0&&(r=Yu(a,s-1),Qu(r)))return!Gu(r)&&(o=Qa(r,e,Ku,r))?ju(o)?tu(o,o.data.length):tu.after(o):ju(r)?tu(r,r.data.length):tu.before(r);if(ja(e)&&s<a.childNodes.length&&(r=Yu(a,s),Qu(r)))return Uu(r)&&t.lastChild===r?null:function(e,n){var t;return!!Cr.isBr(e)&&!_i(e.nextSibling)&&!!(t=Ju(nu.Forwards,tu.after(e),n))&&!Ka(tu.before(e),tu.before(t),n)}(r,t)?Ju(e,tu.after(r),t):!Gu(r)&&(o=Qa(r,e,Ku,r))?ju(o)?tu(o,0):tu.before(o):ju(r)?tu(r,0):tu.after(r);l=r||u.getNode()}return(ja(e)&&u.isAtEnd()||Wa(e)&&u.isAtStart())&&(l=Qa(l,e,Jo.constant(!0),t,!0),Ku(l,t))?Zu(e,l):(r=Qa(l,e,Ku,t),!(i=qn.last(qn.filter(function(e,n){for(var t=[];e&&e!==n;)t.push(e),e=e.parentNode;return t}(a,t),qu)))||r&&i.contains(r)?r?Zu(e,r):null:u=ja(e)?tu.after(i):tu.before(i))},Xu=function(e){return{next:function(n){return Ju(nu.Forwards,n,e)},prev:function(n){return Ju(nu.Backwards,n,e)}}};!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(Vu||(Vu={}));var $u=function(e,n){return e===nu.Backwards?n.reverse():n},ea=function(e,n,t){return e===nu.Forwards?n.next(t):n.prev(t)},na=function(e,n,t,l){return Cr.isBr(l.getNode(n===nu.Forwards))?Vu.Br:!1===Ka(t,l)?Vu.Block:Vu.Wrap},ta=function(e,n,t,l){for(var r,o=Xu(t),i=l,u=[];i&&(r=ea(n,o,i));){if(Cr.isBr(r.getNode(!1)))return n===nu.Forwards?{positions:$u(n,u).concat([r]),breakType:Vu.Br,breakAt:O.some(r)}:{positions:$u(n,u),breakType:Vu.Br,breakAt:O.some(r)};if(r.isVisible()){if(e(i,r)){var a=na(0,n,i,r);return{positions:$u(n,u),breakType:a,breakAt:O.some(r)}}u.push(r),i=r}else i=r}return{positions:$u(n,u),breakType:Vu.Eol,breakAt:O.none()}},la=function(e,n,t,l){return n(t,l).breakAt.map(function(l){var r=n(t,l).positions;return e===nu.Backwards?r.concat(l):[l].concat(r)}).getOr([])},ra=function(e,n){return V(e,function(e,t){return e.fold(function(){return O.some(t)},function(l){return Ni([Z(l.getClientRects()),Z(t.getClientRects())],function(e,r){var o=Math.abs(n-e.left);return Math.abs(n-r.left)<=o?t:l}).or(e)})},O.none())},oa=function(e,n){return Z(n.getClientRects()).bind(function(n){return ra(e,n.left)})},ia=b(ta,eu.isAbove,-1),ua=b(ta,eu.isBelow,1),aa=b(la,-1,ia),sa=b(la,1,ua),ca=function(e,n,t,l,r){var o=Eo(Kt.fromDom(t),"td,th,caption").map(function(e){return e.dom()});return function(e,n,t){return V(e,function(e,l){return e.fold(function(){return O.some(l)},function(e){var r=Math.sqrt(Math.abs(e.x-n)+Math.abs(e.y-t)),o=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-t));return O.some(o<r?l:e)})},O.none())}(z(function(e,n){return Q(n,function(n){var t=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+2*n,bottom:e.bottom+2*n,width:e.width+n,height:e.height+n}}(Oi(n.getBoundingClientRect()),-1);return[{x:t.left,y:e(t),cell:n},{x:t.right,y:e(t),cell:n}]})}(e,o),function(e){return n(e,r)}),l,r).map(function(e){return e.cell})},da=b(ca,function(e){return e.bottom},function(e,n){return e.y<n}),fa=b(ca,function(e){return e.top},function(e,n){return e.y>n}),pa=function(e,n){return Z(n.getClientRects()).bind(function(n){return da(e,n.left,n.top)}).bind(function(e){return oa((t=e,ms.lastPositionIn(t).map(function(e){return ia(t,e).positions.concat(e)}).getOr([])),n);var t})},ha=function(e,n){return J(n.getClientRects()).bind(function(n){return fa(e,n.left,n.top)}).bind(function(e){return oa((t=e,ms.firstPositionIn(t).map(function(e){return[e].concat(ua(t,e).positions)}).getOr([])),n);var t})},ga=function(e){for(var n=0,t=0,l=e;l&&l.nodeType;)n+=l.offsetLeft||0,t+=l.offsetTop||0,l=l.offsetParent;return{x:n,y:t}},ma=function(e,n,t){var l,r,o,i,u=e.dom,a=u.getRoot(),s=0;if(!function(e,n,t){var l={elm:n,alignToTop:t};return e.fire("scrollIntoView",l),l.isDefaultPrevented()}(e,n,t)&&Cr.isElement(n)){if(!1===t&&(s=n.offsetHeight),"BODY"!==a.nodeName){var c=e.selection.getScrollContainer();if(c)return l=ga(n).y-ga(c).y+s,i=c.clientHeight,void((l<(o=c.scrollTop)||l+25>o+i)&&(c.scrollTop=l<o?l:l-i+25))}r=u.getViewPort(e.getWin()),l=u.getPos(n).y+s,o=r.y,i=r.h,(l<r.y||l+25>o+i)&&e.getWin().scrollTo(0,l<o?l:l-i+25)}},va=function(e,n){Z(eu.fromRangeStart(n).getClientRects()).each(function(n){var t,l,r=function(e){if(e.inline)return e.getBody().getBoundingClientRect();var n=e.getWin();return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight,width:n.innerWidth,height:n.innerHeight}}(e),o={x:function(e,n){return n.left>e.left&&n.right<e.right?0:n.left<e.left?n.left-e.left:n.right-e.right}(t=r,l=n),y:function(e,n){return n.top>e.top&&n.bottom<e.bottom?0:n.top<e.top?n.top-e.top:n.bottom-e.bottom}(t,l)};!function(e,n,t){e.inline?(e.getBody().scrollLeft+=n,e.getBody().scrollTop+=t):e.getWin().scrollBy(n,t)}(e,0!==o.x?o.x>0?o.x+4:o.x-4:0,0!==o.y?o.y>0?o.y+4:o.y-4:0)})},ba=function(e,n,t){var l=e.getParam(n,t);if(-1!==l.indexOf("=")){var r=e.getParam(n,"","hash");return r.hasOwnProperty(e.id)?r[e.id]:t}return l},ya={getIframeAttrs:function(e){return e.getParam("iframe_attrs",{})},getDocType:function(e){return e.getParam("doctype","<!DOCTYPE html>")},getDocumentBaseUrl:function(e){return e.getParam("document_base_url","")},getBodyId:function(e){return ba(e,"body_id","tinymce")},getBodyClass:function(e){return ba(e,"body_class","")},getContentSecurityPolicy:function(e){return e.getParam("content_security_policy","")},shouldPutBrInPre:function(e){return e.getParam("br_in_pre",!0)},getForcedRootBlock:function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return!1===n?"":n},getForcedRootBlockAttrs:function(e){return e.getParam("forced_root_block_attrs",{})},getBrNewLineSelector:function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},getNoNewLineSelector:function(e){return e.getParam("no_newline_selector","")},shouldKeepStyles:function(e){return e.getParam("keep_styles",!0)},shouldEndContainerOnEmptyBlock:function(e){return e.getParam("end_container_on_empty_block",!1)},getFontStyleValues:function(e){return Gn.explode(e.getParam("font_size_style_values",""))},getFontSizeClasses:function(e){return Gn.explode(e.getParam("font_size_classes",""))},getImagesDataImgFilter:function(e){return e.getParam("images_dataimg_filter",m(!0),"function")},isAutomaticUploadsEnabled:function(e){return e.getParam("automatic_uploads",!0,"boolean")},shouldReuseFileName:function(e){return e.getParam("images_reuse_filename",!1,"boolean")},shouldReplaceBlobUris:function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},getImageUploadUrl:function(e){return e.getParam("images_upload_url","","string")},getImageUploadBasePath:function(e){return e.getParam("images_upload_base_path","","string")},getImagesUploadCredentials:function(e){return e.getParam("images_upload_credentials",!1,"boolean")},getImagesUploadHandler:function(e){return e.getParam("images_upload_handler",null,"function")},shouldUseContentCssCors:function(e){return e.getParam("content_css_cors",!1,"boolean")}},Ca=Qt.detect().browser,wa=function(){return Ca.isIE()||Ca.isEdge()||Ca.isFirefox()},xa=function(e,n){e.selection.setRng(n),va(e,n)},_a=function(e,n,t){var l=e(n,t);return function(e){return e.breakType===Vu.Wrap&&0===e.positions.length}(l)||!Cr.isBr(t.getNode())&&function(e){return e.breakType===Vu.Br&&1===e.positions.length}(l)?!function(e,n,t){return t.breakAt.map(function(t){return e(n,t).breakAt.isSome()}).getOr(!1)}(e,n,l):l.breakAt.isNone()},Aa=Jo.curry(_a,ia),ka=Jo.curry(_a,ua),Oa=function(e,n,t,l){var r=e.selection.getRng(),o=n?1:-1;if(wa()&&function(e,n,t){var l=tu.fromRangeStart(n);return ms.positionIn(!e,t).map(function(e){return e.isEqual(l)}).getOr(!1)}(n,r,t)){var i=Fu(o,e,t,!n,!0);return xa(e,i),!0}return!1},Sa=function(e,n){var t=n.getNode(e);return Cr.isElement(t)&&"TABLE"===t.nodeName?O.some(t):O.none()},Ea=function(e,n,t){var l=Sa(!!n,t),r=!1===n;l.fold(function(){return xa(e,t.toRange())},function(l){return ms.positionIn(r,e.getBody()).filter(function(e){return e.isEqual(t)}).fold(function(){return xa(e,t.toRange())},function(r){return function(e,n,t,l){var r=ya.getForcedRootBlock(n);r?n.undoManager.transact(function(){var l=Kt.fromTag(r);sl(l,ya.getForcedRootBlockAttrs(n)),ho(l,Kt.fromTag("br")),e?po(Kt.fromDom(t),l):fo(Kt.fromDom(t),l);var o=n.dom.createRng();o.setStart(l.dom(),0),o.setEnd(l.dom(),0),xa(n,o)}):xa(n,l.toRange())}(n,e,l,t)})})},Ra=function(e,n,t,l){var r=e.selection.getRng(),o=tu.fromRangeStart(r),i=e.getBody();if(!n&&Aa(l,o)){var u=function(e,n,t){return pa(n,t).orThunk(function(){return Z(t.getClientRects()).bind(function(t){return ra(aa(e,tu.before(n)),t.left)})}).getOr(tu.before(n))}(i,t,o);return Ea(e,n,u),!0}return!(!n||!ka(l,o))&&(u=function(e,n,t){return ha(n,t).orThunk(function(){return Z(t.getClientRects()).bind(function(t){return ra(sa(e,tu.after(n)),t.left)})}).getOr(tu.after(n))}(i,t,o),Ea(e,n,u),!0)},Pa=function(e,n){return function(){return O.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(t){return O.from(e.dom.getParent(t,"table")).map(function(t){return Oa(e,n,t)})}).getOr(!1)}},Ma=function(e,n){return function(){return O.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(t){return O.from(e.dom.getParent(t,"table")).map(function(l){return Ra(e,n,l,t)})}).getOr(!1)}},Ia=Cr.isContentEditableFalse,Da=function(e,n,t){var l,r,o,i,u,a=Si(n.getBoundingClientRect(),t);return"BODY"===e.tagName?(l=e.ownerDocument.documentElement,r=e.scrollLeft||l.scrollLeft,o=e.scrollTop||l.scrollTop):(u=e.getBoundingClientRect(),r=e.scrollLeft-u.left,o=e.scrollTop-u.top),a.left+=r,a.right+=r,a.top+=o,a.bottom+=o,a.width=1,(i=n.offsetWidth-n.clientWidth)>0&&(t&&(i*=-1),a.left+=i,a.right+=i),a},Ta=function(e,n,t){var l,r,o=Co(O.none()),i=function(){!function(e){var n,t,l,r,o;for(n=ft("*[contentEditable=false]",e),r=0;r<n.length;r++)l=(t=n[r]).previousSibling,di(l)&&(1===(o=l.data).length?l.parentNode.removeChild(l):l.deleteData(o.length-1,1)),l=t.nextSibling,ci(l)&&(1===(o=l.data).length?l.parentNode.removeChild(l):l.deleteData(0,1))}(e),r&&(Tu.remove(r),r=null),o.get().each(function(e){ft(e.caret).remove(),o.set(O.none())}),clearInterval(l)},u=function(){l=pe.setInterval(function(){t()?ft("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):ft("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)};return{show:function(t,l){var a,s,c;if(i(),c=l,Cr.isElement(c)&&/^(TD|TH)$/i.test(c.tagName))return null;if(!n(l))return r=function(e,n){var t,l,r;if(l=e.ownerDocument.createTextNode($o),r=e.parentNode,n){if(t=e.previousSibling,ti(t)){if(oi(t))return t;if(di(t))return t.splitText(t.data.length-1)}r.insertBefore(l,e)}else{if(t=e.nextSibling,ti(t)){if(oi(t))return t;if(ci(t))return t.splitText(1),t}e.nextSibling?r.insertBefore(l,e.nextSibling):r.appendChild(l)}return l}(l,t),s=l.ownerDocument.createRange(),Ia(r.nextSibling)?(s.setStart(r,0),s.setEnd(r,0)):(s.setStart(r,1),s.setEnd(r,1)),s;r=si("p",l,t),a=Da(e,l,t),ft(r).css("top",a.top);var d=ft('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(a).appendTo(e)[0];return o.set(O.some({caret:d,element:l,before:t})),o.get().each(function(e){t&&ft(e.caret).addClass("mce-visual-caret-before")}),u(),(s=l.ownerDocument.createRange()).setStart(r,0),s.setEnd(r,0),s},hide:i,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){o.get().each(function(n){var t=Da(e,n.element,n.before);ft(n.caret).css(t)})},destroy:function(){return pe.clearInterval(l)}}},Na=function(e){return Ia(e)||Cr.isTable(e)&&wa()},Ba=Cr.isContentEditableFalse,Fa=Cr.matchStyleValues("display","block table table-cell table-caption list-item"),La=oi,Ha=li,za=Jo.curry,Va=Cr.isElement,qa=wi,ja=function(e){return e>0},Wa=function(e){return e<0},Ua=function(e,n){for(var t;t=e(n);)if(!Ha(t))return t;return null},Qa=function(e,n,t,l,r){var o=new Kl(e,l);if(Wa(n)){if((Ba(e)||Ha(e))&&t(e=Ua(o.prev,!0)))return e;for(;e=Ua(o.prev,r);)if(t(e))return e}if(ja(n)){if((Ba(e)||Ha(e))&&t(e=Ua(o.next,!0)))return e;for(;e=Ua(o.next,r);)if(t(e))return e}return null},Ga=function(e,n){for(;e&&e!==n;){if(Fa(e))return e;e=e.parentNode}return null},Ka=function(e,n,t){return Ga(e.container(),t)===Ga(n.container(),t)},Ya=function(e,n){var t,l;return n?(t=n.container(),l=n.offset(),Va(t)?t.childNodes[l+e]:null):null},Za=function(e,n){var t=n.ownerDocument.createRange();return e?(t.setStartBefore(n),t.setEndBefore(n)):(t.setStartAfter(n),t.setEndAfter(n)),t},Ja=function(e,n,t){return Ga(n,e)===Ga(t,e)},Xa=function(e,n,t){var l,r;for(r=e?"previousSibling":"nextSibling";t&&t!==n;){if(l=t[r],La(l)&&(l=l[r]),Ba(l)){if(Ja(n,l,t))return l;break}if(qa(l))break;t=t.parentNode}return null},$a=za(Za,!0),es=za(Za,!1),ns=function(e,n,t){var l,r,o,i,u=za(Xa,!0,n),a=za(Xa,!1,n);if(r=t.startContainer,o=t.startOffset,li(r)){if(Va(r)||(r=r.parentNode),"before"===(i=r.getAttribute("data-mce-caret"))&&(l=r.nextSibling,Na(l)))return $a(l);if("after"===i&&(l=r.previousSibling,Na(l)))return es(l)}if(!t.collapsed)return t;if(Cr.isText(r)){if(La(r)){if(1===e){if(l=a(r))return $a(l);if(l=u(r))return es(l)}if(-1===e){if(l=u(r))return es(l);if(l=a(r))return $a(l)}return t}if(di(r)&&o>=r.data.length-1)return 1===e&&(l=a(r))?$a(l):t;if(ci(r)&&o<=1)return-1===e&&(l=u(r))?es(l):t;if(o===r.data.length)return(l=a(r))?$a(l):t;if(0===o)return(l=u(r))?es(l):t}return t},ts=function(e,n){var t=Ya(e,n);return Ba(t)&&!Cr.isBogusAll(t)},ls=function(e,n){return Cr.isTable(Ya(e,n))},rs=function(e,n){return O.from(Ya(e?0:-1,n)).filter(Ba)},os=function(e,n,t){var l=ns(e,n,t);return-1===e?eu.fromRangeStart(l):eu.fromRangeEnd(l)},is=za(ts,0),us=za(ts,-1),as=za(ls,0),ss=za(ls,-1),cs=function(e){return tu.isTextPosition(e)?0===e.offset():wi(e.getNode())},ds=function(e){if(tu.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}return wi(e.getNode(!0))},fs=function(e,n){return!tu.isTextPosition(e)&&!tu.isTextPosition(n)&&e.getNode()===n.getNode(!0)},ps=function(e,n,t){return e?!fs(n,t)&&(l=n,!(!tu.isTextPosition(l)&&Cr.isBr(l.getNode())))&&ds(n)&&cs(t):!fs(t,n)&&cs(n)&&ds(t);var l},hs=function(e,n,t){var l=Xu(n);return O.from(e?l.next(t):l.prev(t))},gs=function(e,n){var t,l=e?n.firstChild:n.lastChild;return Cr.isText(l)?O.some(tu(l,e?0:l.data.length)):l?wi(l)?O.some(e?tu.before(l):(t=l,Cr.isBr(t)?tu.before(t):tu.after(t))):function(e,n,t){var l=e?tu.before(t):tu.after(t);return hs(e,n,l)}(e,n,l):O.none()},ms={fromPosition:hs,nextPosition:b(hs,!0),prevPosition:b(hs,!1),navigate:function(e,n,t){return hs(e,n,t).bind(function(l){return Ka(t,l,n)&&ps(e,t,l)?hs(e,n,l):O.some(l)})},positionIn:gs,firstPositionIn:b(gs,!0),lastPositionIn:b(gs,!1)},vs=function(e,n){return!e.isBlock(n)||n.innerHTML||ae.ie||(n.innerHTML='<br data-mce-bogus="1" />'),n},bs=function(e,n){return ms.lastPositionIn(e).fold(function(){return!1},function(e){return n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),!0})},ys=function(e,n,t){return!(!function(e){return!1===e.hasChildNodes()}(n)||!Au(e,n))&&(function(e,n){var t=e.ownerDocument.createTextNode($o);e.appendChild(t),n.setStart(t,0),n.setEnd(t,0)}(n,t),!0)},Cs=function(e,n,t,l){var r,o,i,u,a=t[n?"start":"end"],s=e.getRoot();if(a){for(i=a[0],o=s,r=a.length-1;r>=1;r--){if(u=o.childNodes,ys(s,o,l))return!0;if(a[r]>u.length-1)return!!ys(s,o,l)||bs(o,l);o=u[a[r]]}3===o.nodeType&&(i=Math.min(a[0],o.nodeValue.length)),1===o.nodeType&&(i=Math.min(a[0],o.childNodes.length)),n?l.setStart(o,i):l.setEnd(o,i)}return!0},ws=function(e){return Cr.isText(e)&&e.data.length>0},xs=function(e,n,t){var l,r,o,i,u,a,s=e.get(t.id+"_"+n),c=t.keep;if(s){if(l=s.parentNode,"start"===n?(c?s.hasChildNodes()?(l=s.firstChild,r=1):ws(s.nextSibling)?(l=s.nextSibling,r=0):ws(s.previousSibling)?(l=s.previousSibling,r=s.previousSibling.data.length):(l=s.parentNode,r=e.nodeIndex(s)+1):r=e.nodeIndex(s),u=l,a=r):(c?s.hasChildNodes()?(l=s.firstChild,r=1):ws(s.previousSibling)?(l=s.previousSibling,r=s.previousSibling.data.length):(l=s.parentNode,r=e.nodeIndex(s)):r=e.nodeIndex(s),u=l,a=r),!c){for(i=s.previousSibling,o=s.nextSibling,Gn.each(Gn.grep(s.childNodes),function(e){Cr.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});s=e.get(t.id+"_"+n);)e.remove(s,!0);i&&o&&i.nodeType===o.nodeType&&Cr.isText(i)&&!ae.opera&&(r=i.nodeValue.length,i.appendData(o.nodeValue),e.remove(o),u=i,a=r)}return O.some(tu(u,a))}return O.none()},_s=function(e,n){var t=e.dom;if(n){if(function(e){return Gn.isArray(e.start)}(n))return function(e,n){var t=e.createRng();return Cs(e,!0,n,t)&&Cs(e,!1,n,t)?O.some(t):O.none()}(t,n);if(function(e){return"string"===typeof e.start}(n))return O.some(function(e,n){var t,l;return t=e.createRng(),l=du(e.getRoot(),n.start),t.setStart(l.container(),l.offset()),l=du(e.getRoot(),n.end),t.setEnd(l.container(),l.offset()),t}(t,n));if(function(e){return e.hasOwnProperty("id")}(n))return function(e,n){var t,l,r=xs(e,"start",n),o=xs(e,"end",n);return Ni([r,(t=o,l=r,t.isSome()?t:l)],function(n,t){var l=e.createRng();return l.setStart(vs(e,n.container()),n.offset()),l.setEnd(vs(e,t.container()),t.offset()),l})}(t,n);if(function(e){return e.hasOwnProperty("name")}(n))return function(e,n){return O.from(e.select(n.name)[n.index]).map(function(n){var t=e.createRng();return t.selectNode(n),t})}(t,n);if(function(e){return e.hasOwnProperty("rng")}(n))return O.some(n.rng)}return O.none()},As={getBookmark:function(e,n,t){return xu.getBookmark(e,n,t)},moveToBookmark:function(e,n){_s(e,n).each(function(n){e.setRng(n)})},isBookmarkNode:function(e){return Cr.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}},ks=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Os=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},Ss=function(e,n,t){return"color"!==t&&"backgroundColor"!==t||(n=e.toHex(n)),"fontWeight"===t&&700===n&&(n="bold"),"fontFamily"===t&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},Es={isInlineBlock:ks,moveStart:function(e,n,t){var l,r,o,i=t.startOffset,u=t.startContainer;if((t.startContainer!==t.endContainer||!ks(t.startContainer.childNodes[t.startOffset]))&&1===u.nodeType)for(i<(o=u.childNodes).length?l=new Kl(u=o[i],e.getParent(u,e.isBlock)):(l=new Kl(u=o[o.length-1],e.getParent(u,e.isBlock))).next(!0),r=l.current();r;r=l.next())if(3===r.nodeType&&!Os(r))return t.setStart(r,0),void n.setRng(t)},getNonWhiteSpaceSibling:function(e,n,t){if(e)for(n=n?"nextSibling":"previousSibling",e=t?e:e[n];e;e=e[n])if(1===e.nodeType||!Os(e))return e},isTextBlock:function(e,n){return n.nodeType&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},isValid:function(e,n,t){return e.schema.isValidChild(n,t)},isWhiteSpaceNode:Os,replaceVars:function(e,n){return"string"!==typeof e?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e})),e},isEq:function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},normalizeStyleValue:Ss,getStyle:function(e,n,t){return Ss(e,e.getStyle(n,t),t)},getTextDecoration:function(e,n){var t;return e.getParent(n,function(n){return(t=e.getStyle(n,"text-decoration"))&&"none"!==t}),t},getParents:function(e,n,t){return e.getParents(n,t,e.getRoot())}},Rs=As.isBookmarkNode,Ps=Es.getParents,Ms=Es.isWhiteSpaceNode,Is=Es.isTextBlock,Ds=function(e,n){for("undefined"===typeof n&&(n=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[n])&&(n=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:n}},Ts=function(e,n){for(var t=n;t;){if(1===t.nodeType&&e.getContentEditable(t))return"false"===e.getContentEditable(t)?t:n;t=t.parentNode}return n},Ns=function(e,n,t,l){var r,o,i=t.nodeValue;return"undefined"===typeof l&&(l=e?i.length:0),e?-1!==(r=(r=i.lastIndexOf(" ",l))>(o=i.lastIndexOf("\xa0",l))?r:o)&&!n&&(r<l||!e)&&r<=i.length&&r++:(r=i.indexOf(" ",l),o=i.indexOf("\xa0",l),r=-1!==r&&(-1===o||r<o)?r:o),r},Bs=function(e,n,t,l,r,o){var i,u,a,s;if(3===t.nodeType){if(-1!==(a=Ns(r,o,t,l)))return{container:t,offset:a};s=t}for(i=new Kl(t,e.getParent(t,e.isBlock)||n);u=i[r?"prev":"next"]();)if(3!==u.nodeType||Rs(u.parentNode)){if(e.isBlock(u)||Es.isEq(u,"BR"))break}else if(s=u,-1!==(a=Ns(r,o,u)))return{container:u,offset:a};if(s)return{container:s,offset:l=r?0:s.length}},Fs=function(e,n,t,l,r){var o,i,u,a;for(3===l.nodeType&&0===l.nodeValue.length&&l[r]&&(l=l[r]),o=Ps(e,l),i=0;i<o.length;i++)for(u=0;u<n.length;u++)if(!("collapsed"in(a=n[u])&&a.collapsed!==t.collapsed)&&e.is(o[i],a.selector))return o[i];return l},Ls=function(e,n,t,l){var r,o=e.dom,i=o.getRoot();if(n[0].wrapper||(r=o.getParent(t,n[0].block,i)),!r){var u=o.getParent(t,"LI,TD,TH");r=o.getParent(3===t.nodeType?t.parentNode:t,function(n){return n!==i&&Is(e,n)},u)}if(r&&n[0].wrapper&&(r=Ps(o,r,"ul,ol").reverse()[0]||r),!r)for(r=t;r[l]&&!o.isBlock(r[l])&&(r=r[l],!Es.isEq(r,"br")););return r||t},Hs=function(e,n,t,l,r,o,i){var u,a,s,c,d,f;if(u=a=i?t:r,c=i?"previousSibling":"nextSibling",d=e.getRoot(),3===u.nodeType&&!Ms(u)&&(i?l>0:o<u.nodeValue.length))return u;for(;;){if(!n[0].block_expand&&e.isBlock(a))return a;for(s=a[c];s;s=s[c])if(!Rs(s)&&!Ms(s)&&("BR"!==(f=s).nodeName||!f.getAttribute("data-mce-bogus")||f.nextSibling))return a;if(a===d||a.parentNode===d){u=a;break}a=a.parentNode}return u},zs=function(e,n,t,l){var r,o=n.startContainer,i=n.startOffset,u=n.endContainer,a=n.endOffset,s=e.dom;return 1===o.nodeType&&o.hasChildNodes()&&3===(o=Ii(o,i)).nodeType&&(i=0),1===u.nodeType&&u.hasChildNodes()&&3===(u=Ii(u,n.collapsed?a:a-1)).nodeType&&(a=u.nodeValue.length),o=Ts(s,o),u=Ts(s,u),(Rs(o.parentNode)||Rs(o))&&(o=Rs(o)?o:o.parentNode,3===(o=n.collapsed?o.previousSibling||o:o.nextSibling||o).nodeType&&(i=n.collapsed?o.length:0)),(Rs(u.parentNode)||Rs(u))&&(u=Rs(u)?u:u.parentNode,3===(u=n.collapsed?u.nextSibling||u:u.previousSibling||u).nodeType&&(a=n.collapsed?0:u.length)),n.collapsed&&((r=Bs(s,e.getBody(),o,i,!0,l))&&(o=r.container,i=r.offset),(r=Bs(s,e.getBody(),u,a,!1,l))&&(u=r.container,a=r.offset)),t[0].inline&&(u=l?u:function(e,n){var t=Ds(e,n);if(t.node){for(;t.node&&0===t.offset&&t.node.previousSibling;)t=Ds(t.node.previousSibling);t.node&&t.offset>0&&3===t.node.nodeType&&" "===t.node.nodeValue.charAt(t.offset-1)&&t.offset>1&&(e=t.node).splitText(t.offset-1)}return e}(u,a)),(t[0].inline||t[0].block_expand)&&(t[0].inline&&3===o.nodeType&&0!==i||(o=Hs(s,t,o,i,u,a,!0)),t[0].inline&&3===u.nodeType&&a!==u.nodeValue.length||(u=Hs(s,t,o,i,u,a,!1))),t[0].selector&&!1!==t[0].expand&&!t[0].inline&&(o=Fs(s,t,n,o,"previousSibling"),u=Fs(s,t,n,u,"nextSibling")),(t[0].block||t[0].selector)&&(o=Ls(e,t,o,"previousSibling"),u=Ls(e,t,u,"nextSibling"),t[0].block&&(s.isBlock(o)||(o=Hs(s,t,o,i,u,a,!0)),s.isBlock(u)||(u=Hs(s,t,o,i,u,a,!1)))),1===o.nodeType&&(i=s.nodeIndex(o),o=o.parentNode),1===u.nodeType&&(a=s.nodeIndex(u)+1,u=u.parentNode),{startContainer:o,startOffset:i,endContainer:u,endOffset:a}},Vs=Gn.each,qs={walk:function(e,n,t){var l,r,o,i,u,a,s,c=n.startContainer,d=n.startOffset,f=n.endContainer,p=n.endOffset;if((s=e.select("td[data-mce-selected],th[data-mce-selected]")).length>0)Vs(s,function(e){t([e])});else{var h,g,m,v=function(e){var n;return 3===(n=e[0]).nodeType&&n===c&&d>=n.nodeValue.length&&e.splice(0,1),n=e[e.length-1],0===p&&e.length>0&&n===f&&3===n.nodeType&&e.splice(e.length-1,1),e},b=function(e,n,t){for(var l=[];e&&e!==t;e=e[n])l.push(e);return l},y=function(e,n){do{if(e.parentNode===n)return e;e=e.parentNode}while(e)},C=function(e,n,l){var r=l?"nextSibling":"previousSibling";for(u=(i=e).parentNode;i&&i!==n;i=u)u=i.parentNode,(a=b(i===e?i:i[r],r)).length&&(l||a.reverse(),t(v(a)))};if(1===c.nodeType&&c.hasChildNodes()&&(c=c.childNodes[d]),1===f.nodeType&&f.hasChildNodes()&&(g=p,m=(h=f).childNodes,--g>m.length-1?g=m.length-1:g<0&&(g=0),f=m[g]||h),c===f)return t(v([c]));for(l=e.findCommonAncestor(c,f),i=c;i;i=i.parentNode){if(i===f)return C(c,l,!0);if(i===l)break}for(i=f;i;i=i.parentNode){if(i===c)return C(f,l);if(i===l)break}r=y(c,l)||c,o=y(f,l)||f,C(c,r,!0),(a=b(r===c?r:r.nextSibling,"nextSibling",o===f?o.nextSibling:o)).length&&t(v(a)),C(f,o)}}},js=function(e,n){var t=function(n){return e(n)?O.from(n.dom().nodeValue):O.none()},l=Qt.detect().browser,r=l.isIE()&&10===l.version.major?function(e){try{return t(e)}catch(e){return O.none()}}:t;return{get:function(t){if(!e(t))throw new Error("Can only get "+n+" value of a "+n+" node");return r(t).getOr("")},getOption:r,set:function(t,l){if(!e(t))throw new Error("Can only set raw "+n+" value of a "+n+" node");t.dom().nodeValue=l}}}(nl,"text"),Ws=function(e){return js.get(e)},Us=function(e,n,t,l){return El(n).fold(function(){return"skipping"},function(r){return"br"===l||function(e){return nl(e)&&"\ufeff"===Ws(e)}(n)?"valid":function(e){return el(e)&&So(e,No())}(n)?"existing":_u(n)?"caret":Es.isValid(e,t,l)&&Es.isValid(e,Xt(r),t)?"valid":"invalid-child"})},Qs=function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)n.indexOf(l[r])<0&&(t[l[r]]=e[l[r]])}return t},Gs=function(e,n,t,l){var r,o,i=n.uid,u=void 0===i?(r="mce-annotation",o=(new Date).getTime(),r+"_"+Math.floor(1e9*Math.random())+ ++Wo+String(o)):i,a=Qs(n,["uid"]),s=Kt.fromTag("span",e);ko(s,No()),al(s,""+Fo(),u),al(s,""+Bo(),t);var c=l(u,a),d=c.attributes,f=void 0===d?{}:d,p=c.classes,h=void 0===p?[]:p;return sl(s,f),function(e,n){L(n,function(n){ko(e,n)})}(s,h),s},Ks=function(e,n,t,l,r){var o=[],i=Gs(e.getDoc(),r,t,l),u=Co(O.none()),a=function(){u.set(O.none())},s=function(e){L(e,c)},c=function(n){var t,l;switch(Us(e,n,"span",Xt(n))){case"invalid-child":a();var r=Il(n);s(r),a();break;case"valid":var u=l.get().getOrThunk(function(){var e=Qo(i);return o.push(e),l.set(O.some(e)),e});fo(t=n,l=u),ho(l,t)}};return qs.walk(e.dom,n,function(e){a(),function(e){var n=F(e,Kt.fromDom);s(n)}(e)}),o},Ys=function(e,n,t,l){e.undoManager.transact(function(){var r=e.selection.getRng();if(r.collapsed&&function(e,n){var t=zs(e,n,[{inline:!0}],function(e){return 3===e.startContainer.nodeType&&e.startContainer.nodeValue.length>=e.startOffset&&"\xa0"===e.startContainer.nodeValue[e.startOffset]}(n));n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset),e.selection.setRng(n)}(e,r),e.selection.getRng().collapsed){var o=Gs(e.getDoc(),l,n,t.decorate);Ko(o,"\xa0"),e.selection.getRng().insertNode(o.dom()),e.selection.select(o.dom())}else{var i=xu.getPersistentBookmark(e.selection,!1),u=e.selection.getRng();Ks(e,u,n,t.decorate,l),e.selection.moveToBookmark(i)}})};function Zs(e){var n=jo();qo(e,n);var t=Vo(e,n);return{register:function(e,t){n.register(e,t)},annotate:function(t,l){n.lookup(t).each(function(n){Ys(e,t,n,l)})},annotationChanged:function(e,n){t.addListener(e,n)},remove:function(n){Lo(e,O.some(n)).each(function(e){var n=e.elements;L(n,bo)})},getAll:function(n){var t=zo(e,n);return ol(t,function(e){return F(e,function(e){return e.dom()})})}}}var Js=function(e){return Gn.grep(e.childNodes,function(e){return"LI"===e.nodeName})},Xs=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&function(e){return"\xa0"===e.data||Cr.isBr(e)}(e.firstChild)},$s=function(e){return e.length>0&&(!(n=e[e.length-1]).firstChild||Xs(n))?e.slice(0,-1):e;var n},ec=function(e,n){var t=e.getParent(n,e.isBlock);return t&&"LI"===t.nodeName?t:null},nc=function(e,n){var t=tu.after(e),l=Xu(n).prev(t);return l?l.toRange():null},tc=function(e,n,t){var l=e.parentNode;return Gn.each(n,function(n){l.insertBefore(n,e)}),function(e,n){var t=tu.before(e),l=Xu(n).next(t);return l?l.toRange():null}(e,t)},lc=function(e,n){var t=n.firstChild,l=n.lastChild;return t&&"meta"===t.name&&(t=t.next),l&&"mce_marker"===l.attr("id")&&(l=l.prev),function(e,n){var t=e.getNonEmptyElements();return n&&(n.isEmpty(t)||function(e,n){return e.getBlockElements()[n.name]&&function(e){return e.firstChild&&e.firstChild===e.lastChild}(n)&&function(e){return"br"===e.name||"\xa0"===e.value}(n.firstChild)}(e,n))}(e,l)&&(l=l.prev),!(!t||t!==l)&&("ul"===t.name||"ol"===t.name)},rc=function(e,n,t,l){var r=function(e,n,t){var l=n.serialize(t);return function(e){var n=e.firstChild,t=e.lastChild;return n&&"META"===n.nodeName&&n.parentNode.removeChild(n),t&&"mce_marker"===t.id&&t.parentNode.removeChild(t),e}(e.createFragment(l))}(n,e,l),o=ec(n,t.startContainer),i=$s(Js(r.firstChild)),u=n.getRoot(),a=function(e){var l=tu.fromRangeStart(t),r=Xu(n.getRoot()),i=1===e?r.prev(l):r.next(l);return!i||ec(n,i.getNode())!==o};return a(1)?tc(o,i,u):a(2)?function(e,n,t,l){return l.insertAfter(n.reverse(),e),nc(n[0],t)}(o,i,u,n):function(e,n,t,l){var r=function(e,n){var t=n.cloneRange(),l=n.cloneRange();return t.setStartBefore(e),l.setEndAfter(e),[t.cloneContents(),l.cloneContents()]}(e,l),o=e.parentNode;return o.insertBefore(r[0],e),Gn.each(n,function(n){o.insertBefore(n,e)}),o.insertBefore(r[1],e),o.removeChild(e),nc(n[n.length-1],t)}(o,i,u,t)},oc=function(e,n){return!!ec(e,n)},ic=Gn.each,uc=function(e){this.compare=function(n,t){if(n.nodeName!==t.nodeName)return!1;var l=function(n){var t={};return ic(e.getAttribs(n),function(l){var r=l.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(t[r]=e.getAttrib(n,r))}),t},r=function(e,n){var t,l;for(l in e)if(e.hasOwnProperty(l)){if("undefined"===typeof(t=n[l]))return!1;if(e[l]!==t)return!1;delete n[l]}for(l in n)if(n.hasOwnProperty(l))return!1;return!0};return!!r(l(n),l(t))&&!!r(e.parseStyle(e.getAttrib(n,"style")),e.parseStyle(e.getAttrib(t,"style")))&&!As.isBookmarkNode(n)&&!As.isBookmarkNode(t)}},ac=function(e){var n=Eo(e,"br"),t=z(function(e){for(var n=[],t=e.dom();t;)n.push(Kt.fromDom(t)),t=t.lastChild;return n}(e).slice(-1),tr);n.length===t.length&&L(t,vo)},sc=function(e){mo(e),ho(e,Kt.fromHtml('<br data-mce-bogus="1">'))},cc=function(e){Tl(e).each(function(n){Rl(n).each(function(t){er(e)&&tr(n)&&er(t)&&vo(n)})})},dc=Gn.makeMap;function fc(e){var n,t,l,r,o,i=[];return n=(e=e||{}).indent,t=dc(e.indent_before||""),l=dc(e.indent_after||""),r=Tr.getEncodeFunc(e.entity_encoding||"raw",e.entities),o="html"===e.element_format,{start:function(e,u,a){var s,c,d,f;if(n&&t[e]&&i.length>0&&(f=i[i.length-1]).length>0&&"\n"!==f&&i.push("\n"),i.push("<",e),u)for(s=0,c=u.length;s<c;s++)d=u[s],i.push(" ",d.name,'="',r(d.value,!0),'"');i[i.length]=!a||o?">":" />",a&&n&&l[e]&&i.length>0&&(f=i[i.length-1]).length>0&&"\n"!==f&&i.push("\n")},end:function(e){var t;i.push("</",e,">"),n&&l[e]&&i.length>0&&(t=i[i.length-1]).length>0&&"\n"!==t&&i.push("\n")},text:function(e,n){e.length>0&&(i[i.length]=n?e:r(e))},cdata:function(e){i.push("<![CDATA[",e,"]]>")},comment:function(e){i.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?i.push("<?",e," ",r(t),"?>"):i.push("<?",e,"?>"),n&&i.push("\n")},doctype:function(e){i.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){i.length=0},getContent:function(){return i.join("").replace(/\n$/,"")}}}function pc(e,n){void 0===n&&(n=Ur());var t=fc(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(l){var r,o;o=e.validate,r={3:function(e){t.text(e.value,e.raw)},8:function(e){t.comment(e.value)},7:function(e){t.pi(e.name,e.value)},10:function(e){t.doctype(e.value)},4:function(e){t.cdata(e.value)},11:function(e){if(e=e.firstChild)do{i(e)}while(e=e.next)}},t.reset();var i=function(e){var l,u,a,s,c,d,f,p,h,g=r[e.type];if(g)g(e);else{if(l=e.name,u=e.shortEnded,a=e.attributes,o&&a&&a.length>1&&((d=[]).map={},h=n.getElementRule(e.name))){for(f=0,p=h.attributesOrder.length;f<p;f++)(s=h.attributesOrder[f])in a.map&&(c=a.map[s],d.map[s]=c,d.push({name:s,value:c}));for(f=0,p=a.length;f<p;f++)(s=a[f].name)in d.map||(c=a.map[s],d.map[s]=c,d.push({name:s,value:c}));a=d}if(t.start(e.name,a,u),!u){if(e=e.firstChild)do{i(e)}while(e=e.next);t.end(l)}}};return 1!==l.type||e.inner?r[11](l):i(l),t.getContent()}}}var hc=function(e){var n=tu.fromRangeStart(e),t=tu.fromRangeEnd(e),l=e.commonAncestorContainer;return ms.fromPosition(!1,l,t).map(function(r){return!Ka(n,t,l)&&Ka(n,r,l)?function(e,n,t,l){var r=document.createRange();return r.setStart(e,n),r.setEnd(t,l),r}(n.container(),n.offset(),r.container(),r.offset()):e}).getOr(e)},gc=function(e){return e.collapsed?e:hc(e)},mc=Cr.matchNodeNames("td th"),vc=function(e,n){var t=e.selection.getRng(),l=t.startContainer,r=t.startOffset;t.collapsed&&function(e,n){return Cr.isText(e)&&"\xa0"===e.nodeValue[n-1]}(l,r)&&Cr.isText(l)&&(l.insertData(r-1," "),l.deleteData(r,1),t.setStart(l,r),t.setEnd(l,r),e.selection.setRng(t)),e.selection.setContent(n)},bc=function(e,n,t){var l,r,o,i,u,a,s,c,d,f,p,h=e.selection,g=e.dom;if(/^ | $/.test(n)&&(n=function(e,n){var t,l;t=e.startContainer,l=e.startOffset;var r=function(e){return t[e]&&3===t[e].nodeType};return 3===t.nodeType&&(l>0?n=n.replace(/^&nbsp;/," "):r("previousSibling")||(n=n.replace(/^ /,"&nbsp;")),l<t.length?n=n.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(n=n.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),n}(h.getRng(),n)),l=e.parser,p=t.merge,r=pc({validate:e.settings.validate},e.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',a={content:n,format:"html",selection:!0,paste:t.paste},(a=e.fire("BeforeSetContent",a)).isDefaultPrevented())e.fire("SetContent",{content:a.content,format:"html",selection:!0,paste:t.paste});else{-1===(n=a.content).indexOf("{$caret}")&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,f);var m=(c=h.getRng()).startContainer||(c.parentElement?c.parentElement():null),v=e.getBody();m===v&&h.isCollapsed()&&g.isBlock(v.firstChild)&&function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]}(e,v.firstChild)&&g.isEmpty(v.firstChild)&&((c=g.createRng()).setStart(v.firstChild,0),c.setEnd(v.firstChild,0),h.setRng(c)),h.isCollapsed()||(e.selection.setRng(gc(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),n=function(e,n){var t,l;return t=e.startContainer,l=e.startOffset,3===t.nodeType&&e.collapsed&&("\xa0"===t.data[l]?(t.deleteData(l,1),/[\u00a0| ]$/.test(n)||(n+=" ")):"\xa0"===t.data[l-1]&&(t.deleteData(l-1,1),/[\u00a0| ]$/.test(n)||(n=" "+n))),n}(e.selection.getRng(),n));var b,y={context:(o=h.getNode()).nodeName.toLowerCase(),data:t.data,insert:!0};if(u=l.parse(n,y),!0===t.paste&&lc(e.schema,u)&&oc(g,o))return c=rc(r,g,e.selection.getRng(),u),e.selection.setRng(c),void e.fire("SetContent",a);if(function(e){for(var n=e;n=n.walk();)1===n.type&&n.attr("data-mce-fragment","1")}(u),"mce_marker"===(d=u.lastChild).attr("id"))for(s=d,d=d.prev;d;d=d.walk(!0))if(3===d.type||!g.isBlock(d.name)){e.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(s,d,"br"===d.name);break}if(e._selectionOverrides.showBlockCaretContainer(o),y.invalid){for(vc(e,f),o=h.getNode(),i=e.getBody(),9===o.nodeType?o=d=i:d=o;d!==i;)o=d,d=d.parentNode;n=o===i?i.innerHTML:g.getOuterHTML(o),n=r.serialize(l.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(u)}))),o===i?g.setHTML(i,n):g.setOuterHTML(o,n)}else!function(e,n,t){if("all"===t.getAttribute("data-mce-bogus"))t.parentNode.insertBefore(e.dom.createFragment(n),t);else{var l=t.firstChild,r=t.lastChild;!l||l===r&&"BR"===l.nodeName?e.dom.setHTML(t,n):vc(e,n)}}(e,n=r.serialize(u),o);!function(e,n){var t=e.schema.getTextInlineElements(),l=e.dom;if(n){var r=e.getBody(),o=new uc(l);Gn.each(l.select("*[data-mce-fragment]"),function(e){for(var n=e.parentNode;n&&n!==r;n=n.parentNode)t[e.nodeName.toLowerCase()]&&o.compare(n,e)&&l.remove(e,!0)})}}(e,p),function(e,n){var t,l,r,o,i,u=e.dom,a=e.selection;if(n){if(e.selection.scrollIntoView(n),t=function(n){for(var t=e.getBody();n&&n!==t;n=n.parentNode)if("false"===e.dom.getContentEditable(n))return n;return null}(n))return u.remove(n),void a.select(t);var s=u.createRng();(o=n.previousSibling)&&3===o.nodeType?(s.setStart(o,o.nodeValue.length),ae.ie||(i=n.nextSibling)&&3===i.nodeType&&(o.appendData(i.data),i.parentNode.removeChild(i))):(s.setStartBefore(n),s.setEndBefore(n)),l=u.getParent(n,u.isBlock),u.remove(n),l&&u.isEmpty(l)&&(e.$(l).empty(),s.setStart(l,0),s.setEnd(l,0),mc(l)||function(e){return!!e.getAttribute("data-mce-fragment")}(l)||!(r=function(n){var t=tu.fromRangeStart(n);if(t=Xu(e.getBody()).next(t))return t.toRange()}(s))?u.add(l,u.create("br",{"data-mce-bogus":"1"})):(s=r,u.remove(l))),a.setRng(s)}}(e,g.get("mce_marker")),b=e.getBody(),Gn.each(b.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),function(e,n){O.from(e.getParent(n,"td,th")).map(Kt.fromDom).each(cc)}(e.dom,e.selection.getStart()),e.fire("SetContent",a),e.addVisual()}},yc={insertAtCaret:function(e,n){var t=function(e){var n;return"string"!==typeof e?(n=Gn.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:n}):{content:e,details:{}}}(n);bc(e,t.content,t.details)}},Cc=ml("sections","settings"),wc=Qt.detect().deviceType.isTouch(),xc=["lists","autolink","autosave"],_c={theme:"mobile"},Ac=function(e){var n=P(e)?e.join(" "):e,t=F(E(n)?n.split(" "):[],Lt);return z(t,function(e){return e.length>0})},kc=function(e,n){var t,l,r,o=(t=function(n,t){return B(e,t)},l={},r={},rl(n,function(e,n){(t(e,n)?l:r)[n]=e}),{t:l,f:r});return Cc(o.t,o.f)},Oc=function(e,n){return e.sections().hasOwnProperty(n)},Sc=function(e,n,t,l){var r=Ac(t.forced_plugins),o=Ac(l.plugins),i=function(e,n){return[].concat(Ac(e)).concat(Ac(n))}(r,e&&Oc(n,"mobile")?function(e){return z(e,b(B,xc))}(o):o);return Gn.extend(l,{plugins:i.join(" ")})},Ec=function(e,n,t,l){var r=kc(["mobile"],l),o=Gn.extend(n,t,r.settings(),function(e,n){var t=n.settings().inline;return e&&Oc(n,"mobile")&&!t}(e,r)?function(e,n,t){var l=e.sections(),r=l.hasOwnProperty(n)?l[n]:{};return Gn.extend({},t,r)}(r,"mobile",_c):{},{validate:!0,content_editable:r.settings().inline,external_plugins:function(e,n){var t=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?Gn.extend({},e.external_plugins,t):t}(t,r.settings())});return Sc(e,r,t,o)},Rc=function(e,n,t){return O.from(n.settings[t]).filter(e)},Pc=b(Rc,E),Mc=function(e,n,t,l){var r,o=n in e.settings?e.settings[n]:t;return"hash"===l?function(e){var n={};return"string"===typeof e?L(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){var t=e.split("=");t.length>1?n[Gn.trim(t[0])]=Gn.trim(t[1]):n[Gn.trim(t[0])]=Gn.trim(t)}):n=e,n}(o):"string"===l?Rc(E,e,n).getOr(t):"number"===l?Rc(T,e,n).getOr(t):"boolean"===l?Rc(I,e,n).getOr(t):"object"===l?Rc(R,e,n).getOr(t):"array"===l?Rc(P,e,n).getOr(t):"string[]"===l?Rc((r=E,function(e){return P(e)&&G(e,r)}),e,n).getOr(t):"function"===l?Rc(D,e,n).getOr(t):o},Ic=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Dc=function(e,n){var t=n.container(),l=n.offset();return e?ri(t)?Cr.isText(t.nextSibling)?tu(t.nextSibling,0):tu.after(t):ui(n)?tu(t,l+1):n:ri(t)?Cr.isText(t.previousSibling)?tu(t.previousSibling,t.previousSibling.data.length):tu.before(t):ai(n)?tu(t,l-1):n},Tc={isInlineTarget:function(e,n){var t=Pc(e,"inline_boundaries_selector").getOr("a[href],code");return _l(Kt.fromDom(n),t)},findRootInline:function(e,n,t){var l=function(e,n,t){return z(lo.DOM.getParents(t.container(),"*",n),e)}(e,n,t);return O.from(l[l.length-1])},isRtl:function(e){return"rtl"===lo.DOM.getStyle(e,"direction",!0)||(n=e.textContent,Ic.test(n));var n},isAtZwsp:function(e){return ui(e)||ai(e)},normalizePosition:Dc,normalizeForwards:b(Dc,!0),normalizeBackwards:b(Dc,!1),hasSameParentBlock:function(e,n,t){var l=Ga(n,e),r=Ga(t,e);return l&&l===r}},Nc=function(e,n){return Ol(e,n)?Mo(n,function(e){return lr(e)||or(e)},function(e){return function(n){return kl(e,Kt.fromDom(n.dom().parentNode))}}(e)):O.none()},Bc=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),function(e){var n=e.getBody(),t=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(t,0)}(e))},Fc=function(e,n,t){return Ni([ms.firstPositionIn(t),ms.lastPositionIn(t)],function(l,r){var o=Tc.normalizePosition(!0,l),i=Tc.normalizePosition(!1,r),u=Tc.normalizePosition(!1,n);return e?ms.nextPosition(t,u).map(function(e){return e.isEqual(i)&&n.isEqual(o)}).getOr(!1):ms.prevPosition(t,u).map(function(e){return e.isEqual(o)&&n.isEqual(i)}).getOr(!1)}).getOr(!0)},Lc=function(e,n){var t,l,r,o=Kt.fromDom(e),i=Kt.fromDom(n);return t=i,l="pre,code",r=b(kl,o),Io(t,l,r).isSome()},Hc=function(e,n){return wi(n)&&!1===function(e,n){return Cr.isText(n)&&/^[ \t\r\n]*$/.test(n.data)&&!1===Lc(e,n)}(e,n)||function(e){return Cr.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name")}(n)||zc(n)},zc=Cr.hasAttribute("data-mce-bookmark"),Vc=Cr.hasAttribute("data-mce-bogus"),qc=Cr.hasAttributeValue("data-mce-bogus","all"),jc=function(e){return function(e){var n,t,l=0;if(Hc(e,e))return!1;if(!(t=e.firstChild))return!0;n=new Kl(t,e);do{if(qc(t))t=n.next(!0);else if(Vc(t))t=n.next();else if(Cr.isBr(t))l++,t=n.next();else{if(Hc(e,t))return!1;t=n.next()}}while(t);return l<=1}(e.dom())},Wc=ml("block","position"),Uc=ml("from","to"),Qc=function(e,n){var t=Kt.fromDom(e),l=Kt.fromDom(n.container());return Nc(t,l).map(function(e){return Wc(e,n)})},Gc=function(e,n,t){var l=Qc(e,tu.fromRangeStart(t)),r=l.bind(function(t){return ms.fromPosition(n,e,t.position()).bind(function(t){return Qc(e,t).map(function(t){return function(e,n,t){return Cr.isBr(t.position().getNode())&&!1===jc(t.block())?ms.positionIn(!1,t.block().dom()).bind(function(l){return l.isEqual(t.position())?ms.fromPosition(n,e,l).bind(function(n){return Qc(e,n)}):O.some(t)}).getOr(t):t}(e,n,t)})})});return Ni([l,r],Uc).filter(function(e){return function(e){return!1===kl(e.from().block(),e.to().block())}(e)&&function(e){return El(e.from().block()).bind(function(n){return El(e.to().block()).filter(function(e){return kl(n,e)})}).isSome()}(e)&&function(e){return!1===Cr.isContentEditableFalse(e.from().block())&&!1===Cr.isContentEditableFalse(e.to().block())}(e)})},Kc=function(e,n,t){return t.collapsed?Gc(e,n,t):O.none()},Yc=function(e,n,t){return Ol(n,e)?function(e,n){for(var t=D(n)?n:m(!1),l=e.dom(),r=[];null!==l.parentNode&&void 0!==l.parentNode;){var o=l.parentNode,i=Kt.fromDom(o);if(r.push(i),!0===t(i))break;l=o}return r}(e,function(e){return t(e)||kl(e,n)}).slice(0,-1):[]},Zc=function(e,n){return Yc(e,n,m(!1))},Jc=Zc,Xc=function(e,n){return[e].concat(Zc(e,n))},$c=function(e){var n=function(e){var n=Il(e);return j(n,er).fold(function(){return n},function(e){return n.slice(0,e)})}(e);return L(n,vo),n},ed=function(e,n){var t=Xc(n,e);return q(t.reverse(),jc).each(vo)},nd=function(e,n,t,l){if(jc(t))return sc(t),ms.firstPositionIn(t.dom());0===z(Ml(l),function(e){return!jc(e)}).length&&jc(n)&&fo(l,Kt.fromTag("br"));var r=ms.prevPosition(t.dom(),tu.before(l.dom()));return L($c(n),function(e){fo(l,e)}),ed(e,n),r},td=function(e,n,t){if(jc(t))return vo(t),jc(n)&&sc(n),ms.firstPositionIn(n.dom());var l=ms.lastPositionIn(t.dom());return L($c(n),function(e){ho(t,e)}),ed(e,n),l},ld=function(e,n){return Ol(n,e)?function(e,n){var t=Xc(n,e);return O.from(t[t.length-1])}(n,e):O.none()},rd=function(e,n){ms.positionIn(e,n.dom()).map(function(e){return e.getNode()}).map(Kt.fromDom).filter(tr).each(vo)},od=function(e,n,t){return rd(!0,n),rd(!1,t),ld(n,t).fold(b(td,e,n,t),b(nd,e,n,t))},id=function(e,n,t,l){return n?od(e,l,t):od(e,t,l)},ud=function(e,n){var t,l=Kt.fromDom(e.getBody());return(t=Kc(l.dom(),n,e.selection.getRng()).bind(function(e){return id(l,n,e.from().block(),e.to().block())})).each(function(n){e.selection.setRng(n.toRange())}),t.isSome()},ad=function(e,n){var t=Kt.fromDom(n),l=b(kl,e);return Po(t,ar,l).isSome()},sd=function(e,n){var t=ms.prevPosition(e.dom(),tu.fromRangeStart(n)).isNone(),l=ms.nextPosition(e.dom(),tu.fromRangeEnd(n)).isNone();return!function(e,n){return ad(e,n.startContainer)||ad(e,n.endContainer)}(e,n)&&t&&l},cd=function(e){var n=Kt.fromDom(e.getBody()),t=e.selection.getRng();return sd(n,t)?function(e){return e.setContent(""),e.selection.setCursorLocation(),!0}(e):function(e,n){var t=n.getRng();return Ni([Nc(e,Kt.fromDom(t.startContainer)),Nc(e,Kt.fromDom(t.endContainer))],function(l,r){return!1===kl(l,r)&&(t.deleteContents(),id(e,!0,l,r).each(function(e){n.setRng(e.toRange())}),!0)}).getOr(!1)}(n,e.selection)},dd=function(e,n){return!e.selection.isCollapsed()&&cd(e)},fd=function(e){if(!P(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],t={};return L(e,function(l,r){var o=tl(l);if(1!==o.length)throw new Error("one and only one name per case");var i=o[0],u=l[i];if(void 0!==t[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!P(u))throw new Error("case arguments must be an array");n.push(i),t[i]=function(){var t=arguments.length;if(t!==u.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+u.length+" ("+u+"), got "+t);for(var l=new Array(t),o=0;o<l.length;o++)l[o]=arguments[o];return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[r].apply(null,l)},match:function(e){var t=tl(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!G(n,function(e){return B(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[i].apply(null,l)},log:function(e){console.log(e,{constructors:n,constructor:i,params:l})}}}}),t},pd=fd([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),hd=function(e,n,t,l){var r=l.getNode(!1===n);return Nc(Kt.fromDom(e),Kt.fromDom(t.getNode())).map(function(e){return jc(e)?pd.remove(e.dom()):pd.moveToElement(r)}).orThunk(function(){return O.some(pd.moveToElement(r))})},gd=function(e,n,t){return ms.fromPosition(n,e,t).bind(function(l){return r=l.getNode(),ar(Kt.fromDom(r))||or(Kt.fromDom(r))?O.none():function(e,n,t,l){var r=function(n){return nr(Kt.fromDom(n))&&!Ka(t,l,e)};return rs(!n,t).fold(function(){return rs(n,l).fold(m(!1),r)},r)}(e,n,t,l)?O.none():n&&Cr.isContentEditableFalse(l.getNode())?hd(e,n,t,l):!1===n&&Cr.isContentEditableFalse(l.getNode(!0))?hd(e,n,t,l):n&&us(t)?O.some(pd.moveToPosition(l)):!1===n&&is(t)?O.some(pd.moveToPosition(l)):O.none();var r})},md=function(e,n,t){return function(e,n){var t=n.getNode(!1===e),l=e?"after":"before";return Cr.isElement(t)&&t.getAttribute("data-mce-caret")===l}(n,t)?function(e,n){return e&&Cr.isContentEditableFalse(n.nextSibling)?O.some(pd.moveToElement(n.nextSibling)):!1===e&&Cr.isContentEditableFalse(n.previousSibling)?O.some(pd.moveToElement(n.previousSibling)):O.none()}(n,t.getNode(!1===n)).fold(function(){return gd(e,n,t)},O.some):gd(e,n,t).bind(function(n){return function(e,n,t){return t.fold(function(e){return O.some(pd.remove(e))},function(e){return O.some(pd.moveToElement(e))},function(t){return Ka(n,t,e)?O.none():O.some(pd.moveToPosition(t))})}(e,t,n)})},vd=function(e,n,t){if(0!==t){var l=e.data.slice(n,n+t),r=n+t>=e.data.length,o=0===n;e.replaceData(n,t,function(e,n,t){return V(e.split(""),function(l,r){return function(e){return-1!==" \f\n\r\t\v".indexOf(e)}(r)||"\xa0"===r?l.previousCharIsSpace||""===l.str&&n||l.str.length===e.length-1&&t?{previousCharIsSpace:!1,str:l.str+"\xa0"}:{previousCharIsSpace:!0,str:l.str+" "}:{previousCharIsSpace:!1,str:l.str+r}},{previousCharIsSpace:!1,str:""}).str}(l,o,r))}},bd=function(e,n){var t,l=e.data.slice(n),r=l.length-(t=l,t.replace(/^\s+/g,"")).length;return vd(e,n,r)},yd=function(e,n){return function(e,n){var t=e.container(),l=e.offset();return!1===tu.isTextPosition(e)&&t===n.parentNode&&l>tu.before(n).offset()}(n,e)?tu(n.container(),n.offset()-1):n},Cd=function(e){return wi(e.previousSibling)?O.some((n=e.previousSibling,Cr.isText(n)?tu(n,n.data.length):tu.after(n))):e.previousSibling?ms.lastPositionIn(e.previousSibling):O.none();var n},wd=function(e){return wi(e.nextSibling)?O.some((n=e.nextSibling,Cr.isText(n)?tu(n,0):tu.before(n))):e.nextSibling?ms.firstPositionIn(e.nextSibling):O.none();var n},xd=function(e,n){return Cd(n).orThunk(function(){return wd(n)}).orThunk(function(){return function(e,n){var t=tu.before(n.previousSibling?n.previousSibling:n.parentNode);return ms.prevPosition(e,t).fold(function(){return ms.nextPosition(e,tu.after(n))},O.some)}(e,n)})},_d=function(e,n){return wd(n).orThunk(function(){return Cd(n)}).orThunk(function(){return function(e,n){return ms.nextPosition(e,tu.after(n)).fold(function(){return ms.prevPosition(e,tu.before(n))},O.some)}(e,n)})},Ad=function(e,n,t){return function(e,n,t){return e?_d(n,t):xd(n,t)}(e,n,t).map(b(yd,t))},kd=function(e,n,t){t.fold(function(){e.focus()},function(t){e.selection.setRng(t.toRange(),n)})},Od=function(e,n){return n&&e.schema.getBlockElements().hasOwnProperty(Xt(n))},Sd=function(e){if(jc(e)){var n=Kt.fromHtml('<br data-mce-bogus="1">');return mo(e),ho(e,n),O.some(tu.before(n.dom()))}return O.none()},Ed=function(e,n,t){var l=Rl(e).filter(function(e){return Cr.isText(e.dom())}),r=Pl(e).filter(function(e){return Cr.isText(e.dom())});return vo(e),Ni([l,r,n],function(e,n,l){var r=e.dom(),o=n.dom(),i=r.data.length;return function(e,n,t){var l=Ht(e.data).length;e.appendData(n.data),vo(Kt.fromDom(n)),t&&bd(e,l)}(r,o,t),l.container()===o?tu(r,i):l}).orThunk(function(){return t&&(l.each(function(e){return n=e.dom(),t=e.dom().length,l=n.data.slice(0,t),r=l.length-Ht(l).length,vd(n,t-r,r);var n,t,l,r}),r.each(function(e){return bd(e.dom(),0)})),n})},Rd=function(e,n){return t=e.schema.getTextInlineElements(),l=Xt(n),ll.call(t,l);var t,l},Pd=function(e,n,t,l){void 0===l&&(l=!0);var r,o=Ad(n,e.getBody(),t.dom()),i=Po(t,b(Od,e),(r=e.getBody(),function(e){return e.dom()===r})),u=Ed(t,o,Rd(e,t));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(Sd).fold(function(){l&&kd(e,n,u)},function(t){l&&kd(e,n,O.some(t))})},Md=function(e,n){return function(e,n,t){var l=ns(n?1:-1,e,t),r=tu.fromRangeStart(l);return!1===n&&us(r)?O.some(pd.remove(r.getNode(!0))):n&&is(r)?O.some(pd.remove(r.getNode())):md(e,n,r)}(e.getBody(),n,e.selection.getRng()).map(function(t){return t.fold(function(e,n){return function(t){return e._selectionOverrides.hideFakeCaret(),Pd(e,n,Kt.fromDom(t)),!0}}(e,n),function(e,n){return function(t){var l=n?tu.before(t):tu.after(t);return e.selection.setRng(l.toRange()),!0}}(e,n),function(e){return function(n){return e.selection.setRng(n.toRange()),!0}}(e))}).getOr(!1)},Id=function(e,n){var t,l=e.selection.getNode();return!!Cr.isContentEditableFalse(l)&&(t=Kt.fromDom(e.getBody()),L(Eo(t,".mce-offscreen-selection"),vo),Pd(e,n,Kt.fromDom(e.selection.getNode())),Bc(e),!0)},Dd=function(e,n){return e.selection.isCollapsed()?Md(e,n):Id(e,n)},Td=function(e){var n,t=function(e,n){for(;n&&n!==e;){if(Cr.isContentEditableTrue(n)||Cr.isContentEditableFalse(n))return n;n=n.parentNode}return null}(e.getBody(),e.selection.getNode());return Cr.isContentEditableTrue(t)&&e.dom.isBlock(t)&&e.dom.isEmpty(t)&&(n=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(t,""),t.appendChild(n),e.selection.setRng(tu.before(n).toRange())),!0},Nd=Cr.isText,Bd=function(e){return Nd(e)&&e.data[0]===$o},Fd=function(e){return Nd(e)&&e.data[e.data.length-1]===$o},Ld=function(e){return e.ownerDocument.createTextNode($o)},Hd=function(e,n){return e?function(e){if(Nd(e.previousSibling))return Fd(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData($o),e.previousSibling);if(Nd(e))return Bd(e)?e:(e.insertData(0,$o),e);var n=Ld(e);return e.parentNode.insertBefore(n,e),n}(n):function(e){if(Nd(e.nextSibling))return Bd(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,$o),e.nextSibling);if(Nd(e))return Fd(e)?e:(e.appendData($o),e);var n=Ld(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n}(n)},zd=b(Hd,!0),Vd=b(Hd,!1),qd=function(e,n){return Cr.isText(e.container())?Hd(n,e.container()):Hd(n,e.getNode())},jd=function(e,n){var t=n.get();return t&&e.container()===t&&ri(t)},Wd=function(e,n){return n.fold(function(n){Tu.remove(e.get());var t=zd(n);return e.set(t),O.some(tu(t,t.length-1))},function(n){return ms.firstPositionIn(n).map(function(n){if(jd(n,e))return tu(e.get(),1);Tu.remove(e.get());var t=qd(n,!0);return e.set(t),tu(t,1)})},function(n){return ms.lastPositionIn(n).map(function(n){if(jd(n,e))return tu(e.get(),e.get().length-1);Tu.remove(e.get());var t=qd(n,!1);return e.set(t),tu(t,t.length-1)})},function(n){Tu.remove(e.get());var t=Vd(n);return e.set(t),O.some(tu(t,1))})},Ud=function(e,n){for(var t=0;t<e.length;t++){var l=e[t].apply(null,n);if(l.isSome())return l}return O.none()},Qd=fd([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Gd=function(e,n){var t=Ga(n,e);return t||e},Kd=function(e,n,t){var l=Tc.normalizeForwards(t),r=Gd(n,l.container());return Tc.findRootInline(e,r,l).fold(function(){return ms.nextPosition(r,l).bind(b(Tc.findRootInline,e,r)).map(function(e){return Qd.before(e)})},O.none)},Yd=function(e,n){return null===Au(e,n)},Zd=function(e,n,t){return Tc.findRootInline(e,n,t).filter(b(Yd,n))},Jd=function(e,n,t){var l=Tc.normalizeBackwards(t);return Zd(e,n,l).bind(function(e){return ms.prevPosition(e,l).isNone()?O.some(Qd.start(e)):O.none()})},Xd=function(e,n,t){var l=Tc.normalizeForwards(t);return Zd(e,n,l).bind(function(e){return ms.nextPosition(e,l).isNone()?O.some(Qd.end(e)):O.none()})},$d=function(e,n,t){var l=Tc.normalizeBackwards(t),r=Gd(n,l.container());return Tc.findRootInline(e,r,l).fold(function(){return ms.prevPosition(r,l).bind(b(Tc.findRootInline,e,r)).map(function(e){return Qd.after(e)})},O.none)},ef=function(e){return!1===Tc.isRtl(tf(e))},nf=function(e,n,t){return Ud([Kd,Jd,Xd,$d],[e,n,t]).filter(ef)},tf=function(e){return e.fold(v,v,v,v)},lf=function(e){return e.fold(m("before"),m("start"),m("end"),m("after"))},rf=function(e){return e.fold(Qd.before,Qd.before,Qd.after,Qd.after)},of=function(e,n,t,l,r,o){return Ni([Tc.findRootInline(n,t,l),Tc.findRootInline(n,t,r)],function(n,l){return n!==l&&Tc.hasSameParentBlock(t,n,l)?Qd.after(e?n:l):o}).getOr(o)},uf=function(e,n){return e.fold(m(!0),function(e){return l=n,!(lf(t=e)===lf(l)&&tf(t)===tf(l));var t,l})},af=function(e,n){return e?n.fold(g(O.some,Qd.start),O.none,g(O.some,Qd.after),O.none):n.fold(O.none,g(O.some,Qd.before),O.none,g(O.some,Qd.end))},sf=function(e,n,t,l){var r=Tc.normalizePosition(e,l),o=nf(n,t,r);return nf(n,t,r).bind(b(af,e)).orThunk(function(){return function(e,n,t,l,r){var o=Tc.normalizePosition(e,r);return ms.fromPosition(e,t,o).map(b(Tc.normalizePosition,e)).fold(function(){return l.map(rf)},function(r){return nf(n,t,r).map(b(of,e,n,t,o,r)).filter(b(uf,l))}).filter(ef)}(e,n,t,o,l)})},cf=nf,df=sf,ff=(b(sf,!1),b(sf,!0),rf),pf=function(e){return e.fold(Qd.start,Qd.start,Qd.end,Qd.end)},hf=function(e){return D(e.selection.getSel().modify)},gf=function(e,n,t){var l=e?1:-1;return n.setRng(tu(t.container(),t.offset()+l).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},mf=function(e,n){var t=n.selection.getRng(),l=e?tu.fromRangeEnd(t):tu.fromRangeStart(t);return!!hf(n)&&(e&&ui(l)?gf(!0,n.selection,l):!(e||!ai(l))&&gf(!1,n.selection,l))},vf=function(e,n){var t=e.dom.createRng();t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),e.selection.setRng(t)},bf=function(e){return!1!==e.settings.inline_boundaries},yf=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},Cf=function(e,n,t){return Wd(n,t).map(function(n){return vf(e,n),t})},wf=function(e,n,t){return function(){return!!bf(n)&&mf(e,n)}},xf={move:function(e,n,t){return function(){return!!bf(e)&&function(e,n,t){var l=e.getBody(),r=tu.fromRangeStart(e.selection.getRng()),o=b(Tc.isInlineTarget,e);return df(t,o,l,r).bind(function(t){return Cf(e,n,t)})}(e,n,t).isSome()}},moveNextWord:b(wf,!0),movePrevWord:b(wf,!1),setupSelectedState:function(e){var n=Co(null),t=b(Tc.isInlineTarget,e);return e.on("NodeChange",function(l){bf(e)&&(function(e,n,t){var l=z(n.select('*[data-mce-selected="inline-boundary"]'),e),r=z(t,e);L(Y(l,r),b(yf,!1)),L(Y(r,l),b(yf,!0))}(t,e.dom,l.parents),function(e,n){if(e.selection.isCollapsed()&&!0!==e.composing&&n.get()){var t=tu.fromRangeStart(e.selection.getRng());tu.isTextPosition(t)&&!1===Tc.isAtZwsp(t)&&(vf(e,Tu.removeAndReposition(n.get(),t)),n.set(null))}}(e,n),function(e,n,t,l){if(n.selection.isCollapsed()){var r=z(l,e);L(r,function(l){var r=tu.fromRangeStart(n.selection.getRng());cf(e,n.getBody(),r).bind(function(e){return Cf(n,t,e)})})}}(t,e,n,l.parents))}),n},setCaretPosition:vf},_f=function(e,n){return function(t){return Wd(n,t).map(function(n){return xf.setCaretPosition(e,n),!0}).getOr(!1)}},Af=function(e,n,t,l){var r=e.getBody(),o=b(Tc.isInlineTarget,e);e.undoManager.ignore(function(){e.selection.setRng(function(e,n){var t=document.createRange();return t.setStart(e.container(),e.offset()),t.setEnd(n.container(),n.offset()),t}(t,l)),e.execCommand("Delete"),cf(o,r,tu.fromRangeStart(e.selection.getRng())).map(pf).map(_f(e,n))}),e.nodeChanged()},kf=function(e,n,t,l){var r=function(e,n){var t=Ga(n,e);return t||e}(e.getBody(),l.container()),o=b(Tc.isInlineTarget,e),i=cf(o,r,l);return i.bind(function(e){return t?e.fold(m(O.some(pf(e))),O.none,m(O.some(ff(e))),O.none):e.fold(O.none,m(O.some(ff(e))),O.none,m(O.some(pf(e))))}).map(_f(e,n)).getOrThunk(function(){var u=ms.navigate(t,r,l),a=u.bind(function(e){return cf(o,r,e)});return i.isSome()&&a.isSome()?Tc.findRootInline(o,r,l).map(function(n){return!!function(e){return Ni([ms.firstPositionIn(e),ms.lastPositionIn(e)],function(n,t){var l=Tc.normalizePosition(!0,n),r=Tc.normalizePosition(!1,t);return ms.nextPosition(e,l).map(function(e){return e.isEqual(r)}).getOr(!0)}).getOr(!0)}(n)&&(Pd(e,t,Kt.fromDom(n)),!0)}).getOr(!1):a.bind(function(r){return u.map(function(r){return t?Af(e,n,l,r):Af(e,n,r,l),!0})}).getOr(!1)})},Of=function(e,n,t){if(e.selection.isCollapsed()&&function(e){return!1!==e.settings.inline_boundaries}(e)){var l=tu.fromRangeStart(e.selection.getRng());return kf(e,n,t,l)}return!1},Sf=ml("start","end"),Ef=ml("rng","table","cells"),Rf=fd([{removeTable:["element"]},{emptyCells:["cells"]}]),Pf=function(e,n){return To(Kt.fromDom(e),"td,th",n)},Mf=function(e,n){return Io(e,"table",n)},If=function(e){return!1===kl(e.start(),e.end())},Df=function(e,n){return Mf(e.start(),n).bind(function(t){return Mf(e.end(),n).bind(function(e){return kl(t,e)?O.some(t):O.none()})})},Tf=function(e){return Eo(e,"td,th")},Nf=function(e,n){var t=Pf(n.startContainer,e),l=Pf(n.endContainer,e);return n.collapsed?O.none():Ni([t,l],Sf).fold(function(){return t.fold(function(){return l.bind(function(n){return Mf(n,e).bind(function(e){return Z(Tf(e)).map(function(e){return Sf(e,n)})})})},function(n){return Mf(n,e).bind(function(e){return J(Tf(e)).map(function(e){return Sf(n,e)})})})},function(n){return Bf(e,n)?O.none():function(e,n){return Mf(e.start(),n).bind(function(n){return J(Tf(n)).map(function(n){return Sf(e.start(),n)})})}(n,e)})},Bf=function(e,n){return Df(n,e).isSome()},Ff=function(e,n){var t=function(e){return b(kl,e)}(e);return function(e,n){var t=Pf(e.startContainer,n),l=Pf(e.endContainer,n);return Ni([t,l],Sf).filter(If).filter(function(e){return Bf(n,e)}).orThunk(function(){return Nf(n,e)})}(n,t).bind(function(e){return function(e,n){return Df(e,n).map(function(n){return Ef(e,n,Tf(n))})}(e,t)})},Lf=function(e,n){return j(e,function(e){return kl(e,n)})},Hf=function(e){return function(e){return Ni([Lf(e.cells(),e.rng().start()),Lf(e.cells(),e.rng().end())],function(n,t){return e.cells().slice(n,t+1)})}(e).map(function(n){var t=e.cells();return n.length===t.length?Rf.removeTable(e.table()):Rf.emptyCells(n)})},zf=function(e,n){return Ff(e,n).bind(Hf)},Vf=function(e){var n=[];if(e)for(var t=0;t<e.rangeCount;t++)n.push(e.getRangeAt(t));return n},qf=Vf,jf=function(e){return Q(e,function(e){var n=Mi(e);return n?[Kt.fromDom(n)]:[]})},Wf=function(e){return Vf(e).length>1},Uf=function(e){return z(jf(e),ar)},Qf=function(e){return Eo(e,"td[data-mce-selected],th[data-mce-selected]")},Gf=function(e,n){var t=Qf(n),l=Uf(e);return t.length>0?t:l},Kf=Gf,Yf=function(e){return Gf(qf(e.selection.getSel()),Kt.fromDom(e.getBody()))},Zf=function(e,n){return L(n,sc),e.selection.setCursorLocation(n[0].dom(),0),!0},Jf=function(e,n){return Pd(e,!1,n),!0},Xf=function(e,n,t,l){return ep(n,l).fold(function(){return function(e,n,t){return zf(n,t).map(function(n){return n.fold(b(Jf,e),b(Zf,e))})}(e,n,t)},function(n){return function(e,n){return np(e,n)}(e,n)}).getOr(!1)},$f=function(e,n){return q(Xc(n,e),ar)},ep=function(e,n){return q(Xc(n,e),function(e){return"caption"===Xt(e)})},np=function(e,n){return sc(n),e.selection.setCursorLocation(n.dom(),0),O.some(!0)},tp=function(e,n,t,l,r){return ms.navigate(t,e.getBody(),r).bind(function(o){return function(e,n,t,l){return ms.firstPositionIn(e.dom()).bind(function(r){return ms.lastPositionIn(e.dom()).map(function(e){return n?t.isEqual(r)&&l.isEqual(e):t.isEqual(e)&&l.isEqual(r)})}).getOr(!0)}(l,t,r,o)?function(e,n){return np(e,n)}(e,l):function(e,n,t){return ep(e,Kt.fromDom(t.getNode())).map(function(e){return!1===kl(e,n)})}(n,l,o)}).or(O.some(!0))},lp=function(e,n,t,l){var r=tu.fromRangeStart(e.selection.getRng());return $f(t,l).bind(function(l){return jc(l)?np(e,l):function(e,n,t,l,r){return ms.navigate(t,e.getBody(),r).bind(function(e){return $f(n,Kt.fromDom(e.getNode())).map(function(e){return!1===kl(e,l)})})}(e,t,n,l,r)})},rp=function(e,n,t){var l=Kt.fromDom(e.getBody());return ep(l,t).fold(function(){return lp(e,n,l,t)},function(t){return function(e,n,t,l){var r=tu.fromRangeStart(e.selection.getRng());return jc(l)?np(e,l):tp(e,t,n,l,r)}(e,n,l,t)}).getOr(!1)},op=function(e,n){var t=Kt.fromDom(e.selection.getStart(!0)),l=Yf(e);return e.selection.isCollapsed()&&0===l.length?rp(e,n,t):function(e,n){var t=Kt.fromDom(e.getBody()),l=e.selection.getRng(),r=Yf(e);return 0!==r.length?Zf(e,r):Xf(e,t,l,n)}(e,t)},ip=function(e,n){e.getDoc().execCommand(n,!1,null)},up={deleteCommand:function(e){Dd(e,!1)||Of(e,!1)||ud(e,!1)||op(e)||dd(e,!1)||(ip(e,"Delete"),Bc(e))},forwardDeleteCommand:function(e){Dd(e,!0)||Of(e,!0)||ud(e,!0)||op(e)||dd(e,!0)||ip(e,"ForwardDelete")}},ap=function(e,n,t){var l=function(n){return t=e,l=n.dom(),r=gl(l,t),O.from(r).filter(function(e){return e.length>0});var t,l,r};return Mo(Kt.fromDom(t),function(e){return l(e).isSome()},function(e){return kl(Kt.fromDom(n),e)}).bind(l)},sp=function(e){return function(n,t){return O.from(t).map(Kt.fromDom).filter(el).bind(function(t){return ap(e,n,t.dom()).or(function(e,n){return O.from(lo.DOM.getStyle(n,e,!0))}(e,t.dom()))}).getOr("")}},cp={getFontSize:sp("font-size"),getFontFamily:g(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},sp("font-family")),toPt:function(e,n){return/[0-9.]+px$/.test(e)?function(e,n){var t=Math.pow(10,n);return Math.round(e*t)/t}(72*parseInt(e,10)/96,n||0)+"pt":e}},dp=function(e){return ms.firstPositionIn(e.getBody()).map(function(e){var n=e.container();return Cr.isText(n)?n.parentNode:n})},fp=function(e){return O.from(e.selection.getRng()).bind(function(n){return function(e,n){return e.startContainer===n&&0===e.startOffset}(n,e.getBody())?O.none():O.from(e.selection.getStart(!0))})},pp=function(e,n){if(/^[0-9\.]+$/.test(n)){var t=parseInt(n,10);if(t>=1&&t<=7){var l=ya.getFontStyleValues(e),r=ya.getFontSizeClasses(e);return r?r[t-1]||n:l[t-1]||n}return n}return n},hp=function(e,n){e.formatter.toggle("fontname",{value:pp(e,n)}),e.nodeChanged()},gp=function(e){return fp(e).fold(function(){return dp(e).map(function(n){return cp.getFontFamily(e.getBody(),n)}).getOr("")},function(n){return cp.getFontFamily(e.getBody(),n)})},mp=function(e,n){e.formatter.toggle("fontsize",{value:pp(e,n)}),e.nodeChanged()},vp=function(e){return fp(e).fold(function(){return dp(e).map(function(n){return cp.getFontSize(e.getBody(),n)}).getOr("")},function(n){return cp.getFontSize(e.getBody(),n)})},bp={isEq:function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset}},yp=function(e,n,t){return null!==function(e,n,t){for(;e&&e!==n;){if(t(e))return e;e=e.parentNode}return null}(e,n,t)},Cp=function(e,n,t){return yp(e,n,function(e){return e.nodeName===t})},wp=function(e){return e&&"TABLE"===e.nodeName},xp=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},_p=function(e,n){return oi(e)&&!1===yp(e,n,_u)},Ap=function(e,n,t){for(var l=new Kl(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=l[t?"prev":"next"]();)if(Cr.isBr(n))return!0},kp=function(e,n,t,l,r){var o,i,u,a,s=e.getRoot(),c=e.schema.getNonEmptyElements();if(u=e.getParent(r.parentNode,e.isBlock)||s,l&&Cr.isBr(r)&&n&&e.isEmpty(u))return O.some(eu(r.parentNode,e.nodeIndex(r)));for(o=new Kl(r,u);a=o[l?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||_p(a,s))return O.none();if(Cr.isText(a)&&a.nodeValue.length>0)return!1===Cp(a,s,"A")?O.some(eu(a,l?a.nodeValue.length:0)):O.none();if(e.isBlock(a)||c[a.nodeName.toLowerCase()])return O.none();i=a}return t&&i?O.some(eu(i,0)):O.none()},Op=function(e,n,t,l){var r,o,i,u,a,s,c,d=e.getRoot(),f=!1;if(r=l[(t?"start":"end")+"Container"],o=l[(t?"start":"end")+"Offset"],c=Cr.isElement(r)&&o===r.childNodes.length,a=e.schema.getNonEmptyElements(),s=t,oi(r))return O.none();if(Cr.isElement(r)&&o>r.childNodes.length-1&&(s=!1),Cr.isDocument(r)&&(r=d,o=0),r===d){if(s&&(u=r.childNodes[o>0?o-1:0])){if(oi(u))return O.none();if(a[u.nodeName]||wp(u))return O.none()}if(r.hasChildNodes()){if(o=Math.min(!s&&o>0?o-1:o,r.childNodes.length-1),r=r.childNodes[o],o=Cr.isText(r)&&c?r.data.length:0,!n&&r===d.lastChild&&wp(r))return O.none();if(function(e,n){for(;n&&n!==e;){if(Cr.isContentEditableFalse(n))return!0;n=n.parentNode}return!1}(d,r)||oi(r))return O.none();if(r.hasChildNodes()&&!1===wp(r)){u=r,i=new Kl(r,d);do{if(Cr.isContentEditableFalse(u)||oi(u)){f=!1;break}if(Cr.isText(u)&&u.nodeValue.length>0){o=s?0:u.nodeValue.length,r=u,f=!0;break}if(a[u.nodeName.toLowerCase()]&&!xp(u)){o=e.nodeIndex(u),r=u.parentNode,s||o++,f=!0;break}}while(u=s?i.next():i.prev())}}}return n&&(Cr.isText(r)&&0===o&&kp(e,c,n,!0,r).each(function(e){r=e.container(),o=e.offset(),f=!0}),Cr.isElement(r)&&((u=r.childNodes[o])||(u=r.childNodes[o-1]),!u||!Cr.isBr(u)||function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n}(u,"A")||Ap(e,u,!1)||Ap(e,u,!0)||kp(e,c,n,!0,u).each(function(e){r=e.container(),o=e.offset(),f=!0}))),s&&!n&&Cr.isText(r)&&o===r.nodeValue.length&&kp(e,c,n,!1,r).each(function(e){r=e.container(),o=e.offset(),f=!0}),f?O.some(eu(r,o)):O.none()},Sp={normalize:function(e,n){var t=n.collapsed,l=n.cloneRange(),r=eu.fromRangeStart(n);return Op(e,t,!0,l).each(function(e){t&&eu.isAbove(r,e)||l.setStart(e.container(),e.offset())}),t||Op(e,t,!1,l).each(function(e){l.setEnd(e.container(),e.offset())}),t&&l.collapse(!0),bp.isEq(n,l)?O.none():O.some(l)}},Ep=function(e,n,t){var l=e.create("span",{},"&nbsp;");t.parentNode.insertBefore(l,t),n.scrollIntoView(l),e.remove(l)},Rp=function(e,n,t,l){var r=e.createRng();l?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),n.setRng(r)},Pp=function(e,n){var t,l,r=e.selection,o=e.dom,i=r.getRng();Sp.normalize(o,i).each(function(e){i.setStart(e.startContainer,e.startOffset),i.setEnd(e.endContainer,e.endOffset)});var u=i.startOffset,a=i.startContainer;if(1===a.nodeType&&a.hasChildNodes()){var s=u>a.childNodes.length-1;a=a.childNodes[Math.min(u,a.childNodes.length-1)]||a,u=s&&3===a.nodeType?a.nodeValue.length:0}var c=o.getParent(a,o.isBlock),d=c?o.getParent(c.parentNode,o.isBlock):null,f=d?d.nodeName.toUpperCase():"",p=n&&n.ctrlKey;"LI"!==f||p||(c=d),a&&3===a.nodeType&&u>=a.nodeValue.length&&(function(e,n,t){for(var l,r=new Kl(n,t),o=e.getNonEmptyElements();l=r.next();)if(o[l.nodeName.toLowerCase()]||l.length>0)return!0}(e.schema,a,c)||(t=o.create("br"),i.insertNode(t),i.setStartAfter(t),i.setEndAfter(t),l=!0)),t=o.create("br"),i.insertNode(t),Ep(o,r,t),Rp(o,r,t,l),e.undoManager.add()},Mp=function(e,n){var t=Kt.fromTag("br");fo(Kt.fromDom(n),t),e.undoManager.add()},Ip=function(e,n){Dp(e.getBody(),n)||po(Kt.fromDom(n),Kt.fromTag("br"));var t=Kt.fromTag("br");po(Kt.fromDom(n),t),Ep(e.dom,e.selection,t.dom()),Rp(e.dom,e.selection,t.dom(),!1),e.undoManager.add()},Dp=function(e,n){return t=tu.after(n),!!Cr.isBr(t.getNode())||ms.nextPosition(e,tu.after(n)).map(function(e){return Cr.isBr(e.getNode())}).getOr(!1);var t},Tp=function(e){return e&&"A"===e.nodeName&&"href"in e},Np=function(e){return e.fold(m(!1),Tp,Tp,m(!1))},Bp=function(e,n){n.fold(h,b(Mp,e),b(Ip,e),h)},Fp={insert:function(e,n){var t=function(e){var n=b(Tc.isInlineTarget,e),t=tu.fromRangeStart(e.selection.getRng());return cf(n,e.getBody(),t).filter(Np)}(e);t.isSome()?t.each(b(Bp,e)):Pp(e,n)}},Lp=(fd([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),fd([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ml("start","soffset","finish","foffset")),Hp=Qt.detect().browser,zp=function(e,n){var t=nl(n)?Ws(n).length:Il(n).length+1;return e>t?t:e<0?0:e},Vp=function(e){return Lp(e.start(),zp(e.soffset(),e.start()),e.finish(),zp(e.foffset(),e.finish()))},qp=function(e,n){return Ol(e,n)||kl(e,n)},jp=function(e){return function(n){return qp(e,n.start())&&qp(e,n.finish())}},Wp=function(e){return!0===e.inline||Hp.isIE()},Up=function(e){return Lp(Kt.fromDom(e.startContainer),e.startOffset,Kt.fromDom(e.endContainer),e.endOffset)},Qp=function(e){var n=e.getSelection();return(n&&0!==n.rangeCount?O.from(n.getRangeAt(0)):O.none()).map(Up)},Gp=function(e){var n=function(e){var n=e.dom().ownerDocument.defaultView;return Kt.fromDom(n)}(e);return Qp(n.dom()).filter(jp(e))},Kp=function(e,n){return O.from(n).filter(jp(e)).map(Vp)},Yp=function(e){var n=document.createRange();try{return n.setStart(e.start().dom(),e.soffset()),n.setEnd(e.finish().dom(),e.foffset()),O.some(n)}catch(e){return O.none()}},Zp=function(e){return(e.bookmark?e.bookmark:O.none()).bind(b(Kp,Kt.fromDom(e.getBody()))).bind(Yp)},Jp={store:function(e){var n=Wp(e)?Gp(Kt.fromDom(e.getBody())):O.none();e.bookmark=n.isSome()?n:e.bookmark},storeNative:function(e,n){var t=Kt.fromDom(e.getBody()),l=(Wp(e)?O.from(n):O.none()).map(Up).filter(jp(t));e.bookmark=l.isSome()?l:e.bookmark},readRange:Qp,restore:function(e){Zp(e).each(function(n){e.selection.setRng(n)})},getRng:Zp,getBookmark:Gp,validate:Kp},Xp=function(e,n){var t=e.settings,l=e.dom,r=e.selection,o=e.formatter,i=/[a-z%]+$/i.exec(t.indentation)[0],u=parseInt(t.indentation,10),a=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||(t.forced_root_block||l.getParent(r.getNode(),l.isBlock)||o.apply("div"),L(r.getSelectedBlocks(),function(e){return function(e,n,t,l,r,o){if("false"!==e.getContentEditable(o)&&"LI"!==o.nodeName){var i=t?"margin":"padding";if(i="TABLE"===o.nodeName?"margin":i,i+="rtl"===e.getStyle(o,"direction",!0)?"Right":"Left","outdent"===n){var u=Math.max(0,parseInt(o.style[i]||0,10)-l);e.setStyle(o,i,u?u+r:"")}else u=parseInt(o.style[i]||0,10)+l+r,e.setStyle(o,i,u)}}(l,n,a,u,i,e)}))},$p=Gn.each,eh=Gn.extend,nh=Gn.map,th=Gn.inArray;function lh(e){var n,t,l,r,o={state:{},exec:{},value:{}},i=e.settings;e.on("PreInit",function(){n=e.dom,t=e.selection,i=e.settings,l=e.formatter});var u=function(n){var t;if(!e.quirks.isHidden()&&!e.removed){if(n=n.toLowerCase(),t=o.state[n])return t(n);try{return e.getDoc().queryCommandState(n)}catch(e){}return!1}},a=function(e,n){n=n||"exec",$p(e,function(e,t){$p(t.toLowerCase().split(","),function(t){o[n][t]=e})})},s=function(n,t,l){n=n.toLowerCase(),o.value[n]=function(){return t.call(l||e)}};eh(this,{execCommand:function(n,t,l,r){var i,u,a=!1;if(!e.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)||r&&r.skip_focus?Jp.restore(e):e.focus(),(r=e.fire("BeforeExecCommand",{command:n,ui:t,value:l})).isDefaultPrevented())return!1;if(u=n.toLowerCase(),i=o.exec[u])return i(u,t,l),e.fire("ExecCommand",{command:n,ui:t,value:l}),!0;if($p(e.plugins,function(r){if(r.execCommand&&r.execCommand(n,t,l))return e.fire("ExecCommand",{command:n,ui:t,value:l}),a=!0,!1}),a)return a;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(n,t,l))return e.fire("ExecCommand",{command:n,ui:t,value:l}),!0;try{a=e.getDoc().execCommand(n,t,l)}catch(e){}return!!a&&(e.fire("ExecCommand",{command:n,ui:t,value:l}),!0)}},queryCommandState:u,queryCommandValue:function(n){var t;if(!e.quirks.isHidden()&&!e.removed){if(n=n.toLowerCase(),t=o.value[n])return t(n);try{return e.getDoc().queryCommandValue(n)}catch(e){}}},queryCommandSupported:function(n){if(n=n.toLowerCase(),o.exec[n])return!0;try{return e.getDoc().queryCommandSupported(n)}catch(e){}return!1},addCommands:a,addCommand:function(n,t,l){n=n.toLowerCase(),o.exec[n]=function(n,r,o,i){return t.call(l||e,r,o,i)}},addQueryStateHandler:function(n,t,l){n=n.toLowerCase(),o.state[n]=function(){return t.call(l||e)}},addQueryValueHandler:s,hasCustomCommand:function(e){return e=e.toLowerCase(),!!o.exec[e]}});var c=function(n,t,l){return void 0===t&&(t=!1),void 0===l&&(l=null),e.getDoc().execCommand(n,t,l)},d=function(e){return l.match(e)},f=function(n,t){l.toggle(n,t?{value:t}:void 0),e.nodeChanged()},p=function(e){r=t.getBookmark(e)},h=function(){t.moveToBookmark(r)};a({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var t,l=e.getDoc();try{c(n)}catch(e){t=!0}if("paste"!==n||l.queryCommandEnabled(n)||(t=!0),t||!l.queryCommandSupported(n)){var r=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");ae.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(t.isCollapsed()){var n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0)}else l.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var n=e.substring(7);"full"===n&&(n="justify"),$p("left,center,right,justify".split(","),function(e){n!==e&&l.remove("align"+e)}),"none"!==n&&f("align"+n)},"InsertUnorderedList,InsertOrderedList":function(e){var l,r;c(e),(l=n.getParent(t.getNode(),"ol,ul"))&&(r=l.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(p(),n.split(r,l),h()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){f(e)},"ForeColor,HiliteColor":function(e,n,t){f(e,t)},FontName:function(n,t,l){hp(e,l)},FontSize:function(n,t,l){mp(e,l)},RemoveFormat:function(e){l.remove(e)},mceBlockQuote:function(){f("blockquote")},FormatBlock:function(e,n,t){return f(t||"p")},mceCleanup:function(){var n=t.getBookmark();e.setContent(e.getContent()),t.moveToBookmark(n)},mceRemoveNode:function(n,l,r){var o=r||t.getNode();o!==e.getBody()&&(p(),e.dom.remove(o,!0),h())},mceSelectNodeDepth:function(l,r,o){var i=0;n.getParent(t.getNode(),function(e){if(1===e.nodeType&&i++===o)return t.select(e),!1},e.getBody())},mceSelectNode:function(e,n,l){t.select(l)},mceInsertContent:function(n,t,l){yc.insertAtCaret(e,l)},mceInsertRawHTML:function(n,l,r){t.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceToggleFormat:function(e,n,t){f(t)},mceSetContent:function(n,t,l){e.setContent(l)},"Indent,Outdent":function(n){Xp(e,n)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(n,l,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,t.getContent({format:"text"})))},mceInsertLink:function(e,r,o){var i;"string"===typeof o&&(o={href:o}),i=n.getParent(t.getNode(),"a"),o.href=o.href.replace(" ","%20"),i&&o.href||l.remove("link"),o.href&&l.apply("link",o,i)},selectAll:function(){var e=n.getParent(t.getStart(),Cr.isContentEditableTrue);if(e){var l=n.createRng();l.selectNodeContents(e),t.setRng(l)}},delete:function(){up.deleteCommand(e)},forwardDelete:function(){up.forwardDeleteCommand(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(n,t,l){return Fp.insert(e,l),!0}});var g=function(e){return function(){var r=t.isCollapsed()?[n.getParent(t.getNode(),n.isBlock)]:t.getSelectedBlocks(),o=nh(r,function(n){return!!l.matchNode(n,e)});return-1!==th(o,!0)}};a({JustifyLeft:g("alignleft"),JustifyCenter:g("aligncenter"),JustifyRight:g("alignright"),JustifyFull:g("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return d(e)},mceBlockQuote:function(){return d("blockquote")},Outdent:function(){var e;if(i.inline_styles){if((e=n.getParent(t.getStart(),n.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0;if((e=n.getParent(t.getEnd(),n.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0}return u("InsertUnorderedList")||u("InsertOrderedList")||!i.inline_styles&&!!n.getParent(t.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var l=n.getParent(t.getNode(),"ul,ol");return l&&("insertunorderedlist"===e&&"UL"===l.tagName||"insertorderedlist"===e&&"OL"===l.tagName)}},"state"),a({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),s("FontName",function(){return gp(e)},this),s("FontSize",function(){return vp(e)},this)}var rh=Gn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),oh=function(e){var n,t,l=this,r={},o=function(){return!1},i=function(){return!0};n=(e=e||{}).scope||l,t=e.toggleEvent||o;var u=function(e,n,i,u){var a,s,c;if(!1===n&&(n=o),n)for(n={func:n},u&&Gn.extend(n,u),c=(s=e.toLowerCase().split(" ")).length;c--;)e=s[c],(a=r[e])||(a=r[e]=[],t(e,!0)),i?a.unshift(n):a.push(n);return l},a=function(e,n){var o,i,u,a,s;if(e)for(o=(a=e.toLowerCase().split(" ")).length;o--;){if(e=a[o],i=r[e],!e){for(u in r)t(u,!1),delete r[u];return l}if(i){if(n)for(s=i.length;s--;)i[s].func===n&&(i=i.slice(0,s).concat(i.slice(s+1)),r[e]=i);else i.length=0;i.length||(t(e,!1),delete r[e])}}else{for(e in r)t(e,!1);r={}}return l};l.fire=function(t,l){var u,s,c,d;if(t=t.toLowerCase(),(l=l||{}).type=t,l.target||(l.target=n),l.preventDefault||(l.preventDefault=function(){l.isDefaultPrevented=i},l.stopPropagation=function(){l.isPropagationStopped=i},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=i},l.isDefaultPrevented=o,l.isPropagationStopped=o,l.isImmediatePropagationStopped=o),e.beforeFire&&e.beforeFire(l),u=r[t])for(s=0,c=u.length;s<c;s++){if((d=u[s]).once&&a(t,d.func),l.isImmediatePropagationStopped())return l.stopPropagation(),l;if(!1===d.func.call(n,l))return l.preventDefault(),l}return l},l.on=u,l.off=a,l.once=function(e,n,t){return u(e,n,t,{once:!0})},l.has=function(e){return e=e.toLowerCase(),!(!r[e]||0===r[e].length)}};oh.isNative=function(e){return!!rh[e.toLowerCase()]};var ih,uh=function(e){return e._eventDispatcher||(e._eventDispatcher=new oh({scope:e,toggleEvent:function(n,t){oh.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,t)}})),e._eventDispatcher},ah={fire:function(e,n,t){if(this.removed&&"remove"!==e)return n;if(n=uh(this).fire(e,n,t),!1!==t&&this.parent)for(var l=this.parent();l&&!n.isPropagationStopped();)l.fire(e,n,!1),l=l.parent();return n},on:function(e,n,t){return uh(this).on(e,n,t)},off:function(e,n){return uh(this).off(e,n)},once:function(e,n){return uh(this).once(e,n)},hasEventListeners:function(e){return uh(this).has(e)}},sh=function(e,n){return e.fire("PreProcess",n)},ch=function(e,n){return e.fire("PostProcess",n)},dh=function(e){return e.fire("remove")},fh=function(e,n){return e.fire("SwitchMode",{mode:n})},ph=function(e,n,t,l){e.fire("ObjectResizeStart",{target:n,width:t,height:l})},hh=function(e,n,t,l){e.fire("ObjectResized",{target:n,width:t,height:l})},gh=function(e,n,t){try{e.getDoc().execCommand(n,!1,t)}catch(e){}},mh=function(e,n,t){var l,r;So(e,n)&&!1===t?(r=n,xo(l=e)?l.dom().classList.remove(r):Ao(l,r),Oo(l)):t&&ko(e,n)},vh=function(e,n){mh(Kt.fromDom(e.getBody()),"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable="false"):(e.readonly=!1,e.getBody().contentEditable="true",gh(e,"StyleWithCSS",!1),gh(e,"enableInlineTableEditing",!1),gh(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},bh=function(e){return e.readonly?"readonly":"design"},yh=lo.DOM,Ch=function(e,n){return"selectionchange"===n?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=yh.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},wh=function(e,n,t){!function(e){return!e.hidden&&!e.readonly}(e)?function(e){return!0===e.readonly}(e)&&t.preventDefault():e.fire(n,t)},xh=function(e,n){var t,l;if(e.delegates||(e.delegates={}),!e.delegates[n]&&!e.removed)if(t=Ch(e,n),e.settings.event_root){if(ih||(ih={},e.editorManager.on("removeEditor",function(){var n;if(!e.editorManager.activeEditor&&ih){for(n in ih)e.dom.unbind(Ch(e,n));ih=null}})),ih[n])return;l=function(t){for(var l=t.target,r=e.editorManager.get(),o=r.length;o--;){var i=r[o].getBody();(i===l||yh.isChildOf(l,i))&&wh(r[o],n,t)}},ih[n]=l,yh.bind(t,n,l)}else l=function(t){wh(e,n,t)},yh.bind(t,n,l),e.delegates[n]=l},_h={bindPendingEventDelegates:function(){var e=this;Gn.each(e._pendingNativeEvents,function(n){xh(e,n)})},toggleNativeEvent:function(e,n){"focus"!==e&&"blur"!==e&&(n?this.initialized?xh(this,e):this._pendingNativeEvents?this._pendingNativeEvents.push(e):this._pendingNativeEvents=[e]:this.initialized&&(this.dom.unbind(Ch(this,e),e,this.delegates[e]),delete this.delegates[e]))},unbindAllNativeEvents:function(){var e,n=this.getBody(),t=this.dom;if(this.delegates){for(e in this.delegates)this.dom.unbind(Ch(this,e),e,this.delegates[e]);delete this.delegates}!this.inline&&n&&t&&(n.onload=null,t.unbind(this.getWin()),t.unbind(this.getDoc())),t&&(t.unbind(n),t.unbind(this.getContainer()))}},Ah=_h=Gn.extend({},ah,_h),kh=Gn.each,Oh=Gn.explode,Sh={f9:120,f10:121,f11:122},Eh=Gn.makeMap("alt,ctrl,shift,meta,access");function Rh(e){var n={},t=[],l=function(e){var n,t,l={};for(t in kh(Oh(e,"+"),function(e){e in Eh?l[e]=!0:/^[0-9]{2,}$/.test(e)?l.keyCode=parseInt(e,10):(l.charCode=e.charCodeAt(0),l.keyCode=Sh[e]||e.toUpperCase().charCodeAt(0))}),n=[l.keyCode],Eh)l[t]?n.push(t):l[t]=!1;return l.id=n.join(","),l.access&&(l.alt=!0,ae.mac?l.ctrl=!0:l.shift=!0),l.meta&&(ae.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l},r=function(n,t,r,o){var i;return(i=Gn.map(Oh(n,">"),l))[i.length-1]=Gn.extend(i[i.length-1],{func:r,scope:o||e}),Gn.extend(i[0],{desc:e.translate(t),subpatterns:i.slice(1)})},o=function(e,n){return!!n&&n.ctrl===e.ctrlKey&&n.meta===e.metaKey&&n.alt===e.altKey&&n.shift===e.shiftKey&&!!(e.keyCode===n.keyCode||e.charCode&&e.charCode===n.charCode)&&(e.preventDefault(),!0)},i=function(e){return e.func?e.func.call(e.scope):null};e.on("keyup keypress keydown",function(e){!function(e){return e.altKey||e.ctrlKey||e.metaKey}(e)&&!function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}(e)||e.isDefaultPrevented()||(kh(n,function(n){if(o(e,n))return t=n.subpatterns.slice(0),"keydown"===e.type&&i(n),!0}),o(e,t[0])&&(1===t.length&&"keydown"===e.type&&i(t[0]),t.shift()))}),this.add=function(t,l,o,i){var u;return u=o,"string"===typeof o?o=function(){e.execCommand(u,!1,null)}:Gn.isArray(u)&&(o=function(){e.execCommand(u[0],u[1],u[2])}),kh(Oh(Gn.trim(t.toLowerCase())),function(e){var t=r(e,l,o,i);n[t.id]=t}),!0},this.remove=function(e){var t=r(e);return!!n[t.id]&&(delete n[t.id],!0)}}var Ph=function(e){var n=Sl(e).dom();return e.dom()===n.activeElement},Mh=function(e){return(n=Sl(e),t=void 0!==n?n.dom():document,O.from(t.activeElement).map(Kt.fromDom)).filter(function(n){return e.dom().contains(n.dom())});var n,t},Ih=function(e,n){return function(e){return e.collapsed?O.from(Ii(e.startContainer,e.startOffset)).map(Kt.fromDom):O.none()}(n).bind(function(n){return ur(n)?O.some(n):!1===Ol(e,n)?O.some(e):O.none()})},Dh=function(e,n){Ih(Kt.fromDom(e.getBody()),n).bind(function(e){return ms.firstPositionIn(e.dom())}).fold(function(){e.selection.normalize()},function(n){return e.selection.setRng(n.toRange())})},Th=function(e){if(e.setActive)try{e.setActive()}catch(n){e.focus()}else e.focus()},Nh=function(e){var n,t=e.getBody();return t&&(n=Kt.fromDom(t),Ph(n)||Mh(n).isSome())},Bh=function(e){return e.inline?Nh(e):function(e){return e.iframeElement&&Ph(Kt.fromDom(e.iframeElement))}(e)},Fh=function(e){return e.editorManager.setActive(e)},Lh=function(e,n){e.removed||(n?Fh(e):function(e){var n=e.selection,t=e.settings.content_editable,l=e.getBody(),r=n.getRng();e.quirks.refreshContentEditable();var o=function(e,n){return e.dom.getParent(n,function(n){return"true"===e.dom.getContentEditable(n)})}(e,n.getNode());if(e.$.contains(l,o))return Th(o),Dh(e,r),void Fh(e);void 0!==e.bookmark&&!1===Bh(e)&&Jp.getRng(e).each(function(n){e.selection.setRng(n),r=n}),t||(ae.opera||Th(l),e.getWin().focus()),(ae.gecko||t)&&(Th(l),Dh(e,r)),Fh(e)}(e))},Hh=Bh,zh=function(e,n){return n.dom()[e]},Vh=function(e,n){return parseInt(hl(n,e),10)},qh=b(zh,"clientWidth"),jh=b(zh,"clientHeight"),Wh=b(Vh,"margin-top"),Uh=b(Vh,"margin-left"),Qh={isXYInContentArea:function(e,n,t){var l,r=Kt.fromDom(e.getBody()),o=e.inline?r:(l=r,Kt.fromDom(l.dom().ownerDocument.documentElement)),i=function(e,n,t,l){var r=function(e){return e.dom().getBoundingClientRect()}(n);return{x:t-(e?r.left+n.dom().clientLeft+Uh(n):0),y:l-(e?r.top+n.dom().clientTop+Wh(n):0)}}(e.inline,o,n,t);return function(e,n,t){var l=qh(e),r=jh(e);return n>=0&&t>=0&&n<=l&&t<=r}(o,i.x,i.y)},isEditorAttachedToDom:function(e){var n,t=e.inline?e.getBody():e.getContentAreaContainer();return(n=t,O.from(n).map(Kt.fromDom)).map(function(e){return Ol(Sl(e),e)}).getOr(!1)}};function Gh(e){var n=[],t=function(){var n,t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():{open:n=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:n,reposition:n,getArgs:n}},l=function(){n.length>0&&t().reposition(n)},r=function(e){j(n,function(n){return n===e}).each(function(e){n.splice(e,1)})},o=function(o){if(!e.removed&&Qh.isEditorAttachedToDom(e))return q(n,function(e){return n=t().getArgs(e),l=o,n.type===l.type&&n.text===l.text&&!n.progressBar&&!n.timeout&&!l.progressBar&&!l.timeout;var n,l}).getOrThunk(function(){e.editorManager.setActive(e);var i=t().open(o,function(){r(i),l()});return function(e){n.push(e)}(i),l(),i})};return function(e){e.on("SkinLoaded",function(){var n=e.settings.service_message;n&&o({text:n,type:"warning",timeout:0,icon:""})}),e.on("ResizeEditor ResizeWindow",function(){pe.requestAnimationFrame(l)}),e.on("remove",function(){L(n.slice(),function(e){t().close(e)})})}(e),{open:o,close:function(){O.from(n[0]).each(function(e){t().close(e),r(e),l()})},getNotifications:function(){return n}}}function Kh(e){var n=[],t=function(){var n,t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():{open:n=function(){throw new Error("Theme did not provide a WindowManager implementation.")},alert:n,confirm:n,close:n,getParams:n,setParams:n}},l=function(e,n){return function(){return n?n.apply(e,arguments):void 0}},r=function(t){n.push(t),function(n){e.fire("OpenWindow",{win:n})}(t)},o=function(t){j(n,function(e){return e===t}).each(function(l){n.splice(l,1),function(n){e.fire("CloseWindow",{win:n})}(t),0===n.length&&e.focus()})},i=function(){return O.from(n[n.length-1])};return e.on("remove",function(){L(n.slice(0),function(e){t().close(e)})}),{windows:n,open:function(n,l){e.editorManager.setActive(e),Jp.store(e);var i=t().open(n,l,o);return r(i),i},alert:function(e,n,i){var u=t().alert(e,l(i||this,n),o);r(u)},confirm:function(e,n,i){var u=t().confirm(e,l(i||this,n),o);r(u)},close:function(){i().each(function(e){t().close(e),o(e)})},getParams:function(){return i().map(t().getParams).getOr(null)},setParams:function(e){i().each(function(n){t().setParams(n,e)})},getWindows:function(){return n}}}var Yh=co.PluginManager,Zh=function(e,n){var t=function(e,n){for(var t in Yh.urls)if(Yh.urls[t]+"/plugin"+n+".js"===e)return t;return null}(n,e.suffix);return t?"Failed to load plugin: "+t+" from url "+n:"Failed to load plugin url: "+n},Jh=function(e,n){e.notificationManager.open({type:"error",text:n})},Xh=function(e,n){e._skinLoaded?Jh(e,n):e.on("SkinLoaded",function(){Jh(e,n)})},$h={pluginLoadError:function(e,n){Xh(e,Zh(e,n))},uploadError:function(e,n){Xh(e,"Failed to upload image: "+n)},displayError:Xh,initError:function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var l=window.console;l&&(l.error?l.error.apply(l,arguments):l.log.apply(l,arguments))}},eg=co.PluginManager,ng=co.ThemeManager;function tg(){return new(ne.getOrDie("XMLHttpRequest"))}function lg(e,n){var t={},l=function(e,t,l,r){var o,i;(o=tg()).open("POST",n.url),o.withCredentials=n.credentials,o.upload.onprogress=function(e){r(e.loaded/e.total*100)},o.onerror=function(){l("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e,r,i;o.status<200||o.status>=300?l("HTTP Error: "+o.status):(e=JSON.parse(o.responseText))&&"string"===typeof e.location?t((r=n.basePath,i=e.location,r?r.replace(/\/$/,"")+"/"+i.replace(/^\//,""):i)):l("Invalid JSON: "+o.responseText)},(i=new FormData).append("file",e.blob(),e.filename()),o.send(i)},r=function(e,n){return{url:n,blobInfo:e,status:!0}},o=function(e,n){return{url:"",blobInfo:e,status:!1,error:n}},i=function(e,n){Gn.each(t[e],function(e){e(n)}),delete t[e]},u=function(l,u){return l=Gn.grep(l,function(n){return!e.isUploaded(n.blobUri())}),se.all(Gn.map(l,function(l){return e.isPending(l.blobUri())?function(e){var n=e.blobUri();return new se(function(e){t[n]=t[n]||[],t[n].push(e)})}(l):function(n,t,l){return e.markPending(n.blobUri()),new se(function(u){var a;try{var s=function(){a&&a.close()};t(n,function(t){s(),e.markUploaded(n.blobUri(),t),i(n.blobUri(),r(n,t)),u(r(n,t))},function(t){s(),e.removeFailed(n.blobUri()),i(n.blobUri(),o(n,t)),u(o(n,t))},function(e){e<0||e>100||(a||(a=l()),a.progressBar.value(e))})}catch(e){u(o(n,e.message))}})}(l,n.handler,u)}))};return!1===D(n.handler)&&(n.handler=l),{upload:function(e,t){return n.url||n.handler!==l?u(e,t):new se(function(e){e([])})}}}var rg=function(e){return ne.getOrDie("atob")(e)},og=function(e){var n,t,l=decodeURIComponent(e).split(",");return(t=/data:([^;]+)/.exec(l[0]))&&(n=t[1]),{type:n,data:l[1]}},ig=function(e){return new se(function(n){var t,l,r,o=og(e);try{t=rg(o.data)}catch(e){return void n(new Blob([]))}for(l=function(e){return new(ne.getOrDie("Uint8Array"))(e)}(t.length),r=0;r<l.length;r++)l[r]=t.charCodeAt(r);n(new Blob([l],{type:o.type}))})},ug=function(e){return 0===e.indexOf("blob:")?function(e){return new se(function(n,t){var l=function(){t("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var r=tg();r.open("GET",e,!0),r.responseType="blob",r.onload=function(){200===this.status?n(this.response):l()},r.onerror=l,r.send()}catch(e){l()}})}(e):0===e.indexOf("data:")?ig(e):null},ag=function(e){return new se(function(n){var t=new(ne.getOrDie("FileReader"));t.onloadend=function(){n(t.result)},t.readAsDataURL(e)})},sg=og,cg=0,dg=function(e){return(e||"blobid")+cg++},fg=function(e,n,t,l){var r,o;0!==n.src.indexOf("blob:")?(r=sg(n.src).data,(o=e.findFirst(function(e){return e.base64()===r}))?t({image:n,blobInfo:o}):ug(n.src).then(function(l){o=e.create(dg(),l,r),e.add(o),t({image:n,blobInfo:o})},function(e){l(e)})):(o=e.getByUri(n.src))?t({image:n,blobInfo:o}):ug(n.src).then(function(l){ag(l).then(function(i){r=sg(i).data,o=e.create(dg(),l,r),e.add(o),t({image:n,blobInfo:o})})},function(e){l(e)})},pg=function(e){return e?e.getElementsByTagName("img"):[]},hg=0,gg={uuid:function(e){return e+hg+++(n=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+n()+n()+n());var n}};function mg(e){var n,t,l,r,o,i,u,a,s,c,d=(n=[],t=Jo.constant,l=function(e){var n,l,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return n=e.id||gg.uuid("blobid"),l=e.name||n,{id:t(n),name:t(l),filename:t(l+"."+(r=e.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[r.toLowerCase()]||"dat")),blob:t(e.blob),base64:t(e.base64),blobUri:t(e.blobUri||le.createObjectURL(e.blob)),uri:t(e.uri)}},{create:function(e,n,t,r){if(E(e))return l({id:e,name:r,blob:n,base64:t});if(R(e))return l(e);throw new Error("Unknown input type")},add:function(e){r(e.id())||n.push(e)},get:r=function(e){return o(function(n){return n.id()===e})},getByUri:function(e){return o(function(n){return n.blobUri()===e})},findFirst:o=function(e){return qn.filter(n,e)[0]},removeByUri:function(e){n=qn.filter(n,function(n){return n.blobUri()!==e||(le.revokeObjectURL(n.blobUri()),!1)})},destroy:function(){qn.each(n,function(e){le.revokeObjectURL(e.blobUri())}),n=[]}}),f=(a={},s=function(e,n){return{status:e,resultUri:n}},{hasBlobUri:c=function(e){return e in a},getResultUri:function(e){var n=a[e];return n?n.resultUri:null},isPending:function(e){return!!c(e)&&1===a[e].status},isUploaded:function(e){return!!c(e)&&2===a[e].status},markPending:function(e){a[e]=s(1,null)},markUploaded:function(e,n){a[e]=s(2,n)},removeFailed:function(e){delete a[e]},destroy:function(){a={}}}),p=[],h=function(n){return function(t){return e.selection?n(t):[]}},g=function(e,n,t){var l=0;do{-1!==(l=e.indexOf(n,l))&&(e=e.substring(0,l)+t+e.substr(l+n.length),l+=t.length-n.length+1)}while(-1!==l);return e},m=function(e,n,t){return e=g(e,'src="'+n+'"','src="'+t+'"'),e=g(e,'data-mce-src="'+n+'"','data-mce-src="'+t+'"')},v=function(n,t){L(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=F(e.fragments,function(e){return m(e,n,t)}):e.content=m(e.content,n,t)})},b=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},y=function(n,t){d.removeByUri(n.src),v(n.src,t),e.$(n).attr({src:ya.shouldReuseFileName(e)?t+"?"+(new Date).getTime():t,"data-mce-src":e.convertURL(t,"src")})},C=function(n){return i||(i=lg(f,{url:ya.getImageUploadUrl(e),basePath:ya.getImageUploadBasePath(e),credentials:ya.getImagesUploadCredentials(e),handler:ya.getImagesUploadHandler(e)})),_().then(h(function(t){var l;return l=F(t,function(e){return e.blobInfo}),i.upload(l,b).then(h(function(l){var r=F(l,function(n,l){var r=t[l].image;return n.status&&ya.shouldReplaceBlobUris(e)?y(r,n.url):n.error&&$h.uploadError(e,n.error),{element:r,status:n.status}});return n&&n(r),r}))}))},w=function(n){if(ya.isAutomaticUploadsEnabled(e))return C(n)},x=function(n){return!1!==G(p,function(e){return e(n)})&&(0!==n.getAttribute("src").indexOf("data:")||ya.getImagesDataImgFilter(e)(n))},_=function(){return u||(u=function(e,n){var t={};return{findAll:function(l,r){var o;r||(r=Jo.constant(!0)),o=qn.filter(pg(l),function(n){var t=n.src;return!!ae.fileApi&&!n.hasAttribute("data-mce-bogus")&&!n.hasAttribute("data-mce-placeholder")&&!(!t||t===ae.transparentSrc)&&(0===t.indexOf("blob:")?!e.isUploaded(t)&&r(n):0===t.indexOf("data:")&&r(n))});var i=qn.map(o,function(e){if(t[e.src])return new se(function(n){t[e.src].then(function(t){if("string"===typeof t)return t;n({image:e,blobInfo:t.blobInfo})})});var l=new se(function(t,l){fg(n,e,t,l)}).then(function(e){return delete t[e.image.src],e}).catch(function(n){return delete t[e.src],n});return t[e.src]=l,l});return se.all(i)}}}(f,d)),u.findAll(e.getBody(),x).then(h(function(n){return n=z(n,function(n){return"string"!==typeof n||($h.displayError(e,n),!1)}),L(n,function(e){v(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),n}))},A=function(n){return n.replace(/src="(blob:[^"]+)"/g,function(n,t){var l=f.getResultUri(t);if(l)return'src="'+l+'"';var r=d.getByUri(t);return r||(r=V(e.editorManager.get(),function(e,n){return e||n.editorUpload&&n.editorUpload.blobCache.getByUri(t)},null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':n})};return e.on("setContent",function(){ya.isAutomaticUploadsEnabled(e)?w():_()}),e.on("RawSaveContent",function(e){e.content=A(e.content)}),e.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=A(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){L(e,function(e){var n=e.attr("src");if(!d.getByUri(n)){var t=f.getResultUri(n);t&&e.attr("src",t)}})})}),{blobCache:d,addFilter:function(e){p.push(e)},uploadImages:C,uploadImagesAuto:w,scanForImages:_,destroy:function(){d.destroy(),f.destroy(),u=i=null}}}var vg=function(e,n){return e.hasOwnProperty(n.nodeName)},bg=function(e,n){return!!Cr.isText(n)||!!Cr.isElement(n)&&!vg(e,n)&&!As.isBookmarkNode(n)},yg=function(e,n,t){return l=Jc(Kt.fromDom(t),Kt.fromDom(n)),j(l,function(n){return vg(e,n.dom())}).isSome();var l},Cg=function(e,n){if(Cr.isText(n)){if(0===n.nodeValue.length)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||vg(e,n.nextSibling)))return!0}return!1},wg=function(e){var n,t,l,r,o,i,u,a,s,c,d,f=e.settings,p=e.dom,h=e.selection,g=e.schema,m=g.getBlockElements(),v=h.getStart(),b=e.getBody();if(d=f.forced_root_block,v&&Cr.isElement(v)&&d&&(c=b.nodeName.toLowerCase(),g.isValidChild(c,d.toLowerCase())&&!yg(m,b,v))){for(t=(n=h.getRng()).startContainer,l=n.startOffset,r=n.endContainer,o=n.endOffset,s=Hh(e),v=b.firstChild;v;)if(bg(m,v)){if(Cg(m,v)){u=v,v=v.nextSibling,p.remove(u);continue}i||(i=p.create(d,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(i,v),a=!0),u=v,v=v.nextSibling,i.appendChild(u)}else i=null,v=v.nextSibling;a&&s&&(n.setStart(t,l),n.setEnd(r,o),h.setRng(n),e.nodeChanged())}},xg=function(e){e.settings.forced_root_block&&e.on("NodeChange",b(wg,e))},_g=function(e){return(n=e,Dl(n,0)).fold(m([e]),function(n){return[e].concat(_g(n))});var n},Ag=function(e){return Tl(e).fold(m([e]),function(n){return"br"===Xt(n)?Rl(n).map(function(n){return[e].concat(Ag(n))}).getOr([]):[e].concat(Ag(n))})},kg=function(e,n){return Ni([function(e){var n=e.startContainer,t=e.startOffset;return Cr.isText(n)?0===t?O.some(Kt.fromDom(n)):O.none():O.from(n.childNodes[t]).map(Kt.fromDom)}(n),function(e){var n=e.endContainer,t=e.endOffset;return Cr.isText(n)?t===n.data.length?O.some(Kt.fromDom(n)):O.none():O.from(n.childNodes[t-1]).map(Kt.fromDom)}(n)],function(n,t){var l=q(_g(e),b(kl,n)),r=q(Ag(e),b(kl,t));return l.isSome()&&r.isSome()}).getOr(!1)},Og=function(e,n,t,l){var r=t,o=new Kl(t,r),i=e.schema.getNonEmptyElements();do{if(3===t.nodeType&&0!==Gn.trim(t.nodeValue).length)return void(l?n.setStart(t,0):n.setEnd(t,t.nodeValue.length));if(i[t.nodeName]&&!/^(TD|TH)$/.test(t.nodeName))return void(l?n.setStartBefore(t):"BR"===t.nodeName?n.setEndBefore(t):n.setEndAfter(t));if(ae.ie&&ae.ie<11&&e.isBlock(t)&&e.isEmpty(t))return void(l?n.setStart(t,0):n.setEnd(t,0))}while(t=l?o.next():o.prev());"BODY"===r.nodeName&&(l?n.setStart(r,0):n.setEnd(r,r.childNodes.length))},Sg=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0};function Eg(e){var n,t=[];"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",function(t){var l,r;r={startContainer:(l=e.selection.getRng()).startContainer,startOffset:l.startOffset,endContainer:l.endContainer,endOffset:l.endOffset},"nodechange"!==t.type&&bp.isEq(r,n)||e.fire("SelectionChange"),n=r}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var n=e.selection.getStart(!0);!n||!ae.range&&e.selection.isCollapsed()||Sg(e)&&!function(n){var l,r;if((r=e.$(n).parentsUntil(e.getBody()).add(n)).length===t.length){for(l=r.length;l>=0&&r[l]===t[l];l--);if(-1===l)return t=r,!0}return t=r,!1}(n)&&e.dom.isChildOf(n,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("MouseUp",function(n){!n.isDefaultPrevented()&&Sg(e)&&("IMG"===e.selection.getNode().nodeName?pe.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())}),this.nodeChanged=function(n){var t,l,r,o=e.selection;e.initialized&&o&&!e.settings.disable_nodechange&&!e.readonly&&(r=e.getBody(),(t=o.getStart(!0)||r).ownerDocument===e.getDoc()&&e.dom.isChildOf(t,r)||(t=r),l=[],e.dom.getParent(t,function(e){if(e===r)return!0;l.push(e)}),(n=n||{}).element=t,n.parents=l,e.fire("NodeChange",n))}}var Rg,Pg=function(e){var n,t,l,r;return r=e.getBoundingClientRect(),t=(n=e.ownerDocument).documentElement,l=n.defaultView,{top:r.top+l.pageYOffset-t.clientTop,left:r.left+l.pageXOffset-t.clientLeft}},Mg=function(e,n){return t=function(e){return e.inline?Pg(e.getBody()):{left:0,top:0}}(e),l=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}}(e),{pageX:(r=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var t=Pg(e.getContentAreaContainer()),l=function(e){var n=e.getBody(),t=e.getDoc().documentElement,l={left:n.scrollLeft,top:n.scrollTop},r={left:n.scrollLeft||t.scrollLeft,top:n.scrollTop||t.scrollTop};return e.inline?l:r}(e);return{left:n.pageX-t.left+l.left,top:n.pageY-t.top+l.top}}return{left:n.pageX,top:n.pageY}}(e,n)).left-t.left+l.left,pageY:r.top-t.top+l.top};var t,l,r},Ig=Cr.isContentEditableFalse,Dg=Cr.isContentEditableTrue,Tg=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},Ng=function(e,n){return function(t){if(function(e){return 0===e.button}(t)){var l=qn.find(n.dom.getParents(t.target),Jo.or(Ig,Dg));if(u=n.getBody(),Ig(a=l)&&a!==u){var r=n.dom.getPos(l),o=n.getBody(),i=n.getDoc().documentElement;e.element=l,e.screenX=t.screenX,e.screenY=t.screenY,e.maxX=(n.inline?o.scrollWidth:i.offsetWidth)-2,e.maxY=(n.inline?o.scrollHeight:i.offsetHeight)-2,e.relX=t.pageX-r.x,e.relY=t.pageY-r.y,e.width=l.offsetWidth,e.height=l.offsetHeight,e.ghost=function(e,n,t,l){var r=n.cloneNode(!0);e.dom.setStyles(r,{width:t,height:l}),e.dom.setAttrib(r,"data-mce-selected",null);var o=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:t,height:l}),e.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o}(n,l,e.width,e.height)}}var u,a}},Bg=function(e,n){return function(t){if(e.dragging&&function(e,n,t){return n!==t&&!e.dom.isChildOf(n,t)&&!Ig(n)}(n,(u=n.selection,3===(a=u.getSel().getRangeAt(0).startContainer).nodeType?a.parentNode:a),e.element)){var l=(o=e.element,(i=o.cloneNode(!0)).removeAttribute("data-mce-selected"),i),r=n.fire("drop",{targetClone:l,clientX:t.clientX,clientY:t.clientY});r.isDefaultPrevented()||(l=r.targetClone,n.undoManager.transact(function(){Tg(e.element),n.insertContent(n.dom.getOuterHTML(l)),n._selectionOverrides.hideFakeCaret()}))}var o,i,u,a;Fg(e)}},Fg=function(e){e.dragging=!1,e.element=null,Tg(e.ghost)},Lg=function(e){var n,t,l,r,o,i,u={};n=lo.DOM,i=document,t=Ng(u,e),l=function(e,n){var t=pe.throttle(function(e,t){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(e,t)},0);return function(l){var r,o,i=Math.max(Math.abs(l.screenX-e.screenX),Math.abs(l.screenY-e.screenY));if(function(e){return e.element}(e)&&!e.dragging&&i>10){if(n.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,n.focus()}if(e.dragging){var u=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}}(e,Mg(n,l));r=e.ghost,o=n.getBody(),r.parentNode!==o&&o.appendChild(r),function(e,n,t,l,r,o){var i=0,u=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+t>r&&(i=n.pageX+t-r),n.pageY+l>o&&(u=n.pageY+l-o),e.style.width=t-i+"px",e.style.height=l-u+"px"}(e.ghost,u,e.width,e.height,e.maxX,e.maxY),t(l.clientX,l.clientY)}}}(u,e),r=Bg(u,e),o=function(e,n){return function(){e.dragging&&n.fire("dragend"),Fg(e)}}(u,e),e.on("mousedown",t),e.on("mousemove",l),e.on("mouseup",r),n.bind(i,"mousemove",l),n.bind(i,"mouseup",o),e.on("remove",function(){n.unbind(i,"mousemove",l),n.unbind(i,"mouseup",o)})},Hg=function(e){Lg(e),function(e){e.on("drop",function(n){var t="undefined"!==typeof n.clientX?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(Ig(t)||Ig(e.dom.getContentEditableParent(t)))&&n.preventDefault()})}(e)},zg=function(e){return qn.reduce(e,function(e,n){return e.concat(function(e){var n=function(n){return qn.map(n,function(n){return(n=Oi(n)).node=e,n})};if(Cr.isElement(e))return n(e.getClientRects());if(Cr.isText(e)){var t=e.ownerDocument.createRange();return t.setStart(e,0),t.setEnd(e,e.data.length),n(t.getClientRects())}}(n))},[])};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(Rg||(Rg={}));var Vg=function(e,n,t,l,r,o){var i,u,a=0,s=[],c=function(l){var o,i,c;for(c=zg([l]),-1===e&&(c=c.reverse()),o=0;o<c.length;o++)if(i=c[o],!t(i,u)){if(s.length>0&&n(i,qn.last(s))&&a++,i.line=a,r(i))return!0;s.push(i)}};return(u=qn.last(o.getClientRects()))?(c(i=o.getNode()),function(e,n,t,l){for(;l=Qa(l,e,Ai,n);)if(t(l))return}(e,l,c,i),s):s},qg=b(Vg,Rg.Up,Ri,Pi),jg=b(Vg,Rg.Down,Pi,Ri),Wg=function(e){return function(n){return function(e,n){return n.line>e}(e,n)}},Ug=function(e){return function(n){return function(e,n){return n.line===e}(e,n)}},Qg=Cr.isContentEditableFalse,Gg=Qa,Kg=function(e,n){return Math.abs(e.left-n)},Yg=function(e,n){return Math.abs(e.right-n)},Zg=function(e,n){return e>=n.left&&e<=n.right},Jg=function(e,n){return qn.reduce(e,function(e,t){var l,r;return l=Math.min(Kg(e,n),Yg(e,n)),r=Math.min(Kg(t,n),Yg(t,n)),Zg(n,t)?t:Zg(n,e)?e:r===l&&Qg(t.node)?t:r<l?t:e})},Xg=function(e,n,t,l){for(;l=Gg(l,e,Ai,n);)if(t(l))return},$g=function(e,n,t){var l,r=zg(function(e){return qn.filter(qn.toArray(e.getElementsByTagName("*")),Na)}(e)),o=qn.filter(r,function(e){return t>=e.top&&t<=e.bottom});return(l=Jg(o,n))&&(l=Jg(function(e,n){var t=[],l=function(e,l){var r;return r=qn.filter(zg([l]),function(t){return!e(t,n)}),t=t.concat(r),0===r.length};return t.push(n),Xg(Rg.Up,e,b(l,Ri),n.node),Xg(Rg.Down,e,b(l,Pi),n.node),t}(e,l),n))&&Na(l.node)?function(e,n){return{node:e.node,before:Kg(e,n)<Yg(e,n)}}(l,n):null},em=function(e,n,t){return!t.collapsed&&V(t.getClientRects(),function(t,l){return t||function(e,n,t){return n>=e.left&&n<=e.right&&t>=e.top&&t<=e.bottom}(l,e,n)},!1)},nm=function(e){var n=yo(function(){if(!e.removed&&e.selection.getRng().collapsed){var n=zu(e,e.selection.getRng(),!1);e.selection.setRng(n)}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},tm={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return ae.mac?e.metaKey:e.ctrlKey&&!e.altKey}},lm=Cr.isContentEditableTrue,rm=Cr.isContentEditableFalse,om=us,im=is,um=function(e,n){for(var t=e.getBody();n&&n!==t;){if(lm(n)||rm(n))return n;n=n.parentNode}return null},am=function(e){var n,t,l=e.getBody(),r=Ta(e.getBody(),function(n){return e.dom.isBlock(n)},function(){return Hh(e)}),o="sel-"+e.dom.uniqueId(),i=function(n){n&&e.selection.setRng(n)},u=function(){return e.selection.getRng()},a=function(n,t,l,o){return void 0===o&&(o=!0),e.fire("ShowCaret",{target:t,direction:n,before:l}).isDefaultPrevented()?null:(o&&e.selection.scrollIntoView(t,-1===n),r.show(l,t))},s=function(e,n){return n=ns(e,l,n),-1===e?tu.fromRangeStart(n):tu.fromRangeEnd(n)},c=function(e){return oi(e)||ci(e)||di(e)},d=function(e){return c(e.startContainer)||c(e.endContainer)},f=function(t,l){var r,i,u,c,f,p,g,m,v,b,y=e.$,C=e.dom;if(!t)return null;if(t.collapsed){if(!d(t))if(!1===l){if(m=s(-1,t),Na(m.getNode(!0)))return a(-1,m.getNode(!0),!1,!1);if(Na(m.getNode()))return a(-1,m.getNode(),!m.isAtEnd(),!1)}else{if(m=s(1,t),Na(m.getNode()))return a(1,m.getNode(),!m.isAtEnd(),!1);if(Na(m.getNode(!0)))return a(1,m.getNode(!0),!1,!1)}return null}return c=t.startContainer,f=t.startOffset,p=t.endOffset,3===c.nodeType&&0===f&&rm(c.parentNode)&&(c=c.parentNode,f=C.nodeIndex(c),c=c.parentNode),1!==c.nodeType?null:(p===f+1&&(r=c.childNodes[f]),rm(r)?(v=b=r.cloneNode(!0),(g=e.fire("ObjectSelected",{target:r,targetClone:v})).isDefaultPrevented()?null:(i=Do(Kt.fromDom(e.getBody()),"#"+o).fold(function(){return y([])},function(e){return y([e.dom()])}),v=g.targetClone,0===i.length&&(i=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o)).appendTo(e.getBody()),t=e.dom.createRng(),v===b&&ae.ie?(i.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(v),t.setStartAfter(i[0].firstChild.firstChild),t.setEndAfter(v)):(i.empty().append("\xa0").append(v).append("\xa0"),t.setStart(i[0].firstChild,1),t.setEnd(i[0].lastChild,0)),i.css({top:C.getPos(r,e.getBody()).y}),i[0].focus(),(u=e.selection.getSel()).removeAllRanges(),u.addRange(t),L(Eo(Kt.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){dl(e,"data-mce-selected")}),r.setAttribute("data-mce-selected","1"),n=r,h(),t)):null)},p=function(){n&&(n.removeAttribute("data-mce-selected"),Do(Kt.fromDom(e.getBody()),"#"+o).each(vo),n=null),Do(Kt.fromDom(e.getBody()),"#"+o).each(vo),n=null},h=function(){r.hide()};return ae.ceFalse&&(function(){e.on("mouseup",function(n){var t=u();t.collapsed&&Qh.isXYInContentArea(e,n.clientX,n.clientY)&&i(Hu(e,t,!1))}),e.on("click",function(n){var t;(t=um(e,n.target))&&(rm(t)&&(n.preventDefault(),e.focus()),lm(t)&&e.dom.isChildOf(t,e.selection.getNode())&&p())}),e.on("blur NewBlock",function(){p()}),e.on("ResizeWindow FullscreenStateChanged",function(){return r.reposition()});var t=function(n,t){var l,r,o=e.dom.getParent(n,e.dom.isBlock),i=e.dom.getParent(t,e.dom.isBlock);return!(!o||!e.dom.isChildOf(o,i)||!1!==rm(um(e,o)))||o&&(l=o,r=i,!(e.dom.getParent(l,e.dom.isBlock)===e.dom.getParent(r,e.dom.isBlock)))&&function(e){var n=Xu(e);if(!e.firstChild)return!1;var t=tu.before(e.firstChild),l=n.next(t);return l&&!im(l)&&!om(l)}(o)};!function(e){var n=!1;e.on("touchstart",function(){n=!1}),e.on("touchmove",function(){n=!0}),e.on("touchend",function(t){var l=um(e,t.target);rm(l)&&(n||(t.preventDefault(),f(Lu(e,l))))})}(e),e.on("mousedown",function(n){var r,o=n.target;if((o===l||"HTML"===o.nodeName||e.dom.isChildOf(o,l))&&!1!==Qh.isXYInContentArea(e,n.clientX,n.clientY))if(r=um(e,o))rm(r)?(n.preventDefault(),f(Lu(e,r))):(p(),lm(r)&&n.shiftKey||em(n.clientX,n.clientY,e.selection.getRng())||(h(),e.selection.placeCaretAt(n.clientX,n.clientY)));else if(!1===Na(o)){p(),h();var u=$g(l,n.clientX,n.clientY);if(u&&!t(n.target,u.node)){n.preventDefault();var s=a(1,u.node,u.before,!1);e.getBody().focus(),i(s)}}}),e.on("keypress",function(n){tm.modifierPressed(n)||(n.keyCode,rm(e.selection.getNode())&&n.preventDefault())}),e.on("getSelectionRange",function(e){var t=e.range;if(n){if(!n.parentNode)return void(n=null);(t=t.cloneRange()).selectNode(n),e.range=t}}),e.on("setSelectionRange",function(e){var n;(n=f(e.range,e.forward))&&(e.range=n)}),e.on("AfterSetSelectionRange",function(n){var t,l=n.range;d(l)||"mcepastebin"===l.startContainer.parentNode.id||h(),t=l.startContainer.parentNode,e.dom.hasClass(t,"mce-offscreen-selection")||p()}),e.on("copy",function(n){var t,l=n.clipboardData;if(!n.isDefaultPrevented()&&n.clipboardData&&!ae.ie){var r=(t=e.dom.get(o))?t.getElementsByTagName("*")[0]:t;r&&(n.preventDefault(),l.clearData(),l.setData("text/html",r.outerHTML),l.setData("text/plain",r.outerText))}}),Hg(e),nm(e)}(),(t=e.contentStyles).push(r.getCss()),t.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")),{showCaret:a,showBlockCaretContainer:function(n){n.hasAttribute("data-mce-caret")&&(fi(n),i(u()),e.selection.scrollIntoView(n[0]))},hideFakeCaret:h,destroy:function(){r.destroy(),n=null}}},sm=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},cm=function(e){return e.replace(/<!--|-->/g,"")},dm=function(e,n){return!e.allow_html_data_urls&&(/^data:image\//i.test(n)?!1===e.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n))},fm=function(e,n,t){var l,r,o,i,u=1;for(i=e.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=l=t;r=o.exec(n);){if(l=o.lastIndex,"/"===r[1])u--;else if(!r[1]){if(r[2]in i)continue;u++}if(0===u)break}return l};function pm(e,n){void 0===n&&(n=Ur());var t=function(){};!1!==(e=e||{}).fix_self_closing&&(e.fix_self_closing=!0);var l=e.comment?e.comment:t,r=e.cdata?e.cdata:t,o=e.text?e.text:t,i=e.start?e.start:t,u=e.end?e.end:t,a=e.pi?e.pi:t,s=e.doctype?e.doctype:t;return{parse:function(t){var c,d,f,p,h,g,m,v,b,y,C,w,x,_,A,k,O,S,E,R,P,M,I,D,T,N,B,F,L,H=0,z=[],V=0,q=Tr.decode,j=Gn.makeMap("src,href,data,background,formaction,poster,xlink:href"),W=/((java|vb)script|mhtml):/i,U=function(e){var n,t;for(n=z.length;n--&&z[n].name!==e;);if(n>=0){for(t=z.length-1;t>=n;t--)(e=z[t]).valid&&u(e.name);z.length=n}},Q=function(n,t,l,r,o){var i,u;if(l=(t=t.toLowerCase())in C?t:q(l||r||o||""),x&&!v&&!1===sm(t)){if(!(i=S[t])&&E){for(u=E.length;u--&&!(i=E[u]).pattern.test(t););-1===u&&(i=null)}if(!i)return;if(i.validValues&&!(l in i.validValues))return}if(j[t]&&!e.allow_script_urls){var a=l.replace(/[\s\u0000-\u001F]+/g,"");try{a=decodeURIComponent(a)}catch(e){a=unescape(a)}if(W.test(a))return;if(dm(e,a))return}v&&(t in j||0===t.indexOf("on"))||(p.map[t]=l,p.push({name:t,value:l}))};for(T=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),N=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,y=n.getShortEndedElements(),D=e.self_closing_elements||n.getSelfClosingElements(),C=n.getBoolAttrs(),x=e.validate,b=e.remove_internals,L=e.fix_self_closing,B=n.getSpecialElements(),I=t+">";c=T.exec(I);){if(H<c.index&&o(q(t.substr(H,c.index-H))),d=c[6])":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),U(d);else if(d=c[7]){if(c.index+c[0].length>t.length){o(q(t.substr(c.index))),H=c.index+c[0].length;continue}if(":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),w=d in y,L&&D[d]&&z.length>0&&z[z.length-1].name===d&&U(d),!x||(_=n.getElementRule(d))){if(A=!0,x&&(S=_.attributes,E=_.attributePatterns),(O=c[8])?((v=-1!==O.indexOf("data-mce-type"))&&b&&(A=!1),(p=[]).map={},O.replace(N,Q)):(p=[]).map={},x&&!v){if(R=_.attributesRequired,P=_.attributesDefault,M=_.attributesForced,_.removeEmptyAttrs&&!p.length&&(A=!1),M)for(h=M.length;h--;)m=(k=M[h]).name,"{$uid}"===(F=k.value)&&(F="mce_"+V++),p.map[m]=F,p.push({name:m,value:F});if(P)for(h=P.length;h--;)(m=(k=P[h]).name)in p.map||("{$uid}"===(F=k.value)&&(F="mce_"+V++),p.map[m]=F,p.push({name:m,value:F}));if(R){for(h=R.length;h--&&!(R[h]in p.map););-1===h&&(A=!1)}if(k=p.map["data-mce-bogus"]){if("all"===k){H=fm(n,t,T.lastIndex),T.lastIndex=H;continue}A=!1}}A&&i(d,p,w)}else A=!1;if(f=B[d]){f.lastIndex=H=c.index+c[0].length,(c=f.exec(t))?(A&&(g=t.substr(H,c.index-H)),H=c.index+c[0].length):(g=t.substr(H),H=t.length),A&&(g.length>0&&o(g,!0),u(d)),T.lastIndex=H;continue}w||(O&&O.indexOf("/")===O.length-1?A&&u(d):z.push({name:d,valid:A}))}else(d=c[1])?(">"===d.charAt(0)&&(d=" "+d),e.allow_conditional_comments||"[if"!==d.substr(0,3).toLowerCase()||(d=" "+d),l(d)):(d=c[2])?r(cm(d)):(d=c[3])?s(d):(d=c[4])&&a(d,c[5]);H=c.index+c[0].length}for(H<t.length&&o(q(t.substr(H))),h=z.length-1;h>=0;h--)(d=z[h]).valid&&u(d.name)}}}!function(e){e.findEndTag=fm}(pm||(pm={}));var hm=pm,gm=function(e,n){var t,l,r,o,i,u=n,a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=e.schema;for(u=function(e,n){var t=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(t,"")}(e.getTempAttrs(),u),i=s.getShortEndedElements();o=a.exec(u);)l=a.lastIndex,r=o[0].length,t=i[o[1]]?l:hm.findEndTag(s,u,l),u=u.substring(0,l-r)+u.substring(t),a.lastIndex=l-r;return ei(u)},mm={trimExternal:gm,trimInternal:gm},vm=0,bm=2,ym=1,Cm=function(e,n){var t=e.length+n.length+2,l=new Array(t),r=new Array(t),o=function(t,l,r,i,a){var s=u(t,l,r,i);if(null===s||s.start===l&&s.diag===l-i||s.end===t&&s.diag===t-r)for(var c=t,d=r;c<l||d<i;)c<l&&d<i&&e[c]===n[d]?(a.push([0,e[c]]),++c,++d):l-t>i-r?(a.push([2,e[c]]),++c):(a.push([1,n[d]]),++d);else{o(t,s.start,r,s.start-s.diag,a);for(var f=s.start;f<s.end;++f)a.push([0,e[f]]);o(s.end,l,s.end-s.diag,i,a)}},i=function(t,l,r,o){for(var i=t;i-l<o&&i<r&&e[i]===n[i-l];)++i;return function(e,n,t){return{start:e,end:n,diag:t}}(t,i,l)},u=function(t,o,u,a){var s=o-t,c=a-u;if(0===s||0===c)return null;var d,f,p,h,g,m=s-c,v=c+s,b=(v%2===0?v:v+1)/2;for(l[1+b]=t,r[1+b]=o+1,d=0;d<=b;++d){for(f=-d;f<=d;f+=2){for(p=f+b,f===-d||f!==d&&l[p-1]<l[p+1]?l[p]=l[p+1]:l[p]=l[p-1]+1,g=(h=l[p])-t+u-f;h<o&&g<a&&e[h]===n[g];)l[p]=++h,++g;if(m%2!==0&&m-d<=f&&f<=m+d&&r[p-m]<=l[p])return i(r[p-m],f+t-u,o,a)}for(f=m-d;f<=m+d;f+=2){for(p=f+b-m,f===m-d||f!==m+d&&r[p+1]<=r[p-1]?r[p]=r[p+1]-1:r[p]=r[p-1],g=(h=r[p]-1)-t+u-f;h>=t&&g>=u&&e[h]===n[g];)r[p]=h--,g--;if(m%2===0&&-d<=f&&f<=d&&r[p]<=l[p+m])return i(r[p],f+t-u,o,a)}}},a=[];return o(0,e.length,0,n.length,a),a},wm=function(e){return Cr.isElement(e)?e.outerHTML:Cr.isText(e)?Tr.encodeRaw(e.data,!1):Cr.isComment(e)?"\x3c!--"+e.data+"--\x3e":""},xm=function(e,n,t){var l=function(e){var n,t,l;for(l=document.createElement("div"),n=document.createDocumentFragment(),e&&(l.innerHTML=e);t=l.firstChild;)n.appendChild(t);return n}(n);if(e.hasChildNodes()&&t<e.childNodes.length){var r=e.childNodes[t];r.parentNode.insertBefore(l,r)}else e.appendChild(l)},_m=function(e){return qn.filter(qn.map(e.childNodes,wm),function(e){return e.length>0})},Am=function(e,n){var t=qn.map(n.childNodes,wm);return function(e,n){var t=0;qn.each(e,function(e){e[0]===vm?t++:e[0]===ym?(xm(n,e[1],t),t++):e[0]===bm&&function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var t=e.childNodes[n];t.parentNode.removeChild(t)}}(n,t)})}(Cm(t,e),n),n},km=Co(O.none()),Om=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},Sm=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Em=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},Rm=function(e){var n=Kt.fromTag("body",km.get().getOrThunk(function(){var e=document.implementation.createHTMLDocument("undo");return km.set(O.some(e)),e}));return Ko(n,Em(e)),L(Eo(n,"*[data-mce-bogus]"),bo),n.dom().innerHTML},Pm={createFragmentedLevel:Om,createCompleteLevel:Sm,createFromEditor:function(e){var n,t,l;return n=_m(e.getBody()),-1!==(t=(l=Q(n,function(n){var t=mm.trimInternal(e.serializer,n);return t.length>0?[t]:[]})).join("")).indexOf("</iframe>")?Om(l):Sm(t)},applyToEditor:function(e,n,t){"fragmented"===n.type?Am(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw"}),e.selection.moveToBookmark(t?n.beforeBookmark:n.bookmark)},isEq:function(e,n){return!(!e||!n)&&(!!function(e,n){return Em(e)===Em(n)}(e,n)||function(e,n){return Rm(e)===Rm(n)}(e,n))}};function Mm(e){var n,t,l=this,r=0,o=[],i=0,u=function(){return 0===i},a=function(e){u()&&(l.typing=e)},s=function(n){e.setDirty(n)},c=function(e){a(!1),l.add({},e)},d=function(){l.typing&&(a(!1),l.add())};return e.on("init",function(){l.add()}),e.on("BeforeExecCommand",function(e){var n=e.command;"Undo"!==n&&"Redo"!==n&&"mceRepaint"!==n&&(d(),l.beforeChange())}),e.on("ExecCommand",function(e){var n=e.command;"Undo"!==n&&"Redo"!==n&&"mceRepaint"!==n&&c(e)}),e.on("ObjectResizeStart Cut",function(){l.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("DragEnd",c),e.on("KeyUp",function(n){var r=n.keyCode;n.isDefaultPrevented()||((r>=33&&r<=36||r>=37&&r<=40||45===r||n.ctrlKey)&&(c(),e.nodeChanged()),46!==r&&8!==r||e.nodeChanged(),t&&l.typing&&!1===Pm.isEq(Pm.createFromEditor(e),o[0])&&(!1===e.isDirty()&&(s(!0),e.fire("change",{level:o[0],lastLevel:null})),e.fire("TypingUndo"),t=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var n=e.keyCode;if(!e.isDefaultPrevented())if(n>=33&&n<=36||n>=37&&n<=40||45===n)l.typing&&c(e);else{var r=e.ctrlKey&&!e.altKey||e.metaKey;!(n<16||n>20)||224===n||91===n||l.typing||r||(l.beforeChange(),a(!0),l.add({},e),t=!0)}}),e.on("MouseDown",function(e){l.typing&&c(e)}),e.on("input",function(e){e.inputType&&("insertReplacementText"===e.inputType||function(e){return"insertText"===e.inputType&&null===e.data}(e))&&c(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(n){n.isDefaultPrevented()||e.nodeChanged()}),l={data:o,typing:!1,beforeChange:function(){u()&&(n=xu.getUndoBookmark(e.selection))},add:function(t,l){var i,a,c,d=e.settings;if(c=Pm.createFromEditor(e),t=t||{},t=Gn.extend(t,c),!1===u()||e.removed)return null;if(a=o[r],e.fire("BeforeAddUndo",{level:t,lastLevel:a,originalEvent:l}).isDefaultPrevented())return null;if(a&&Pm.isEq(a,t))return null;if(o[r]&&(o[r].beforeBookmark=n),d.custom_undo_redo_levels&&o.length>d.custom_undo_redo_levels){for(i=0;i<o.length-1;i++)o[i]=o[i+1];o.length--,r=o.length}t.bookmark=xu.getUndoBookmark(e.selection),r<o.length-1&&(o.length=r+1),o.push(t),r=o.length-1;var f={level:t,lastLevel:a,originalEvent:l};return e.fire("AddUndo",f),r>0&&(s(!0),e.fire("change",f)),t},undo:function(){var n;return l.typing&&(l.add(),l.typing=!1,a(!1)),r>0&&(n=o[--r],Pm.applyToEditor(e,n,!0),s(!0),e.fire("undo",{level:n})),n},redo:function(){var n;return r<o.length-1&&(n=o[++r],Pm.applyToEditor(e,n,!1),s(!0),e.fire("redo",{level:n})),n},clear:function(){o=[],r=0,l.typing=!1,l.data=o,e.fire("ClearUndos")},hasUndo:function(){return r>0||l.typing&&o[0]&&!Pm.isEq(Pm.createFromEditor(e),o[0])},hasRedo:function(){return r<o.length-1&&!l.typing},transact:function(e){return d(),l.beforeChange(),l.ignore(e),l.add()},ignore:function(e){try{i++,e()}finally{i--}},extra:function(n,t){var i,u;l.transact(n)&&(u=o[r].bookmark,i=o[r-1],Pm.applyToEditor(e,i,!0),l.transact(t)&&(o[r-1].beforeBookmark=u))}}}var Im=Es.isEq,Dm=function(e,n,t){var l=e.formatter.get(t);if(l)for(var r=0;r<l.length;r++)if(!1===l[r].inherit&&e.dom.is(n,l[r].selector))return!0;return!1},Tm=function(e,n,t,l){var r=e.dom.getRoot();return n!==r&&(n=e.dom.getParent(n,function(n){return!!Dm(e,n,t)||n.parentNode===r||!!Fm(e,n,t,l,!0)}),Fm(e,n,t,l))},Nm=function(e,n,t){return!!Im(n,t.inline)||!!Im(n,t.block)||(t.selector?1===n.nodeType&&e.is(n,t.selector):void 0)},Bm=function(e,n,t,l,r,o){var i,u,a,s=t[l];if(t.onmatch)return t.onmatch(n,t,l);if(s)if("undefined"===typeof s.length){for(i in s)if(s.hasOwnProperty(i)){if(u="attributes"===l?e.getAttrib(n,i):Es.getStyle(e,n,i),r&&!u&&!t.exact)return;if((!r||t.exact)&&!Im(u,Es.normalizeStyleValue(e,Es.replaceVars(s[i],o),i)))return}}else for(a=0;a<s.length;a++)if("attributes"===l?e.getAttrib(n,s[a]):Es.getStyle(e,n,s[a]))return t;return t},Fm=function(e,n,t,l,r){var o,i,u,a,s=e.formatter.get(t),c=e.dom;if(s&&n)for(i=0;i<s.length;i++)if(o=s[i],Nm(e.dom,n,o)&&Bm(c,n,o,"attributes",r,l)&&Bm(c,n,o,"styles",r,l)){if(a=o.classes)for(u=0;u<a.length;u++)if(!e.dom.hasClass(n,a[u]))return;return o}},Lm={matchNode:Fm,matchName:Nm,match:function(e,n,t,l){var r;return l?Tm(e,l,n,t):(l=e.selection.getNode(),!!Tm(e,l,n,t)||!((r=e.selection.getStart())===l||!Tm(e,r,n,t)))},matchAll:function(e,n,t){var l,r=[],o={};return l=e.selection.getStart(),e.dom.getParent(l,function(l){var i,u;for(i=0;i<n.length;i++)u=n[i],!o[u]&&Fm(e,l,u,t)&&(o[u]=!0,r.push(u))},e.dom.getRoot()),r},canApply:function(e,n){var t,l,r,o,i,u=e.formatter.get(n),a=e.dom;if(u)for(t=e.selection.getStart(),l=Es.getParents(a,t),o=u.length-1;o>=0;o--){if(!(i=u[o].selector)||u[o].defaultBlock)return!0;for(r=l.length-1;r>=0;r--)if(a.is(l[r],i))return!0}return!1},matchesUnInheritedFormatSelector:Dm},Hm=function(e,n){return e.splitText(n)},zm={split:function(e){var n=e.startContainer,t=e.startOffset,l=e.endContainer,r=e.endOffset;return n===l&&Cr.isText(n)?t>0&&t<n.nodeValue.length&&(n=(l=Hm(n,t)).previousSibling,r>t?(n=l=Hm(l,r-=t).previousSibling,r=l.nodeValue.length,t=0):r=0):(Cr.isText(n)&&t>0&&t<n.nodeValue.length&&(n=Hm(n,t),t=0),Cr.isText(l)&&r>0&&r<l.nodeValue.length&&(r=(l=Hm(l,r).previousSibling).nodeValue.length)),{startContainer:n,startOffset:t,endContainer:l,endOffset:r}}},Vm=$o,qm=function(e){return function(e){for(var n=[];e;){if(3===e.nodeType&&e.nodeValue!==Vm||e.childNodes.length>1)return[];1===e.nodeType&&n.push(e),e=e.firstChild}return n}(e).length>0},jm=function(e){var n;if(e)for(e=(n=new Kl(e,e)).current();e;e=n.next())if(3===e.nodeType)return e;return null},Wm=function(e){var n=Kt.fromTag("span");return sl(n,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ho(n,Kt.fromText(Vm)),n},Um=function(e,n,t){void 0===t&&(t=!0);var l=e.dom,r=e.selection;if(qm(n))Pd(e,!1,Kt.fromDom(n),t);else{var o=r.getRng(),i=l.getParent(n,l.isBlock),u=function(e){var n=jm(e);return n&&n.nodeValue.charAt(0)===Vm&&n.deleteData(0,1),n}(n);o.startContainer===u&&o.startOffset>0&&o.setStart(u,o.startOffset-1),o.endContainer===u&&o.endOffset>0&&o.setEnd(u,o.endOffset-1),l.remove(n,!0),i&&l.isEmpty(i)&&sc(Kt.fromDom(i)),r.setRng(o)}},Qm=function(e,n,t){void 0===t&&(t=!0);var l=e.dom,r=e.selection;if(n)Um(e,n,t);else if(!(n=Au(e.getBody(),r.getStart())))for(;n=l.get("_mce_caret");)Um(e,n,!1)},Gm=function(e,n,t){var l=e.dom,r=l.getParent(t,Jo.curry(Es.isTextBlock,e));r&&l.isEmpty(r)?t.parentNode.replaceChild(n,t):(ac(Kt.fromDom(t)),l.isEmpty(t)?t.parentNode.replaceChild(n,t):l.insertAfter(n,t))},Km=function(e,n){return e.appendChild(n),n},Ym=function(e,n){var t,l,r=(t=function(e,n){return Km(e,n.cloneNode(!1))},l=n,function(e,n){for(var t=e.length-1;t>=0;t--)n(e[t],t,e)}(e,function(e){l=t(l,e)}),l);return Km(r,r.ownerDocument.createTextNode(Vm))},Zm=function(e){e.on("mouseup keydown",function(n){!function(e,n){var t=e.selection,l=e.getBody();Qm(e,null,!1),8!==n&&46!==n||!t.isCollapsed()||t.getStart().innerHTML!==Vm||Qm(e,Au(l,t.getStart())),37!==n&&39!==n||Qm(e,Au(l,t.getStart()))}(e,n.keyCode)})},Jm=function(e,n){return e.schema.getTextInlineElements().hasOwnProperty(Xt(n))&&!_u(n.dom())&&!Cr.isBogus(n.dom())},Xm={},$m=qn.filter,ev=qn.each;!function(e,n){var t=Xm[e];t||(Xm[e]=t=[]),Xm[e].push(n)}("pre",function(e){var n,t,l=e.selection.getRng();n=Cr.matchNodeNames("pre"),l.collapsed||(t=e.selection.getSelectedBlocks(),ev($m($m(t,n),function(e){return n(e.previousSibling)&&-1!==qn.indexOf(t,e.previousSibling)}),function(e){var n,t;n=e.previousSibling,ft(t=e).remove(),ft(n).append("<br><br>").append(t.childNodes)}))});var nv=function(e,n){ev(Xm[e],function(e){e(n)})},tv=/^(src|href|style)$/,lv=Gn.each,rv=Es.isEq,ov=function(e){return/^(TH|TD)$/.test(e.nodeName)},iv=function(e,n,t){var l,r,o;return l=n[t?"startContainer":"endContainer"],r=n[t?"startOffset":"endOffset"],Cr.isElement(l)&&(o=l.childNodes.length-1,!t&&r&&r--,l=l.childNodes[r>o?o:r]),Cr.isText(l)&&t&&r>=l.nodeValue.length&&(l=new Kl(l,e.getBody()).next()||l),Cr.isText(l)&&!t&&0===r&&(l=new Kl(l,e.getBody()).prev()||l),l},uv=function(e,n,t,l){var r=e.create(t,l);return n.parentNode.insertBefore(r,n),r.appendChild(n),r},av=function(e,n,t,l){return!(n=Es.getNonWhiteSpaceSibling(n,t,l))||"BR"===n.nodeName||e.isBlock(n)},sv=function(e,n,t,l,r){var o,i,u,a=e.dom;if(!function(e,n,t){return!!rv(n,t.inline)||!!rv(n,t.block)||(t.selector?Cr.isElement(n)&&e.is(n,t.selector):void 0)}(a,l,n)&&!function(e,n){return n.links&&"A"===e.tagName}(l,n))return!1;if("all"!==n.remove)for(lv(n.styles,function(e,o){e=Es.normalizeStyleValue(a,Es.replaceVars(e,t),o),"number"===typeof o&&(o=e,r=0),(n.remove_similar||!r||rv(Es.getStyle(a,r,o),e))&&a.setStyle(l,o,""),u=1}),u&&""===a.getAttrib(l,"style")&&(l.removeAttribute("style"),l.removeAttribute("data-mce-style")),lv(n.attributes,function(e,n){var o;if(e=Es.replaceVars(e,t),"number"===typeof n&&(n=e,r=0),!r||rv(a.getAttrib(r,n),e)){if("class"===n&&(e=a.getAttrib(l,n))&&(o="",lv(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)}),o))return void a.setAttrib(l,n,o);"class"===n&&l.removeAttribute("className"),tv.test(n)&&l.removeAttribute("data-mce-"+n),l.removeAttribute(n)}}),lv(n.classes,function(e){e=Es.replaceVars(e,t),r&&!a.hasClass(r,e)||a.removeClass(l,e)}),i=a.getAttribs(l),o=0;o<i.length;o++){var s=i[o].nodeName;if(0!==s.indexOf("_")&&0!==s.indexOf("data-"))return!1}return"none"!==n.remove?(function(e,n,t){var l,r=n.parentNode,o=e.dom,i=e.settings.forced_root_block;t.block&&(i?r===o.getRoot()&&(t.list_block&&rv(n,t.list_block)||lv(Gn.grep(n.childNodes),function(n){Es.isValid(e,i,n.nodeName.toLowerCase())?l?l.appendChild(n):(l=uv(o,n,i),o.setAttribs(l,e.settings.forced_root_block_attrs)):l=0})):o.isBlock(n)&&!o.isBlock(r)&&(av(o,n,!1)||av(o,n.firstChild,!0,1)||n.insertBefore(o.create("br"),n.firstChild),av(o,n,!0)||av(o,n.lastChild,!1,1)||n.appendChild(o.create("br")))),t.selector&&t.inline&&!rv(t.inline,n)||o.remove(n,1)}(e,l,n),!0):void 0},cv={removeFormat:sv,remove:function(e,n,t,l,r){var o,i,u=e.formatter.get(n),a=u[0],s=!0,c=e.dom,d=e.selection,f=function(l){var o=function(e,n,t,l,r){var o;return lv(Es.getParents(e.dom,n.parentNode).reverse(),function(n){var i;o||"_start"===n.id||"_end"===n.id||(i=Lm.matchNode(e,n,t,l,r))&&!1!==i.split&&(o=n)}),o}(e,l,n,t,r);return function(e,n,t,l,r,o,i,u){var a,s,c,d,f,p,h=e.dom;if(t){for(p=t.parentNode,a=l.parentNode;a&&a!==p;a=a.parentNode){for(s=h.clone(a,!1),f=0;f<n.length;f++)if(sv(e,n[f],u,s,s)){s=0;break}s&&(c&&s.appendChild(c),d||(d=s),c=s)}!o||i.mixed&&h.isBlock(t)||(l=h.split(t,l)),c&&(r.parentNode.insertBefore(c,r),d.appendChild(r))}return l}(e,u,o,l,l,!0,a,t)},p=function(n){var l,r,o,i,d;if(Cr.isElement(n)&&c.getContentEditable(n)&&(i=s,s="true"===c.getContentEditable(n),d=!0),l=Gn.grep(n.childNodes),s&&!d)for(r=0,o=u.length;r<o&&!sv(e,u[r],t,n,n);r++);if(a.deep&&l.length){for(r=0,o=l.length;r<o;r++)p(l[r]);d&&(s=i)}},h=function(e){var n=c.get(e?"_start":"_end"),t=n[e?"firstChild":"lastChild"];return function(e){return As.isBookmarkNode(e)&&Cr.isElement(e)&&("_start"===e.id||"_end"===e.id)}(t)&&(t=t[e?"firstChild":"lastChild"]),Cr.isText(t)&&0===t.data.length&&(t=e?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling),c.remove(n,!0),t},g=function(n){var t,l,r=n.commonAncestorContainer;if(n=zs(e,n,u,!0),a.split){if(n=zm.split(n),(t=iv(e,n,!0))!==(l=iv(e,n))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"===t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&ov(l)&&l.firstChild&&(l=l.firstChild||l),c.isChildOf(t,l)&&t!==l&&!c.isBlock(l)&&!ov(t)&&!ov(l)){var o=function(e,n,t,l,r){var o=(l?"next":"previous")+"Sibling",i=e.create(t,r);n.parentNode.insertBefore(i,n);for(var u=[n],a=n;a=a[o];)u.push(a);return u.forEach(function(e){return i.appendChild(e)}),i}(c,t,"span",!0,{id:"_start","data-mce-type":"bookmark"});return f(o),void(t=h(!0))}t=uv(c,t,"span",{id:"_start","data-mce-type":"bookmark"}),l=uv(c,l,"span",{id:"_end","data-mce-type":"bookmark"}),f(t),f(l),t=h(!0),l=h()}else t=l=f(t);n.startContainer=t.parentNode?t.parentNode:t,n.startOffset=c.nodeIndex(t),n.endContainer=l.parentNode?l.parentNode:l,n.endOffset=c.nodeIndex(l)+1}qs.walk(c,n,function(n){lv(n,function(n){p(n),Cr.isElement(n)&&"underline"===e.dom.getStyle(n,"text-decoration")&&n.parentNode&&"underline"===Es.getTextDecoration(c,n.parentNode)&&sv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,n)})})};if(l)l.nodeType?((i=c.createRng()).setStartBefore(l),i.setEndAfter(l),g(i)):g(l);else if("false"!==c.getContentEditable(d.getNode()))d.isCollapsed()&&a.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length?function(e,n,t,l){var r,o,i,u,a,s,c,d=e.dom,f=e.selection,p=[],h=f.getRng();for(r=h.startContainer,o=h.startOffset,a=r,3===r.nodeType&&(o!==r.nodeValue.length&&(u=!0),a=a.parentNode);a;){if(Lm.matchNode(e,a,n,t,l)){s=a;break}a.nextSibling&&(u=!0),p.push(a),a=a.parentNode}if(s)if(u){i=f.getBookmark(),h.collapse(!0);var g=zs(e,h,e.formatter.get(n),!0);g=zm.split(g),e.formatter.remove(n,t,g),f.moveToBookmark(i)}else{c=Au(e.getBody(),s);var m=Wm(!1).dom(),v=Ym(p,m);Gm(e,m,c||s),Um(e,c,!1),f.setCursorLocation(v,1),d.isEmpty(s)&&d.remove(s)}}(e,n,t,r):(o=xu.getPersistentBookmark(e.selection,!0),g(d.getRng()),d.moveToBookmark(o),a.inline&&Lm.match(e,n,t,d.getStart())&&Es.moveStart(c,d,d.getRng()),e.nodeChanged());else{l=d.getNode();for(var m=0,v=u.length;m<v&&(!u[m].ceFalseOverride||!sv(e,u[m],t,l,l));m++);}}},dv=Gn.each,fv=function(e){return e&&1===e.nodeType&&!As.isBookmarkNode(e)&&!_u(e)&&!Cr.isBogus(e)},pv=function(e,n){var t;for(t=e;t;t=t[n]){if(3===t.nodeType&&0!==t.nodeValue.length)return e;if(1===t.nodeType&&!As.isBookmarkNode(t))return t}return e},hv=function(e,n,t){var l,r,o=new uc(e);if(n&&t&&(n=pv(n,"previousSibling"),t=pv(t,"nextSibling"),o.compare(n,t))){for(l=n.nextSibling;l&&l!==t;)r=l,l=l.nextSibling,n.appendChild(r);return e.remove(t),Gn.each(Gn.grep(t.childNodes),function(e){n.appendChild(e)}),n}return t},gv=function(e,n,t){dv(e.childNodes,function(e){fv(e)&&(n(e)&&t(e),e.hasChildNodes()&&gv(e,n,t))})},mv=function(e,n){return b(function(n,t){return!(!t||!Es.getStyle(e,t,n))},n)},vv=function(e,n,t){return b(function(n,t,l){e.setStyle(l,n,t),""===l.getAttribute("style")&&l.removeAttribute("style"),bv(e,l)},n,t)},bv=function(e,n){"SPAN"===n.nodeName&&0===e.getAttribs(n).length&&e.remove(n,!0)},yv=function(e,n){var t;1===n.nodeType&&n.parentNode&&1===n.parentNode.nodeType&&(t=Es.getTextDecoration(e,n.parentNode),e.getStyle(n,"color")&&t?e.setStyle(n,"text-decoration",t):e.getStyle(n,"text-decoration")===t&&e.setStyle(n,"text-decoration",null))},Cv=function(e,n,t,l){dv(n,function(n){dv(e.dom.select(n.inline,l),function(l){fv(l)&&cv.removeFormat(e,n,t,l,n.exact?l:null)}),function(e,n,t){if(n.clear_child_styles){var l=n.links?"*:not(a)":"*";dv(e.select(l,t),function(t){fv(t)&&dv(n.styles,function(n,l){e.setStyle(t,l,"")})})}}(e.dom,n,l)})},wv=function(e,n,t,l){(n.styles.color||n.styles.textDecoration)&&(Gn.walk(l,b(yv,e),"childNodes"),yv(e,l))},xv=function(e,n,t,l){n.styles&&n.styles.backgroundColor&&gv(l,mv(e,"fontSize"),vv(e,"backgroundColor",Es.replaceVars(n.styles.backgroundColor,t)))},_v=function(e,n,t,l){"sub"!==n.inline&&"sup"!==n.inline||(gv(l,mv(e,"fontSize"),vv(e,"fontSize","")),e.remove(e.select("sup"===n.inline?"sub":"sup",l),!0))},Av=function(e,n,t,l){l&&!1!==n.merge_siblings&&(l=hv(e,Es.getNonWhiteSpaceSibling(l),l),l=hv(e,l,Es.getNonWhiteSpaceSibling(l,!0)))},kv=function(e,n,t,l,r){Lm.matchNode(e,r.parentNode,t,l)&&cv.removeFormat(e,n,l,r)||n.merge_with_parents&&e.dom.getParent(r.parentNode,function(o){if(Lm.matchNode(e,o,t,l))return cv.removeFormat(e,n,l,r),!0})},Ov=Gn.each,Sv=function(e,n,t,l){var r,o,i=e.formatter.get(n),u=i[0],a=!l&&e.selection.isCollapsed(),s=e.dom,c=e.selection,d=function(e,n){if(n=n||u,e){if(n.onformat&&n.onformat(e,n,t,l),Ov(n.styles,function(n,l){s.setStyle(e,l,Es.replaceVars(n,t))}),n.styles){var r=s.getAttrib(e,"style");r&&e.setAttribute("data-mce-style",r)}Ov(n.attributes,function(n,l){s.setAttrib(e,l,Es.replaceVars(n,t))}),Ov(n.classes,function(n){n=Es.replaceVars(n,t),s.hasClass(e,n)||s.addClass(e,n)})}},f=function(e,n){var t=!1;return!!u.selector&&(Ov(e,function(e){if(!("collapsed"in e&&e.collapsed!==a))return s.is(n,e.selector)&&!_u(n)?(d(n,e),t=!0,!1):void 0}),t)},p=function(l,r,o,a){var s,c,p=[],h=!0;s=u.inline||u.block,c=l.create(s),d(c),qs.walk(l,r,function(r){var o,g=function(r){var m,v,b,y;if(y=h,m=r.nodeName.toLowerCase(),v=r.parentNode.nodeName.toLowerCase(),1===r.nodeType&&l.getContentEditable(r)&&(y=h,h="true"===l.getContentEditable(r),b=!0),Es.isEq(m,"br"))return o=0,void(u.block&&l.remove(r));if(u.wrapper&&Lm.matchNode(e,r,n,t))o=0;else{if(h&&!b&&u.block&&!u.wrapper&&Es.isTextBlock(e,m)&&Es.isValid(e,v,s))return r=l.rename(r,s),d(r),p.push(r),void(o=0);if(u.selector){var C=f(i,r);if(!u.inline||C)return void(o=0)}!h||b||!Es.isValid(e,s,m)||!Es.isValid(e,v,s)||!a&&3===r.nodeType&&1===r.nodeValue.length&&65279===r.nodeValue.charCodeAt(0)||_u(r)||u.inline&&l.isBlock(r)?(o=0,Ov(Gn.grep(r.childNodes),g),b&&(h=y),o=0):(o||(o=l.clone(c,!1),r.parentNode.insertBefore(o,r),p.push(o)),o.appendChild(r))}};Ov(r,g)}),!0===u.links&&Ov(p,function(e){var n=function(e){"A"===e.nodeName&&d(e,u),Ov(Gn.grep(e.childNodes),n)};n(e)}),Ov(p,function(r){var o,a=function(e){var n=!1;return Ov(e.childNodes,function(e){if(function(e){return e&&1===e.nodeType&&!As.isBookmarkNode(e)&&!_u(e)&&!Cr.isBogus(e)}(e))return n=e,!1}),n};o=function(e){var n=0;return Ov(e.childNodes,function(e){Es.isWhiteSpaceNode(e)||As.isBookmarkNode(e)||n++}),n}(r),!(p.length>1)&&l.isBlock(r)||0!==o?(u.inline||u.wrapper)&&(u.exact||1!==o||(r=function(e){var n,t;return(n=a(e))&&!As.isBookmarkNode(n)&&Lm.matchName(l,n,u)&&(t=l.clone(n,!1),d(t),l.replace(t,e,!0),l.remove(n,1)),t||e}(r)),Cv(e,i,t,r),kv(e,u,n,t,r),xv(l,u,t,r),_v(l,u,t,r),Av(l,u,t,r)):l.remove(r,1)})};if("false"!==s.getContentEditable(c.getNode())){if(u){if(l)l.nodeType?f(i,l)||((o=s.createRng()).setStartBefore(l),o.setEndAfter(l),p(s,zs(e,o,i),0,!0)):p(s,l,0,!0);else if(a&&u.inline&&!s.select("td[data-mce-selected],th[data-mce-selected]").length)!function(e,n,t){var l,r,o,i,u,a,s=e.selection;i=(l=s.getRng(!0)).startOffset,a=l.startContainer.nodeValue,(r=Au(e.getBody(),s.getStart()))&&(o=jm(r));var c,d,f=/[^\s\u00a0\u00ad\u200b\ufeff]/;a&&i>0&&i<a.length&&f.test(a.charAt(i))&&f.test(a.charAt(i-1))?(u=s.getBookmark(),l.collapse(!0),l=zs(e,l,e.formatter.get(n)),l=zm.split(l),e.formatter.apply(n,t,l),s.moveToBookmark(u)):(r&&o.nodeValue===Vm?e.formatter.apply(n,t,r):(c=e.getDoc(),d=Wm(!0).dom(),o=(r=c.importNode(d,!0)).firstChild,l.insertNode(r),i=1,e.formatter.apply(n,t,r)),s.setCursorLocation(o,i))}(e,n,t);else{var h=e.selection.getNode();e.settings.forced_root_block||!i[0].defaultBlock||s.getParent(h,s.isBlock)||Sv(e,i[0].defaultBlock),e.selection.setRng(gc(e.selection.getRng())),r=xu.getPersistentBookmark(e.selection,!0),p(s,zs(e,c.getRng(),i)),u.styles&&wv(s,u,t,h),c.moveToBookmark(r),Es.moveStart(s,c,c.getRng()),e.nodeChanged()}nv(n,e)}}else{l=c.getNode();for(var g=0,m=i.length;g<m;g++)if(i[g].ceFalseOverride&&s.is(l,i[g].selector))return void d(l,i[g])}},Ev={applyFormat:Sv},Rv=Gn.each,Pv={formatChanged:function(e,n,t,l,r){null===n.get()&&function(e,n){var t={};e.set({}),n.on("NodeChange",function(l){var r=Es.getParents(n.dom,l.element),o={};r=Gn.grep(r,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}),Rv(e.get(),function(e,l){Rv(r,function(i){return n.formatter.matchNode(i,l,{},e.similar)?(t[l]||(Rv(e,function(e){e(!0,{node:i,format:l,parents:r})}),t[l]=e),o[l]=e,!1):!Lm.matchesUnInheritedFormatSelector(n,i,l)&&void 0})}),Rv(t,function(e,n){o[n]||(delete t[n],Rv(e,function(e){e(!1,{node:l.element,format:n,parents:r})}))})})}(n,e),function(e,n,t,l){var r=e.get();Rv(n.split(","),function(e){r[e]||(r[e]=[],r[e].similar=l),r[e].push(t)}),e.set(r)}(n,t,l,r)}},Mv={get:function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,t,l){Gn.each(l,function(t,l){e.setAttrib(n,l,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Gn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){n[e]={block:e,remove:"all"}}),n}},Iv=Gn.each,Dv=lo.DOM,Tv=function(e,n){var t,l,r,o=n&&n.schema||Ur({}),i=function(e){var n;return l="string"===typeof e?{name:e,classes:[],attrs:{}}:e,function(e,n){n.classes.length&&Dv.addClass(e,n.classes.join(" ")),Dv.setAttribs(e,n.attrs)}(n=Dv.create(l.name),l),n},u=function(e,n,t){var l,r,a,s=n.length>0&&n[0],c=s&&s.name;if(a=function(e,n){var t="string"!==typeof e?e.nodeName.toLowerCase():e,l=o.getElementRule(t),r=l&&l.parentsRequired;return!(!r||!r.length)&&(n&&-1!==Gn.inArray(r,n)?n:r[0])}(e,c))c===a?(r=n[0],n=n.slice(1)):r=a;else if(s)r=n[0],n=n.slice(1);else if(!t)return e;return r&&(l=i(r)).appendChild(e),t&&(l||(l=Dv.create("div")).appendChild(e),Gn.each(t,function(n){var t=i(n);l.insertBefore(t,e)})),u(l,n,r&&r.siblings)};return e&&e.length?(l=e[0],t=i(l),(r=Dv.create("div")).appendChild(u(t,e.slice(1),l.siblings)),r):""},Nv=function(e){var n,t={classes:[],attrs:{}};return"*"!==(e=t.selector=Gn.trim(e))&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,n,l,r,o){switch(n){case"#":t.attrs.id=l;break;case".":t.classes.push(l);break;case":":-1!==Gn.inArray("checked disabled enabled read-only required".split(" "),l)&&(t.attrs[l]=l)}if("["===r){var i=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);i&&(t.attrs[i[1]]=i[2])}return""})),t.name=n||"div",t},Bv=function(e){return e&&"string"===typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Gn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var n=Gn.map(e.split(/(?:~\+|~|\+)/),Nv),t=n.pop();return n.length&&(t.siblings=n),t}).reverse()):[]},Fv={getCssText:function(e,n){var t,l,r,o,i,u,a="";if(!1===(u=e.settings.preview_styles))return"";"string"!==typeof u&&(u="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var s=function(e){return e.replace(/%(\w+)/g,"")};if("string"===typeof n){if(!(n=e.formatter.get(n)))return;n=n[0]}return"preview"in n&&!1===(u=n.preview)?"":(t=n.block||n.inline||"span",(o=Bv(n.selector)).length?(o[0].name||(o[0].name=t),t=n.selector,l=Tv(o,e)):l=Tv([t],e),r=Dv.select(t,l)[0]||l.firstChild,Iv(n.styles,function(e,n){(e=s(e))&&Dv.setStyle(r,n,e)}),Iv(n.attributes,function(e,n){(e=s(e))&&Dv.setAttrib(r,n,e)}),Iv(n.classes,function(e){e=s(e),Dv.hasClass(r,e)||Dv.addClass(r,e)}),e.fire("PreviewFormats"),Dv.setStyles(l,{position:"absolute",left:-65535}),e.getBody().appendChild(l),i=Dv.getStyle(e.getBody(),"fontSize",!0),i=/px$/.test(i)?parseInt(i,10):0,Iv(u.split(" "),function(n){var t=Dv.getStyle(r,n,!0);if(("background-color"!==n||!/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)||(t=Dv.getStyle(e.getBody(),n,!0),"#ffffff"!==Dv.toHex(t).toLowerCase()))&&("color"!==n||"#000000"!==Dv.toHex(t).toLowerCase())){if("font-size"===n&&/em|%$/.test(t)){if(0===i)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*i+"px"}"border"===n&&t&&(a+="padding:0 2px;"),a+=n+":"+t+";"}}),e.fire("AfterPreviewFormats"),Dv.remove(l),a)},parseSelector:Bv,selectorToHtml:function(e,n){return Tv(Bv(e),n)}},Lv={toggle:function(e,n,t,l,r){var o=n.get(t);!Lm.match(e,t,l,r)||"toggle"in o[0]&&!o[0].toggle?Ev.applyFormat(e,t,l,r):cv.remove(e,t,l,r)}},Hv={setup:function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}};function zv(e){var n=function(e){var n={},t=function(e,l){e&&("string"!==typeof e?Gn.each(e,function(e,n){t(n,e)}):(l=l.length?l:[l],Gn.each(l,function(e){"undefined"===typeof e.deep&&(e.deep=!e.selector),"undefined"===typeof e.split&&(e.split=!e.selector||e.inline),"undefined"===typeof e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"===typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),n[e]=l))};return t(Mv.get(e.dom)),t(e.settings.formats),{get:function(e){return e?n[e]:n},register:t,unregister:function(e){return e&&n[e]&&delete n[e],n}}}(e),t=Co(null);return Hv.setup(e),Zm(e),{get:n.get,register:n.register,unregister:n.unregister,apply:b(Ev.applyFormat,e),remove:b(cv.remove,e),toggle:b(Lv.toggle,e,n),match:b(Lm.match,e),matchAll:b(Lm.matchAll,e),matchNode:b(Lm.matchNode,e),canApply:b(Lm.canApply,e),formatChanged:b(Pv.formatChanged,e,t),getCssText:b(Fv.getCssText,e)}}var Vv,qv=Object.prototype.hasOwnProperty,jv=(Vv=function(e,n){return n},function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var t={},l=0;l<e.length;l++){var r=e[l];for(var o in r)qv.call(r,o)&&(t[o]=Vv(t[o],r[o]))}return t}),Wv={register:function(e,n,t){e.addAttributeFilter("data-mce-tabindex",function(e,n){for(var t,l=e.length;l--;)(t=e[l]).attr("tabindex",t.attributes.map["data-mce-tabindex"]),t.attr(n,null)}),e.addAttributeFilter("src,href,style",function(e,l){for(var r,o,i=e.length,u="data-mce-"+l,a=n.url_converter,s=n.url_converter_scope;i--;)void 0!==(o=(r=e[i]).attributes.map[u])?(r.attr(l,o.length>0?o:null),r.attr(u,null)):(o=r.attributes.map[l],"style"===l?o=t.serializeStyle(t.parseStyle(o),r.name):a&&(o=a.call(s,o,l,r.name)),r.attr(l,o.length>0?o:null))}),e.addAttributeFilter("class",function(e){for(var n,t,l=e.length;l--;)(t=(n=e[l]).attr("class"))&&(t=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",t.length>0?t:null))}),e.addAttributeFilter("data-mce-type",function(e,n,t){for(var l,r=e.length;r--;)"bookmark"!==(l=e[r]).attributes.map["data-mce-type"]||t.cleanup||l.remove()}),e.addNodeFilter("noscript",function(e){for(var n,t=e.length;t--;)(n=e[t].firstChild)&&(n.value=Tr.decode(n.value))}),e.addNodeFilter("script,style",function(e,t){for(var l,r,o,i=e.length,u=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};i--;)r=(l=e[i]).firstChild?l.firstChild.value:"","script"===t?((o=l.attr("type"))&&l.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===n.element_format&&r.length>0&&(l.firstChild.value="// <![CDATA[\n"+u(r)+"\n// ]]>")):"xhtml"===n.element_format&&r.length>0&&(l.firstChild.value="\x3c!--\n"+u(r)+"\n--\x3e")}),e.addNodeFilter("#comment",function(e){for(var n,t=e.length;t--;)0===(n=e[t]).value.indexOf("[CDATA[")?(n.name="#cdata",n.type=4,n.value=n.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===n.value.indexOf("mce:protected ")&&(n.name="#text",n.type=3,n.raw=!0,n.value=unescape(n.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,n){for(var t,l=e.length;l--;)7===(t=e[l]).type?t.remove():1===t.type&&("input"!==n||"type"in t.attributes.map||t.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(n){L(n,function(n){"format-caret"===n.attr("data-mce-type")&&(n.isEmpty(e.schema.getNonEmptyElements())?n.remove():n.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,n){for(var t=e.length;t--;)e[t].attr(n,null)})},trimTrailingBr:function(e){var n,t,l=function(e){return e&&"br"===e.name};l(n=e.lastChild)&&l(t=n.prev)&&(n.remove(),t.remove())}},Uv={process:function(e,n,t){return function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events}(e,t)?function(e,n,t){var l,r,o,i=e.dom;return n=n.cloneNode(!0),(l=document.implementation).createHTMLDocument&&(r=l.createHTMLDocument(""),Gn.each("BODY"===n.nodeName?n.childNodes:[n],function(e){r.body.appendChild(r.importNode(e,!0))}),n="BODY"!==n.nodeName?r.body.firstChild:r.body,o=i.doc,i.doc=r),sh(e,jv(t,{node:n})),o&&(i.doc=o),n}(e,n,t):n}},Qv=function(e,n,t){e.addNodeFilter("font",function(e){L(e,function(e){var l=n.parse(e.attr("style")),r=e.attr("color"),o=e.attr("face"),i=e.attr("size");r&&(l.color=r),o&&(l["font-family"]=o),i&&(l["font-size"]=t[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",n.serialize(l)),function(e,n){L(n,function(n){e.attr(n,null)})}(e,["color","face","size"])})})},Gv=function(e,n){var t=Gr();n.convert_fonts_to_spans&&Qv(e,t,Gn.explode(n.font_size_legacy_values)),function(e,n){e.addNodeFilter("strike",function(e){L(e,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))})})}(e,t)},Kv={register:function(e,n){n.inline_styles&&Gv(e,n)}},Yv=/^[ \t\r\n]*$/,Zv={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Jv=function(e,n,t){var l,r,o=t?"lastChild":"firstChild",i=t?"prev":"next";if(e[o])return e[o];if(e!==n){if(l=e[i])return l;for(r=e.parent;r&&r!==n;r=r.parent)if(l=r[i])return l}},Xv=function(){function e(e,n){this.name=e,this.type=n,1===n&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,t){var l,r;if(l=new e(n,Zv[n]||1),t)for(r in t)l.attr(r,t[r]);return l},e.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},e.prototype.attr=function(e,n){var t,l;if("string"!==typeof e){for(l in e)this.attr(l,e[l]);return this}if(t=this.attributes){if(void 0!==n){if(null===n){if(e in t.map)for(delete t.map[e],l=t.length;l--;)if(t[l].name===e)return t=t.splice(l,1),this;return this}if(e in t.map){for(l=t.length;l--;)if(t[l].name===e){t[l].value=n;break}}else t.push({name:e,value:n});return t.map[e]=n,this}return t.map[e]}},e.prototype.clone=function(){var n,t,l,r,o,i=new e(this.name,this.type);if(l=this.attributes){for((o=[]).map={},n=0,t=l.length;n<t;n++)"id"!==(r=l[n]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);i.attributes=o}return i.value=this.value,i.shortEnded=this.shortEnded,i},e.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},e.prototype.unwrap=function(){var e,n;for(e=this.firstChild;e;)n=e.next,this.insert(e,this,!0),e=n;this.remove()},e.prototype.remove=function(){var e=this.parent,n=this.next,t=this.prev;return e&&(e.firstChild===this?(e.firstChild=n,n&&(n.prev=null)):t.next=n,e.lastChild===this?(e.lastChild=t,t&&(t.next=null)):n.prev=t,this.parent=this.next=this.prev=null),this},e.prototype.append=function(e){var n;return e.parent&&e.remove(),(n=this.lastChild)?(n.next=e,e.prev=n,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},e.prototype.insert=function(e,n,t){var l;return e.parent&&e.remove(),l=n.parent||this,t?(n===l.firstChild?l.firstChild=e:n.prev.next=e,e.prev=n.prev,e.next=n,n.prev=e):(n===l.lastChild?l.lastChild=e:n.next.prev=e,e.next=n.next,e.prev=n,n.next=e),e.parent=l,e},e.prototype.getAll=function(e){var n,t=[];for(n=this.firstChild;n;n=Jv(n,this))n.name===e&&t.push(n);return t},e.prototype.empty=function(){var e,n,t;if(this.firstChild){for(e=[],t=this.firstChild;t;t=Jv(t,this))e.push(t);for(n=e.length;n--;)(t=e[n]).parent=t.firstChild=t.lastChild=t.next=t.prev=null}return this.firstChild=this.lastChild=null,this},e.prototype.isEmpty=function(e,n,t){var l,r,o=this.firstChild;if(n=n||{},o)do{if(1===o.type){if(o.attributes.map["data-mce-bogus"])continue;if(e[o.name])return!1;for(l=o.attributes.length;l--;)if("name"===(r=o.attributes[l].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===o.type)return!1;if(3===o.type&&!Yv.test(o.value))return!1;if(3===o.type&&o.parent&&n[o.parent.name]&&Yv.test(o.value))return!1;if(t&&t(o))return!1}while(o=Jv(o,this));return!0},e.prototype.walk=function(e){return Jv(this,null,e)},e}(),$v=function(e,n,t,l){(e.padd_empty_with_br||n.insert)&&t[l.name]?l.empty().append(new Xv("br",1)).shortEnded=!0:l.empty().append(new Xv("#text",3)).value="\xa0"},eb=function(e){return nb(e,"#text")&&"\xa0"===e.firstChild.value},nb=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},tb=function(e,n,t,l){return l.isEmpty(n,t,function(n){return function(e,n){var t=e.getElementRule(n.name);return t&&t.paddEmpty}(e,n)})},lb=function(e,n){return e&&(n[e.name]||"br"===e.name)},rb=function(e,n){var t=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(e,l,r){var o,i,u,a,s,c,d,f,p=e.length,h=Gn.extend({},t.getBlockElements()),g=t.getNonEmptyElements(),m=t.getNonEmptyElements();for(h.body=1,o=0;o<p;o++)if(u=(i=e[o]).parent,h[i.parent.name]&&i===u.lastChild){for(s=i.prev;s;){if("span"!==(c=s.name)||"bookmark"!==s.attr("data-mce-type")){if("br"!==c)break;if("br"===c){i=null;break}}s=s.prev}i&&(i.remove(),tb(t,g,m,u)&&(d=t.getElementRule(u.name))&&(d.removeEmpty?u.remove():d.paddEmpty&&$v(n,r,h,u)))}else{for(a=i;u&&u.firstChild===a&&u.lastChild===a&&(a=u,!h[u.name]);)u=u.parent;a===u&&!0!==n.padd_empty_with_br&&((f=new Xv("#text",3)).value="\xa0",i.replace(f))}}),e.addAttributeFilter("href",function(e){var t,l,r,o=e.length;if(!n.allow_unsafe_link_target)for(;o--;)"a"===(t=e[o]).name&&"_blank"===t.attr("target")&&t.attr("rel",(l=t.attr("rel"),r=l?Gn.trim(l):"",/\b(noopener)\b/g.test(r)?r:function(e){return e.split(" ").filter(function(e){return e.length>0}).concat(["noopener"]).sort().join(" ")}(r)))}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var n,t,l,r,o=e.length;o--;)if("a"===(r=e[o]).name&&r.firstChild&&!r.attr("href")){l=r.parent,n=r.lastChild;do{t=n.prev,l.insert(n,r),n=t}while(n)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var n,t,l=e.length;l--;)if("ul"===(t=(n=e[l]).parent).name||"ol"===t.name)if(n.prev&&"li"===n.prev.name)n.prev.append(n);else{var r=new Xv("li",1);r.attr("style","list-style-type: none"),n.wrap(r)}}),n.validate&&t.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var n,l,r,o,i,u,a,s=e.length,c=t.getValidClasses();s--;){for(l=(n=e[s]).attr("class").split(" "),i="",r=0;r<l.length;r++)o=l[r],a=!1,(u=c["*"])&&u[o]&&(a=!0),u=c[n.name],!a&&u&&u[o]&&(a=!0),a&&(i&&(i+=" "),i+=o);i.length||(i=null),n.attr("class",i)}})},ob=Gn.makeMap,ib=Gn.each,ub=Gn.explode,ab=Gn.extend;function sb(e,n){void 0===n&&(n=Ur());var t={},l=[],r={},o={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var i=function(e){var n,i,u;i in t&&((u=r[i])?u.push(e):r[i]=[e]),n=l.length;for(;n--;)(i=l[n].name)in e.attributes.map&&((u=o[i])?u.push(e):o[i]=[e]);return e},u={schema:n,addAttributeFilter:function(e,n){ib(ub(e),function(e){var t;for(t=0;t<l.length;t++)if(l[t].name===e)return void l[t].callbacks.push(n);l.push({name:e,callbacks:[n]})})},getAttributeFilters:function(){return[].concat(l)},addNodeFilter:function(e,n){ib(ub(e),function(e){var l=t[e];l||(t[e]=l=[]),l.push(n)})},getNodeFilters:function(){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({name:n,callbacks:t[n]});return e},filterNode:i,parse:function(u,a){var s,c,d,f,p,h,g,m,v,b,y,C=[];a=a||{},r={},o={},v=ab(ob("script,style,head,html,body,title,meta,param"),n.getBlockElements());var w=n.getNonEmptyElements(),x=n.children,_=e.validate,A="forced_root_block"in a?a.forced_root_block:e.forced_root_block,k=n.getWhiteSpaceElements(),O=/^[ \t\r\n]+/,S=/[ \t\r\n]+$/,E=/[ \t\r\n]+/g,R=/^[ \t\r\n]+$/;b=k.hasOwnProperty(a.context)||k.hasOwnProperty(e.root_name);var P=function(e,n){var l,o=new Xv(e,n);return e in t&&((l=r[e])?l.push(o):r[e]=[o]),o},M=function(e){var t,l,r,o,i=n.getBlockElements();for(t=e.prev;t&&3===t.type;){if((r=t.value.replace(S,"")).length>0)return void(t.value=r);if(l=t.next){if(3===l.type&&l.value.length){t=t.prev;continue}if(!i[l.name]&&"script"!==l.name&&"style"!==l.name){t=t.prev;continue}}o=t.prev,t.remove(),t=o}};s=hm({validate:_,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:function(e){var n,t={};for(n in e)"li"!==n&&"p"!==n&&(t[n]=e[n]);return t}(n.getSelfClosingElements()),cdata:function(e){y.append(P("#cdata",4)).value=e},text:function(e,n){var t;b||(e=e.replace(E," "),lb(y.lastChild,v)&&(e=e.replace(O,""))),0!==e.length&&((t=P("#text",3)).raw=!!n,y.append(t).value=e)},comment:function(e){y.append(P("#comment",8)).value=e},pi:function(e,n){y.append(P(e,7)).value=n,M(y)},doctype:function(e){y.append(P("#doctype",10)).value=e,M(y)},start:function(e,t,r){var i,u,a,s,c;if(a=_?n.getElementRule(e):{}){for((i=P(a.outputName||e,1)).attributes=t,i.shortEnded=r,y.append(i),(c=x[y.name])&&x[i.name]&&!c[i.name]&&C.push(i),u=l.length;u--;)(s=l[u].name)in t.map&&((g=o[s])?g.push(i):o[s]=[i]);v[e]&&M(i),r||(y=i),!b&&k[e]&&(b=!0)}},end:function(t){var l,r,o,i,u;if(r=_?n.getElementRule(t):{}){if(v[t]&&!b){if((l=y.firstChild)&&3===l.type)if((o=l.value.replace(O,"")).length>0)l.value=o,l=l.next;else for(i=l.next,l.remove(),l=i;l&&3===l.type;)o=l.value,i=l.next,(0===o.length||R.test(o))&&(l.remove(),l=i),l=i;if((l=y.lastChild)&&3===l.type)if((o=l.value.replace(S,"")).length>0)l.value=o,l=l.prev;else for(i=l.prev,l.remove(),l=i;l&&3===l.type;)o=l.value,i=l.prev,(0===o.length||R.test(o))&&(l.remove(),l=i),l=i}if(b&&k[t]&&(b=!1),r.removeEmpty&&tb(n,w,k,y)&&!y.attributes.map.name&&!y.attr("id"))return u=y.parent,v[y.name]?y.empty().remove():y.unwrap(),void(y=u);r.paddEmpty&&(eb(y)||tb(n,w,k,y))&&$v(e,a,v,y),y=y.parent}}},n);var I=y=new Xv(a.context||e.root_name,11);if(s.parse(u),_&&C.length&&(a.context?a.invalid=!0:function(e){var t,l,r,o,u,a,s,c,d,f,p,h,g,m,v,b;for(h=ob("tr,td,th,tbody,thead,tfoot,table"),f=n.getNonEmptyElements(),p=n.getWhiteSpaceElements(),g=n.getTextBlockElements(),m=n.getSpecialElements(),t=0;t<e.length;t++)if((l=e[t]).parent&&!l.fixed)if(g[l.name]&&"li"===l.parent.name){for(v=l.next;v&&g[v.name];)v.name="li",v.fixed=!0,l.parent.insert(v,l.parent),v=v.next;l.unwrap(l)}else{for(o=[l],r=l.parent;r&&!n.isValidChild(r.name,l.name)&&!h[r.name];r=r.parent)o.push(r);if(r&&o.length>1){for(o.reverse(),u=a=i(o[0].clone()),d=0;d<o.length-1;d++){for(n.isValidChild(a.name,o[d].name)?(s=i(o[d].clone()),a.append(s)):s=a,c=o[d].firstChild;c&&c!==o[d+1];)b=c.next,s.append(c),c=b;a=s}tb(n,f,p,u)?r.insert(l,o[0],!0):(r.insert(u,o[0],!0),r.insert(l,u)),r=o[0],(tb(n,f,p,r)||nb(r,"br"))&&r.empty().remove()}else if(l.parent){if("li"===l.name){if((v=l.prev)&&("ul"===v.name||"ul"===v.name)){v.append(l);continue}if((v=l.next)&&("ul"===v.name||"ul"===v.name)){v.insert(l,v.firstChild,!0);continue}l.wrap(i(new Xv("ul",1)));continue}n.isValidChild(l.parent.name,"div")&&n.isValidChild("div",l.name)?l.wrap(i(new Xv("div",1))):m[l.name]?l.empty().remove():l.unwrap()}}}(C)),A&&("body"===I.name||a.isRootContent)&&function(){var t,l,r=I.firstChild,o=function(e){e&&((r=e.firstChild)&&3===r.type&&(r.value=r.value.replace(O,"")),(r=e.lastChild)&&3===r.type&&(r.value=r.value.replace(S,"")))};if(n.isValidChild(I.name,A.toLowerCase())){for(;r;)t=r.next,3===r.type||1===r.type&&"p"!==r.name&&!v[r.name]&&!r.attr("data-mce-type")?l?l.append(r):((l=P(A,1)).attr(e.forced_root_block_attrs),I.insert(l,r),l.append(r)):(o(l),l=null),r=t;o(l)}}(),!a.invalid){for(m in r){for(g=t[m],p=(c=r[m]).length;p--;)c[p].parent||c.splice(p,1);for(d=0,f=g.length;d<f;d++)g[d](c,m,a)}for(d=0,f=l.length;d<f;d++)if((g=l[d]).name in o){for(p=(c=o[g.name]).length;p--;)c[p].parent||c.splice(p,1);for(p=0,h=g.callbacks.length;p<h;p++)g.callbacks[p](c,g.name,a)}}return I}};return rb(u,e),Kv.register(u,e),u}var cb=function(e,n,t){-1===Gn.inArray(n,t)&&(e.addAttributeFilter(t,function(e,n){for(var t=e.length;t--;)e[t].attr(n,null)}),n.push(t))},db=function(e,n,t){var l=ei(t.getInner?n.innerHTML:e.getOuterHTML(n));return t.selection||sr(Kt.fromDom(n))?l:Gn.trim(l)},fb=function(e,n,t){var l=t.selection?jv({forced_root_block:!1},t):t,r=e.parse(n,l);return Wv.trimTrailingBr(r),r},pb=function(e,n,t,l,r){return function(e,n,t){return!n.no_events&&e?ch(e,jv(n,{content:t})).content:t}(e,r,function(e,n,t){return pc(e,n).serialize(t)}(n,t,l))};function hb(e,n){var t=function(e,n){var t,l,r,o=["data-mce-selected"];return t=n&&n.dom?n.dom:lo.DOM,l=n&&n.schema?n.schema:Ur(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,r=sb(e,l),Wv.register(r,e,t),{schema:l,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:function(o,i){var u=jv({format:"html"},i||{}),a=Uv.process(n,o,u),s=db(t,a,u),c=fb(r,s,u);return"tree"===u.format?c:pb(n,e,l,c,u)},addRules:function(e){l.addValidElements(e)},setRules:function(e){l.setValidElements(e)},addTempAttr:b(cb,r,o),getTempAttrs:function(){return o}}}(e,n);return{schema:t.schema,addNodeFilter:t.addNodeFilter,addAttributeFilter:t.addAttributeFilter,serialize:t.serialize,addRules:t.addRules,setRules:t.setRules,addTempAttr:t.addTempAttr,getTempAttrs:t.getTempAttrs}}function gb(e){return{getBookmark:b(As.getBookmark,e),moveToBookmark:b(As.moveToBookmark,e)}}!function(e){e.isBookmarkNode=As.isBookmarkNode}(gb||(gb={}));var mb=gb,vb=Cr.isContentEditableFalse,bb=Cr.isContentEditableTrue,yb=function(e,n){var t,l,r,o,i,u,a,s,c,d,f,p,h,g,m,v,b,y=n.dom,C=Gn.each,w=n.getDoc(),x=document,_=Math.abs,A=Math.round,k=n.getBody();o={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var O=".mce-content-body";n.contentStyles.push(O+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+O+" .mce-resizehandle:hover {background: #000}"+O+" img[data-mce-selected],"+O+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+O+" .mce-clonedresizable {position: absolute;"+(ae.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+O+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var S=function(e){return e&&("IMG"===e.nodeName||n.dom.is(e,"figure.image"))},E=function(e){var t=e.target;(function(e,n){return S(e.target)&&!em(e.clientX,e.clientY,n)})(e,n.selection.getRng())&&!e.isDefaultPrevented()&&(e.preventDefault(),n.selection.select(t))},R=function(e){return n.dom.is(e,"figure.image")?e.querySelector("img"):e},P=function(e){var t=n.settings.object_resizing;return!1!==t&&!ae.iOS&&("string"!==typeof t&&(t="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&e!==n.getBody()&&_l(Kt.fromDom(e),t))},M=function(e){var o,C,w,x;o=e.screenX-u,C=e.screenY-a,g=o*i[2]+d,m=C*i[3]+f,g=g<5?5:g,m=m<5?5:m,(S(t)&&!1!==n.settings.resize_img_proportional?!tm.modifierPressed(e):tm.modifierPressed(e)||S(t)&&i[2]*i[3]!==0)&&(_(o)>_(C)?(m=A(g*p),g=A(m/p)):(g=A(m/p),m=A(g*p))),y.setStyles(R(l),{width:g,height:m}),w=i.startPos.x+o,x=i.startPos.y+C,w=w>0?w:0,x=x>0?x:0,y.setStyles(r,{left:w,top:x,display:"block"}),r.innerHTML=g+" &times; "+m,i[2]<0&&l.clientWidth<=g&&y.setStyle(l,"left",s+(d-g)),i[3]<0&&l.clientHeight<=m&&y.setStyle(l,"top",c+(f-m)),(o=k.scrollWidth-v)+(C=k.scrollHeight-b)!==0&&y.setStyles(r,{left:w-o,top:x-C}),h||(ph(n,t,d,f),h=!0)},I=function(){h=!1;var e=function(e,l){l&&(t.style[e]||!n.schema.isValid(t.nodeName.toLowerCase(),e)?y.setStyle(R(t),e,l):y.setAttrib(R(t),e,l))};e("width",g),e("height",m),y.unbind(w,"mousemove",M),y.unbind(w,"mouseup",I),x!==w&&(y.unbind(x,"mousemove",M),y.unbind(x,"mouseup",I)),y.remove(l),y.remove(r),D(t),hh(n,t,g,m),y.setAttrib(t,"style",y.getAttrib(t,"style")),n.nodeChanged()},D=function(e){var h,_,A,O,S;T(),F(),h=y.getPos(e,k),s=h.x,c=h.y,S=e.getBoundingClientRect(),_=S.width||S.right-S.left,A=S.height||S.bottom-S.top,t!==e&&(t=e,g=m=0),O=n.fire("ObjectSelected",{target:e}),P(e)&&!O.isDefaultPrevented()?C(o,function(e,n){var o;(o=y.get("mceResizeHandle"+n))&&y.remove(o),o=y.add(k,"div",{id:"mceResizeHandle"+n,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+n+"-resize; margin:0; padding:0"}),11===ae.ie&&(o.contentEditable=!1),y.bind(o,"mousedown",function(n){n.stopImmediatePropagation(),n.preventDefault(),function(n){u=n.screenX,a=n.screenY,d=R(t).clientWidth,f=R(t).clientHeight,p=f/d,i=e,e.startPos={x:_*e[0]+s,y:A*e[1]+c},v=k.scrollWidth,b=k.scrollHeight,l=t.cloneNode(!0),y.addClass(l,"mce-clonedresizable"),y.setAttrib(l,"data-mce-bogus","all"),l.contentEditable=!1,l.unSelectabe=!0,y.setStyles(l,{left:s,top:c,margin:0}),l.removeAttribute("data-mce-selected"),k.appendChild(l),y.bind(w,"mousemove",M),y.bind(w,"mouseup",I),x!==w&&(y.bind(x,"mousemove",M),y.bind(x,"mouseup",I)),r=y.add(k,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},d+" &times; "+f)}(n)}),e.elm=o,y.setStyles(o,{left:_*e[0]+s-o.offsetWidth/2,top:A*e[1]+c-o.offsetHeight/2})}):T(),t.setAttribute("data-mce-selected","1")},T=function(){var e,n;for(e in F(),t&&t.removeAttribute("data-mce-selected"),o)(n=y.get("mceResizeHandle"+e))&&(y.unbind(n),y.remove(n))},N=function(t){var l,r=function(e,n){if(e)do{if(e===n)return!0}while(e=e.parentNode)};h||n.removed||(C(y.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),l="mousedown"===t.type?t.target:e.getNode(),r(l=y.$(l).closest("table,img,figure.image,hr")[0],k)&&(L(),r(e.getStart(!0),l)&&r(e.getEnd(!0),l))?D(l):T())},B=function(e){return vb(function(e,n){for(;n&&n!==e;){if(bb(n)||vb(n))return n;n=n.parentNode}return null}(n.getBody(),e))},F=function(){for(var e in o){var n=o[e];n.elm&&(y.unbind(n.elm),delete n.elm)}},L=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return n.on("init",function(){L(),ae.ie&&ae.ie>=11&&(n.on("mousedown click",function(e){var t=e.target,l=t.nodeName;h||!/^(TABLE|IMG|HR)$/.test(l)||B(t)||(2!==e.button&&n.selection.select(t,"TABLE"===l),"mousedown"===e.type&&n.nodeChanged())}),n.dom.bind(k,"mscontrolselect",function(e){var t=function(e){pe.setEditorTimeout(n,function(){n.selection.select(e)})};if(B(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&t(e.target))}));var e=pe.throttle(function(e){n.composing||N(e)});n.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),n.on("keyup compositionend",function(n){t&&"TABLE"===t.nodeName&&e(n)}),n.on("hide blur",T),n.on("contextmenu",E)}),n.on("remove",F),{isResizable:P,showResizeRect:D,hideResizeRect:T,updateResizeRect:N,destroy:function(){t=l=null}}},Cb=function(e){return Cr.isContentEditableTrue(e)||Cr.isContentEditableFalse(e)},wb={fromPoint:function(e,n,t){var l,r,o=t;if(o.caretPositionFromPoint)(r=o.caretPositionFromPoint(e,n))&&((l=t.createRange()).setStart(r.offsetNode,r.offset),l.collapse(!0));else if(t.caretRangeFromPoint)l=t.caretRangeFromPoint(e,n);else if(o.body.createTextRange){l=o.body.createTextRange();try{l.moveToPoint(e,n),l.collapse(!0)}catch(r){l=function(e,n,t){var l,r,o;if(l=t.elementFromPoint(e,n),r=t.body.createTextRange(),l&&"HTML"!==l.tagName||(l=t.body),r.moveToElementText(l),(o=(o=Gn.toArray(r.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)))})).length>0){n=(o[0].bottom+o[0].top)/2;try{return r.moveToPoint(e,n),r.collapse(!0),r}catch(e){}}return null}(e,n,t)}return function(e,n){var t=e&&e.parentElement?e.parentElement():null;return Cr.isContentEditableFalse(function(e,n,t){for(;e&&e!==n;){if(t(e))return e;e=e.parentNode}return null}(t,n,Cb))?null:e}(l,t.body)}return l}},xb=function(e,n){return F(n,function(n){var t=e.fire("GetSelectionRange",{range:n});return t.range!==n?t.range:n})},_b=function(e,n){var t=(n||document).createDocumentFragment();return L(e,function(e){t.appendChild(e.dom())}),Kt.fromDom(t)},Ab=ml("element","width","rows"),kb=ml("element","cells"),Ob=ml("x","y"),Sb=function(e,n){var t=parseInt(cl(e,n),10);return isNaN(t)?1:t},Eb=function(e,n,t){var l=e.rows();return!!(l[t]?l[t].cells():[])[n]},Rb=function(e){return V(e,function(e,n){return n.cells().length>e?n.cells().length:e},0)},Pb=function(e,n){for(var t=e.rows(),l=0;l<t.length;l++)for(var r=t[l].cells(),o=0;o<r.length;o++)if(kl(r[o],n))return O.some(Ob(o,l));return O.none()},Mb=function(e,n,t,l,r){for(var o=[],i=e.rows(),u=t;u<=r;u++){var a=i[u].cells(),s=n<l?a.slice(n,l+1):a.slice(l,n+1);o.push(kb(i[u].element(),s))}return o},Ib=function(e){var n=Ab(Qo(e),0,[]);return L(Eo(e,"tr"),function(e,t){L(Eo(e,"td,th"),function(l,r){!function(e,n,t,l,r){for(var o=Sb(r,"rowspan"),i=Sb(r,"colspan"),u=e.rows(),a=t;a<t+o;a++){u[a]||(u[a]=kb(Go(l),[]));for(var s=n;s<n+i;s++)u[a].cells()[s]=a===t&&s===n?r:Qo(r)}}(n,function(e,n,t){for(;Eb(e,n,t);)n++;return n}(n,r,t),t,e,l)})}),Ab(n.element(),Rb(n.rows()),n.rows())},Db=function(e){return function(e,n){var t=Qo(e.element()),l=Kt.fromTag("tbody");return go(l,n),ho(t,l),t}(e,function(e){return F(e.rows(),function(e){var n=F(e.cells(),function(e){var n=Go(e);return dl(n,"colspan"),dl(n,"rowspan"),n}),t=Qo(e.element());return go(t,n),t})}(e))},Tb=function(e,n,t){return Pb(e,n).bind(function(n){return Pb(e,t).map(function(t){return function(e,n,t){var l=n.x(),r=n.y(),o=t.x(),i=t.y(),u=r<i?Mb(e,l,r,o,i):Mb(e,l,i,o,r);return Ab(e.element(),Rb(u),u)}(e,n,t)})})},Nb=function(e,n){return q(e,function(e){return"li"===Xt(e)&&kg(e,n)}).fold(m([]),function(n){return function(e){return q(e,function(e){return"ul"===Xt(e)||"ol"===Xt(e)})}(e).map(function(e){return[Kt.fromTag("li"),Kt.fromTag(Xt(e))]}).getOr([])})},Bb=function(e,n){var t=Kt.fromDom(n.commonAncestorContainer),l=Xc(t,e),r=z(l,function(e){return nr(e)||$l(e)}),o=Nb(l,n),i=r.concat(o.length?o:function(e){return or(e)?El(e).filter(rr).fold(m([]),function(n){return[e,n]}):rr(e)?[e]:[]}(t));return F(i,Qo)},Fb=function(){return _b([])},Lb=function(e,n){return t=Kt.fromDom(n.cloneContents()),l=Bb(e,n),r=V(l,function(e,n){return ho(n,e),n},t),l.length>0?_b([r]):r;var t,l,r},Hb=function(e,n){return(t=e,l=n[0],Io(l,"table",b(kl,t))).bind(function(e){var t=n[0],l=n[n.length-1],r=Ib(e);return Tb(r,t,l).map(function(e){return _b([Db(e)])})}).getOrThunk(Fb);var t,l},zb=function(e,n){var t=Kf(n,e);return t.length>0?Hb(e,t):function(e,n){return n.length>0&&n[0].collapsed?Fb():Lb(e,n[0])}(e,n)},Vb=function(e,n){var t,l=e.selection.getRng(),r=e.dom.create("body"),o=e.selection.getSel(),i=xb(e,qf(o));if((n=n||{}).get=!0,n.format=n.format||"html",n.selection=!0,(n=e.fire("BeforeGetContent",n)).isDefaultPrevented())return e.fire("GetContent",n),n.content;if("text"===n.format)return e.selection.isCollapsed()?"":ei(l.text||(o.toString?o.toString():""));l.cloneContents?(t=n.contextual?zb(Kt.fromDom(e.getBody()),i).dom():l.cloneContents())&&r.appendChild(t):void 0!==l.item||void 0!==l.htmlText?(r.innerHTML="<br>"+(l.item?l.item(0).outerHTML:l.htmlText),r.removeChild(r.firstChild)):r.innerHTML=l.toString(),n.getInner=!0;var u=e.selection.serializer.serialize(r,n);return"tree"===n.format?u:(n.content=e.selection.isCollapsed()?"":u,e.fire("GetContent",n),n.content)},qb=function(e,n,t){var l,r,o,i=e.selection.getRng(),u=e.getDoc();if((t=t||{format:"html"}).set=!0,t.selection=!0,t.content=n,t.no_events||!(t=e.fire("BeforeSetContent",t)).isDefaultPrevented()){if(n=t.content,i.insertNode){n+='<span id="__caret">_</span>',i.startContainer===u&&i.endContainer===u?u.body.innerHTML=n:(i.deleteContents(),0===u.body.childNodes.length?u.body.innerHTML=n:i.createContextualFragment?i.insertNode(i.createContextualFragment(n)):(r=u.createDocumentFragment(),o=u.createElement("div"),r.appendChild(o),o.outerHTML=n,i.insertNode(r))),l=e.dom.get("__caret"),(i=u.createRange()).setStartBefore(l),i.setEndBefore(l),e.selection.setRng(i),e.dom.remove("__caret");try{e.selection.setRng(i)}catch(e){}}else i.item&&(u.execCommand("Delete",!1,null),i=e.getRng()),/^\s+/.test(n)?(i.pasteHTML('<span id="__mce_tmp">_</span>'+n),e.dom.remove("__mce_tmp")):i.pasteHTML(n);t.no_events||e.fire("SetContent",t)}else e.fire("SetContent",t)},jb=function(e,n,t,l,r){var o=t?n.startContainer:n.endContainer,i=t?n.startOffset:n.endOffset;return O.from(o).map(Kt.fromDom).map(function(e){return l&&n.collapsed?e:Dl(e,r(e,i)).getOr(e)}).bind(function(e){return el(e)?O.some(e):El(e)}).map(function(e){return e.dom()}).getOr(e)},Wb=function(e,n,t){return jb(e,n,!0,t,function(e,n){return Math.min(e.dom().childNodes.length,n)})},Ub=function(e,n,t){return jb(e,n,!1,t,function(e,n){return n>0?n-1:n})},Qb=function(e,n){for(var t=e;e&&Cr.isText(e)&&0===e.length;)e=n?e.nextSibling:e.previousSibling;return e||t},Gb=Gn.each,Kb=function(e){return!!e.select},Yb=function(e){return!(!e||!e.ownerDocument)&&Ol(Kt.fromDom(e.ownerDocument),Kt.fromDom(e))},Zb=function(e,n,t,l){var r,o,i,u,a,s=function(e,n){return qb(l,e,n)},c=function(e){var n=f();n.collapse(!!e),p(n)},d=function(){return n.getSelection?n.getSelection():n.document.selection},f=function(){var t,r,o,a,s=function(e,n,t){try{return n.compareBoundaryPoints(e,t)}catch(e){return-1}};if(!n)return null;if("undefined"===typeof(a=n.document)||null===a)return null;if(void 0!==l.bookmark&&!1===Hh(l)){var c=Jp.getRng(l);if(c.isSome())return c.map(function(e){return xb(l,[e])[0]}).getOr(a.createRange())}try{(t=d())&&(r=t.rangeCount>0?t.getRangeAt(0):t.createRange?t.createRange():a.createRange())}catch(e){}return(r=xb(l,[r])[0])||(r=a.createRange?a.createRange():a.body.createTextRange()),r.setStart&&9===r.startContainer.nodeType&&r.collapsed&&(o=e.getRoot(),r.setStart(o,0),r.setEnd(o,0)),i&&u&&(0===s(r.START_TO_START,r,i)&&0===s(r.END_TO_END,r,i)?r=u:(i=null,u=null)),r},p=function(e,n){var t,r;if(function(e){return!!e&&(!!Kb(e)||Yb(e.startContainer)&&Yb(e.endContainer))}(e)){var o=Kb(e)?e:null;if(o){u=null;try{o.select()}catch(e){}}else{if(t=d(),e=l.fire("SetSelectionRange",{range:e,forward:n}).range,t){u=e;try{t.removeAllRanges(),t.addRange(e)}catch(e){}!1===n&&t.extend&&(t.collapse(e.endContainer,e.endOffset),t.extend(e.startContainer,e.startOffset)),i=t.rangeCount>0?t.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!t.setBaseAndExtent||ae.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(r=e.startContainer.childNodes[e.startOffset])&&"IMG"===r.tagName&&(t.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),t.anchorNode===e.startContainer&&t.focusNode===e.endContainer||t.setBaseAndExtent(r,0,r,1)),l.fire("AfterSetSelectionRange",{range:e,forward:n})}}},h=function(){var n,t,l=d();return!(l&&l.anchorNode&&l.focusNode)||((n=e.createRng()).setStart(l.anchorNode,l.anchorOffset),n.collapse(!0),(t=e.createRng()).setStart(l.focusNode,l.focusOffset),t.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,t)<=0)},g={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:t,editor:l,collapse:c,setCursorLocation:function(n,t){var r=e.createRng();n?(r.setStart(n,t),r.setEnd(n,t),p(r),c(!1)):(Og(e,r,l.getBody(),!0),p(r))},getContent:function(e){return Vb(l,e)},setContent:s,getBookmark:function(e,n){return r.getBookmark(e,n)},moveToBookmark:function(e){return r.moveToBookmark(e)},select:function(n,t){return function(e,n,t){return O.from(n).map(function(n){var l=e.nodeIndex(n),r=e.createRng();return r.setStart(n.parentNode,l),r.setEnd(n.parentNode,l+1),t&&(Og(e,r,n,!0),Og(e,r,n,!1)),r})}(e,n,t).each(p),n},isCollapsed:function(){var e=f(),n=d();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!n||e.collapsed)},isForward:h,setNode:function(n){return s(e.getOuterHTML(n)),n},getNode:function(){return e=l.getBody(),(n=f())?(r=n.startContainer,o=n.endContainer,i=n.startOffset,u=n.endOffset,t=n.commonAncestorContainer,!n.collapsed&&(r===o&&u-i<2&&r.hasChildNodes()&&(t=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?Qb(r.nextSibling,!0):r.parentNode,o=0===u?Qb(o.previousSibling,!1):o.parentNode,r&&r===o))?r:t&&3===t.nodeType?t.parentNode:t):e;var e,n,t,r,o,i,u},getSel:d,setRng:p,getRng:f,getStart:function(e){return Wb(l.getBody(),f(),e)},getEnd:function(e){return Ub(l.getBody(),f(),e)},getSelectedBlocks:function(n,t){return function(e,n,t,l){var r,o,i=[];if(o=e.getRoot(),t=e.getParent(t||Wb(o,n,n.collapsed),e.isBlock),l=e.getParent(l||Ub(o,n,n.collapsed),e.isBlock),t&&t!==o&&i.push(t),t&&l&&t!==l){r=t;for(var u=new Kl(t,o);(r=u.next())&&r!==l;)e.isBlock(r)&&i.push(r)}return l&&t!==l&&l!==o&&i.push(l),i}(e,f(),n,t)},normalize:function(){var n=f(),t=d();if(!Wf(t)&&Sg(l)){var r=Sp.normalize(e,n);return r.each(function(e){p(e,h())}),r.getOr(n)}return n},selectorChanged:function(n,t){var r;return a||(a={},r={},l.on("NodeChange",function(n){var t=n.element,l=e.getParents(t,null,e.getRoot()),o={};Gb(a,function(n,t){Gb(l,function(i){if(e.is(i,t))return r[t]||(Gb(n,function(e){e(!0,{node:i,selector:t,parents:l})}),r[t]=n),o[t]=n,!1})}),Gb(r,function(e,n){o[n]||(delete r[n],Gb(e,function(e){e(!1,{node:t,selector:n,parents:l})}))})})),a[n]||(a[n]=[]),a[n].push(t),g},getScrollContainer:function(){for(var n,t=e.getRoot();t&&"BODY"!==t.nodeName;){if(t.scrollHeight>t.clientHeight){n=t;break}t=t.parentNode}return n},scrollIntoView:function(e,n){return ma(l,e,n)},placeCaretAt:function(e,n){return p(wb.fromPoint(e,n,l.getDoc()))},getBoundingClientRect:function(){var e=f();return e.collapsed?tu.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){n=i=u=null,o.destroy()}};return r=mb(g),o=yb(g,l),g.bookmarkManager=r,g.controlSelection=o,g},Jb=Cr.isContentEditableFalse,Xb=Mi,$b=us,ey=is,ny=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},ty=function(e,n,t,l){var r,o,i,u,a,s,c=e===nu.Forwards,d=c?ey:$b;return!l.collapsed&&(r=Xb(l),Jb(r))?Fu(e,n,r,e===nu.Backwards,!0):(u=function(e){return li(e.startContainer)}(l),d(o=os(e,n.getBody(),l))?Lu(n,o.getNode(!c)):(o=t(o))?d(o)?Fu(e,n,o.getNode(!c),c,!0):d(i=t(o))&&(!(s=Ka(a=o,i))&&Cr.isBr(a.getNode())||s)?Fu(e,n,i.getNode(!c),c,!0):u?zu(n,o.toRange(),!0):null:u?l:null)},ly=function(e,n,t,l){var r,o,i,u,a,s,c,d,f;if(f=Xb(l),r=os(e,n.getBody(),l),o=t(n.getBody(),Wg(1),r),i=qn.filter(o,Ug(1)),a=qn.last(r.getClientRects()),(ey(r)||as(r))&&(f=r.getNode()),($b(r)||ss(r))&&(f=r.getNode(!0)),!a)return null;if(s=a.left,(u=Jg(i,s))&&Jb(u.node))return c=Math.abs(s-u.left),d=Math.abs(s-u.right),Fu(e,n,u.node,c<d,!0);if(f){var p=function(e,n,t,l){var r,o,i,u,a,s,c=Xu(n),d=[],f=0,p=function(e){return qn.last(e.getClientRects())};1===e?(r=c.next,o=Pi,i=Ri,u=tu.after(l)):(r=c.prev,o=Ri,i=Pi,u=tu.before(l)),s=p(u);do{if(u.isVisible()&&!i(a=p(u),s)){if(d.length>0&&o(a,qn.last(d))&&f++,(a=Oi(a)).position=u,a.line=f,t(a))return d;d.push(a)}}while(u=r(u));return d}(e,n.getBody(),Wg(1),f);if(u=Jg(qn.filter(p,Ug(1)),s))return zu(n,u.position.toRange(),!0);if(u=qn.last(qn.filter(p,Ug(0))))return zu(n,u.position.toRange(),!0)}},ry=function(e,n,t){var l,r,o=Xu(e.getBody()),i=Jo.curry(ny,o.next),u=Jo.curry(ny,o.prev);if(t.collapsed&&e.settings.forced_root_block){if(!(l=e.dom.getParent(t.startContainer,"PRE")))return;(1===n?i(tu.fromRangeStart(t)):u(tu.fromRangeStart(t)))||(r=function(e){var n=e.dom.create(e.settings.forced_root_block);return(!ae.ie||ae.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n}(e),1===n?e.$(l).after(r):e.$(l).before(r),e.selection.select(r,!0),e.selection.collapse())}},oy=function(e,n){return function(){var t=function(e,n){var t,l=Xu(e.getBody()),r=Jo.curry(ny,l.next),o=Jo.curry(ny,l.prev),i=n?nu.Forwards:nu.Backwards,u=n?r:o,a=e.selection.getRng();return(t=ty(i,e,u,a))?t:(t=ry(e,i,a))||null}(e,n);return!!t&&(e.selection.setRng(t),!0)}},iy=function(e,n){return function(){var t=function(e,n){var t,l=n?1:-1,r=n?jg:qg,o=e.selection.getRng();return(t=ly(l,e,r,o))?t:(t=ry(e,l,o))||null}(e,n);return!!t&&(e.selection.setRng(t),!0)}},uy=function(e,n){return Q(function(e){return F(e,function(e){return jv({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:h},e)})}(e),function(e){return function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey}(e,n)?[e]:[]})},ay=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var l=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,l)}},sy=function(e,n){return q(uy(e,n),function(e){return e.action()})},cy=function(e,n){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&function(e,n,t){var l=Qt.detect().os;sy([{keyCode:tm.RIGHT,action:oy(e,!0)},{keyCode:tm.LEFT,action:oy(e,!1)},{keyCode:tm.UP,action:iy(e,!1)},{keyCode:tm.DOWN,action:iy(e,!0)},{keyCode:tm.RIGHT,action:Pa(e,!0)},{keyCode:tm.LEFT,action:Pa(e,!1)},{keyCode:tm.UP,action:Ma(e,!1)},{keyCode:tm.DOWN,action:Ma(e,!0)},{keyCode:tm.RIGHT,action:xf.move(e,n,!0)},{keyCode:tm.LEFT,action:xf.move(e,n,!1)},{keyCode:tm.RIGHT,ctrlKey:!l.isOSX(),altKey:l.isOSX(),action:xf.moveNextWord(e,n)},{keyCode:tm.LEFT,ctrlKey:!l.isOSX(),altKey:l.isOSX(),action:xf.movePrevWord(e,n)}],t).each(function(e){t.preventDefault()})}(e,n,t)})},dy=function(e){return 1===Il(e).length},fy=function(e,n,t,l){var r=b(Jm,n),o=F(z(l,r),function(e){return e.dom()});if(0===o.length)Pd(n,e,t);else{var i=function(e,n){var t=Wm(!1),l=Ym(n,t.dom());return fo(Kt.fromDom(e),t),vo(Kt.fromDom(e)),tu(l,0)}(t.dom(),o);n.selection.setRng(i.toRange())}},py=function(e,n){var t=Kt.fromDom(e.getBody()),l=Kt.fromDom(e.selection.getStart()),r=z(function(e,n){var t=Xc(n,e);return j(t,er).fold(m(t),function(e){return t.slice(0,e)})}(t,l),dy);return J(r).map(function(t){var l,o=tu.fromRangeStart(e.selection.getRng());return!(!Fc(n,o,t.dom())||(l=t,_u(l.dom())&&qm(l.dom())))&&(fy(n,e,t,r),!0)}).getOr(!1)},hy=function(e,n){return!!e.selection.isCollapsed()&&py(e,n)},gy=function(e,n){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&function(e,n,t){sy([{keyCode:tm.BACKSPACE,action:ay(Dd,e,!1)},{keyCode:tm.DELETE,action:ay(Dd,e,!0)},{keyCode:tm.BACKSPACE,action:ay(Of,e,n,!1)},{keyCode:tm.DELETE,action:ay(Of,e,n,!0)},{keyCode:tm.BACKSPACE,action:ay(op,e,!1)},{keyCode:tm.DELETE,action:ay(op,e,!0)},{keyCode:tm.BACKSPACE,action:ay(dd,e,!1)},{keyCode:tm.DELETE,action:ay(dd,e,!0)},{keyCode:tm.BACKSPACE,action:ay(ud,e,!1)},{keyCode:tm.DELETE,action:ay(ud,e,!0)},{keyCode:tm.BACKSPACE,action:ay(hy,e,!1)},{keyCode:tm.DELETE,action:ay(hy,e,!0)}],t).each(function(e){t.preventDefault()})}(e,n,t)}),e.on("keyup",function(n){!1===n.isDefaultPrevented()&&function(e,n){sy([{keyCode:tm.BACKSPACE,action:ay(Td,e)},{keyCode:tm.DELETE,action:ay(Td,e)}],n)}(e,n)})},my=function(e){return O.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},vy=function(e,n){var t,l,r,o=n,i=e.dom,u=e.schema.getMoveCaretBeforeOnEnterElements();if(n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var a=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(n.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&n.insertBefore(i.doc.createTextNode("\xa0"),n.firstChild)}if(r=i.createRng(),n.normalize(),n.hasChildNodes()){for(t=new Kl(n,n);l=t.current();){if(Cr.isText(l)){r.setStart(l,0),r.setEnd(l,0);break}if(u[l.nodeName.toLowerCase()]){r.setStartBefore(l),r.setEndBefore(l);break}o=l,l=t.next()}l||(r.setStart(o,0),r.setEnd(o,0))}else Cr.isBr(n)?n.nextSibling&&i.isBlock(n.nextSibling)?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)):(r.setStart(n,0),r.setEnd(n,0));e.selection.setRng(r),i.remove(void 0),e.selection.scrollIntoView(n)}},by=function(e,n){var t,l,r=e.getRoot();for(t=n;t!==r&&"false"!==e.getContentEditable(t);)"true"===e.getContentEditable(t)&&(l=t),t=t.parentNode;return t!==r?l:r},yy=my,Cy=function(e){return my(e).fold(m(""),function(e){return e.nodeName.toUpperCase()})},wy=function(e){return my(e).filter(function(e){return or(Kt.fromDom(e))}).isSome()},xy=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},_y=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},Ay=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},ky=function(e,n,t){for(var l=e[t?"firstChild":"lastChild"];l&&!Cr.isElement(l);)l=l[t?"nextSibling":"previousSibling"];return l===n},Oy=function(e,n,t,l,r){var o=e.dom,i=e.selection.getRng();if(t!==e.getBody()){var u;_y(u=t)&&_y(u.parentNode)&&(r="LI");var a=r?n(r):o.create("BR");if(ky(t,l,!0)&&ky(t,l,!1))xy(t,"LI")?o.insertAfter(a,Ay(t)):o.replace(a,t);else if(ky(t,l,!0))xy(t,"LI")?(o.insertAfter(a,Ay(t)),a.appendChild(o.doc.createTextNode(" ")),a.appendChild(t)):t.parentNode.insertBefore(a,t);else if(ky(t,l,!1))o.insertAfter(a,Ay(t));else{t=Ay(t);var s=i.cloneRange();s.setStartAfter(l),s.setEndAfter(t);var c=s.extractContents();"LI"===r&&function(e,n){return e.firstChild&&e.firstChild.nodeName===n}(c,"LI")?(a=c.firstChild,o.insertAfter(c,t)):(o.insertAfter(c,t),o.insertAfter(a,t))}o.remove(l),vy(e,a)}},Sy=function(e){e.innerHTML='<br data-mce-bogus="1">'},Ey=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},Ry=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&"true"!==e.getContentEditable(n)},Py=function(e,n,t){return!1===Cr.isText(n)?t:e?1===t&&n.data.charAt(t-1)===$o?0:t:t===n.data.length-1&&n.data.charAt(t)===$o?n.data.length:t},My=function(e,n){var t,l,r=e.getRoot();for(t=n;t!==r&&"false"!==e.getContentEditable(t);)"true"===e.getContentEditable(t)&&(l=t),t=t.parentNode;return t!==r?l:r},Iy=function(e,n){var t=ya.getForcedRootBlock(e);t&&t.toLowerCase()===n.tagName.toLowerCase()&&e.dom.setAttribs(n,ya.getForcedRootBlockAttrs(e))},Dy=function(e,n){var t,l,r,o,i,u,a,s,c,d,f,p,h,g=e.dom,m=e.schema,v=m.getNonEmptyElements(),b=e.selection.getRng(),y=function(n){var t,o,u,a=r,s=m.getTextInlineElements();if(n||"TABLE"===d||"HR"===d?(t=g.create(n||p),Iy(e,t)):t=i.cloneNode(!1),u=t,!1===ya.shouldKeepStyles(e))g.setAttrib(t,"style",null),g.setAttrib(t,"class",null);else do{if(s[a.nodeName]){if(_u(a))continue;o=a.cloneNode(!1),g.setAttrib(o,"id",""),t.hasChildNodes()?(o.appendChild(t.firstChild),t.appendChild(o)):(u=o,t.appendChild(o))}}while((a=a.parentNode)&&a!==l);return Sy(u),t},C=function(e){var n,t,l,u;if(u=Py(e,r,o),Cr.isText(r)&&(e?u>0:u<r.nodeValue.length))return!1;if(r.parentNode===i&&h&&!e)return!0;if(e&&Cr.isElement(r)&&r===i.firstChild)return!0;if(Ey(r,"TABLE")||Ey(r,"HR"))return h&&!e||!h&&e;for(n=new Kl(r,i),Cr.isText(r)&&(e&&0===u?n.prev():e||u!==r.nodeValue.length||n.next());t=n.current();){if(Cr.isElement(t)){if(!t.getAttribute("data-mce-bogus")&&(l=t.nodeName.toLowerCase(),v[l]&&"br"!==l))return!1}else if(Cr.isText(t)&&!/^[ \t\r\n]*$/.test(t.nodeValue))return!1;e?n.prev():n.next()}return!0},w=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==f?y(p):y(),ya.shouldEndContainerOnEmptyBlock(e)&&Ry(g,c)&&g.isEmpty(i)?a=g.split(c,i):g.insertAfter(a,i),vy(e,a)};Sp.normalize(g,b).each(function(e){b.setStart(e.startContainer,e.startOffset),b.setEnd(e.endContainer,e.endOffset)}),r=b.startContainer,o=b.startOffset,p=ya.getForcedRootBlock(e),u=n.shiftKey,Cr.isElement(r)&&r.hasChildNodes()&&(h=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=h&&Cr.isText(r)?r.nodeValue.length:0),(l=My(g,r))&&((p&&!u||!p&&u)&&(r=function(e,n,t,l,r){var o,i,u,a,s,c,d=n||"P",f=e.dom,p=My(f,l);if(!(i=f.getParent(l,f.isBlock))||!Ry(f,i)){if(c=(i=i||p)===e.getBody()||function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase(),!i.hasChildNodes())return o=f.create(d),Iy(e,o),i.appendChild(o),t.setStart(o,0),t.setEnd(o,0),o;for(a=l;a.parentNode!==i;)a=a.parentNode;for(;a&&!f.isBlock(a);)u=a,a=a.previousSibling;if(u&&e.schema.isValidChild(c,d.toLowerCase())){for(o=f.create(d),Iy(e,o),u.parentNode.insertBefore(o,u),a=u;a&&!f.isBlock(a);)s=a.nextSibling,o.appendChild(a),a=s;t.setStart(l,r),t.setEnd(l,r)}}return l}(e,p,b,r,o)),i=g.getParent(r,g.isBlock),c=i?g.getParent(i.parentNode,g.isBlock):null,d=i?i.nodeName.toUpperCase():"","LI"!==(f=c?c.nodeName.toUpperCase():"")||n.ctrlKey||(i=c,c=c.parentNode,d=f),/^(LI|DT|DD)$/.test(d)&&g.isEmpty(i)?Oy(e,y,c,i,p):p&&i===e.getBody()||(p=p||"P",li(i)?(a=fi(i),g.isEmpty(i)&&Sy(i),vy(e,a)):C()?w():C(!0)?(a=i.parentNode.insertBefore(y(),i),vy(e,Ey(i,"HR")?a:i)):((t=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,Py(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,Py(!1,e.endContainer,e.endOffset)),n}(b).cloneRange()).setEndAfter(i),function(e){do{Cr.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(s=t.extractContents()),a=s.firstChild,g.insertAfter(s,i),function(e,n,t){var l,r=t,o=[];if(r){for(;r=r.firstChild;){if(e.isBlock(r))return;Cr.isElement(r)&&!n[r.nodeName.toLowerCase()]&&o.push(r)}for(l=o.length;l--;)!(r=o[l]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?e.remove(r):(i=r)&&"A"===i.nodeName&&0===Gn.trim(ei(i.innerText||i.textContent)).length&&e.remove(r);var i}}(g,v,a),function(e,n){var t;n.normalize(),(t=n.lastChild)&&!/^(left|right)$/gi.test(e.getStyle(t,"float",!0))||e.add(n,"br")}(g,i),g.isEmpty(i)&&Sy(i),a.normalize(),g.isEmpty(a)?(g.remove(a),w()):vy(e,a)),g.setAttrib(a,"id",""),e.fire("NewBlock",{newBlock:a})))},Ty=function(e,n){return yy(e).filter(function(e){return n.length>0&&_l(Kt.fromDom(e),n)}).isSome()},Ny=function(e){return Ty(e,ya.getBrNewLineSelector(e))},By=function(e){return Ty(e,ya.getNoNewLineSelector(e))},Fy=fd([{br:[]},{block:[]},{none:[]}]),Ly=function(e,n){return By(e)},Hy=function(e){return function(n,t){return""===ya.getForcedRootBlock(n)===e}},zy=function(e){return function(n,t){return wy(n)===e}},Vy=function(e,n){return function(t,l){return Cy(t)===e.toUpperCase()===n}},qy=function(e){return Vy("pre",e)},jy=function(e){return function(n,t){return ya.shouldPutBrInPre(n)===e}},Wy=function(e,n){return Ny(e)},Uy=function(e,n){return n},Qy=function(e){var n=ya.getForcedRootBlock(e),t=by(e.dom,e.selection.getStart());return t&&e.schema.isValidChild(t.nodeName,n||"P")},Gy=function(e,n){return function(t,l){return V(e,function(e,n){return e&&n(t,l)},!0)?O.some(n):O.none()}},Ky=function(e,n){return Ud([Gy([Ly],Fy.none()),Gy([Vy("summary",!0)],Fy.br()),Gy([qy(!0),jy(!1),Uy],Fy.br()),Gy([qy(!0),jy(!1)],Fy.block()),Gy([qy(!0),jy(!0),Uy],Fy.block()),Gy([qy(!0),jy(!0)],Fy.br()),Gy([zy(!0),Uy],Fy.br()),Gy([zy(!0)],Fy.block()),Gy([Hy(!0),Uy,Qy],Fy.block()),Gy([Hy(!0)],Fy.br()),Gy([Wy],Fy.br()),Gy([Hy(!1),Uy],Fy.br()),Gy([Qy],Fy.block())],[e,n.shiftKey]).getOr(Fy.none())},Yy=function(e,n){Ky(e,n).fold(function(){Fp.insert(e,n)},function(){Dy(e,n)},h)},Zy=function(e){e.on("keydown",function(n){n.keyCode===tm.ENTER&&function(e,n){var t;n.isDefaultPrevented()||(n.preventDefault(),(t=e.undoManager).typing&&(t.typing=!1,t.add()),e.undoManager.transact(function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),Yy(e,n)}))}(e,n)})},Jy=function(e,n,t){return!!function(e,n){return Xy(e)&&Cr.isText(n.container())}(t,n)&&(function(e,n){var t=n.container(),l=n.offset();t.insertData(l,"\xa0"),e.selection.setCursorLocation(t,l+1)}(e,n),!0)},Xy=function(e){return e.fold(m(!1),m(!0),m(!0),m(!1))},$y=function(e){return!!e.selection.isCollapsed()&&function(e){var n=b(Tc.isInlineTarget,e),t=tu.fromRangeStart(e.selection.getRng());return cf(n,e.getBody(),t).map(b(Jy,e,t)).getOr(!1)}(e)},eC=function(e){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&function(e,n){sy([{keyCode:tm.SPACEBAR,action:ay($y,e)}],n).each(function(e){n.preventDefault()})}(e,n)})},nC=function(e,n){n.hasAttribute("data-mce-caret")&&(fi(n),function(e){e.selection.setRng(e.selection.getRng())}(e),e.selection.scrollIntoView(n))},tC=function(e,n){var t=function(e){return Do(Kt.fromDom(e.getBody()),"*[data-mce-caret]").fold(m(null),function(e){return e.dom()})}(e);if(t)return"compositionstart"===n.type?(n.preventDefault(),n.stopPropagation(),void nC(e,t)):void(ii(t)&&(nC(e,t),e.undoManager.add()))},lC=function(e){e.on("keyup compositionstart",b(tC,e))},rC=function(e){var n=xf.setupSelectedState(e);lC(e),cy(e,n),gy(e,n),Zy(e),eC(e)};function oC(e){var n,t,l,r=Gn.each,o=tm.BACKSPACE,i=tm.DELETE,u=e.dom,a=e.selection,s=e.settings,c=e.parser,d=ae.gecko,f=ae.ie,p=ae.webkit,h=f?"Text":"URL",g=function(n,t){try{e.getDoc().execCommand(n,!1,t)}catch(e){}},m=function(e){return e.isDefaultPrevented()},v=function(){e.shortcuts.add("meta+a",null,"SelectAll")},b=function(){e.on("keydown",function(e){if(!m(e)&&e.keyCode===o&&a.isCollapsed()&&0===a.getRng().startOffset){var n=a.getNode().previousSibling;if(n&&n.nodeName&&"table"===n.nodeName.toLowerCase())return e.preventDefault(),!1}})},y=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(n){var t;if("HTML"===n.target.nodeName){if(ae.ie>11)return void e.getBody().focus();t=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(t),e.selection.normalize(),e.nodeChanged()}}))};return e.on("keydown",function(n){var t,l,r,o,i;if(!m(n)&&n.keyCode===tm.BACKSPACE&&(l=(t=a.getRng()).startContainer,r=t.startOffset,o=u.getRoot(),i=l,t.collapsed&&0===r)){for(;i&&i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==o;)i=i.parentNode;"BLOCKQUOTE"===i.tagName&&(e.formatter.toggle("blockquote",null,i),(t=u.createRng()).setStart(l,0),t.setEnd(l,0),a.setRng(t))}}),n=function(e){var n=u.create("body"),t=e.cloneContents();return n.appendChild(t),a.serializer.serialize(n,{format:"html"})},e.on("keydown",function(t){var l,r,a,s,c,d=t.keyCode;if(!m(t)&&(d===i||d===o)){if(l=e.selection.isCollapsed(),r=e.getBody(),l&&!u.isEmpty(r))return;if(!l&&(a=e.selection.getRng(),s=n(a),(c=u.createRng()).selectNode(e.getBody()),s!==n(c)))return;t.preventDefault(),e.setContent(""),r.firstChild&&u.isBlock(r.firstChild)?e.selection.setCursorLocation(r.firstChild,0):e.selection.setCursorLocation(r,0),e.nodeChanged()}}),ae.windowsPhone||e.on("keyup focusin mouseup",function(e){tm.modifierPressed(e)||a.normalize()},!0),p&&(e.settings.content_editable||u.bind(e.getDoc(),"mousedown mouseup",function(n){var t;if(n.target===e.getDoc().documentElement)if(t=a.getRng(),e.getBody().focus(),"mousedown"===n.type){if(oi(t.startContainer))return;a.placeCaretAt(n.clientX,n.clientY)}else a.setRng(t)}),e.on("click",function(n){var t=n.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==u.getContentEditableParent(t)&&(n.preventDefault(),e.selection.select(t),e.nodeChanged()),"A"===t.nodeName&&u.hasClass(t,"mce-item-anchor")&&(n.preventDefault(),a.select(t))}),s.forced_root_block&&e.on("init",function(){g("DefaultParagraphSeparator",s.forced_root_block)}),e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})}),b(),c.addNodeFilter("br",function(e){for(var n=e.length;n--;)"Apple-interchange-newline"===e[n].attr("class")&&e[n].remove()}),ae.iOS?(e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()}),y(),e.on("click",function(e){var n=e.target;do{if("A"===n.tagName)return void e.preventDefault()}while(n=n.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):v()),ae.ie>=11&&(y(),b()),ae.ie&&(v(),g("AutoUrlDetect",!1),e.on("dragstart",function(n){!function(n){var t,l;n.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===n.target.tagName&&a.select(n.target),(t=e.selection.getContent()).length>0&&(l="data:text/mce-internal,"+escape(e.id)+","+escape(t),n.dataTransfer.setData(h,l)))}(n)}),e.on("drop",function(n){if(!m(n)){var t=function(e){var n;return e.dataTransfer&&(n=e.dataTransfer.getData(h))&&n.indexOf("data:text/mce-internal,")>=0?(n=n.substr("data:text/mce-internal,".length).split(","),{id:unescape(n[0]),html:unescape(n[1])}):null}(n);if(t&&t.id!==e.id){n.preventDefault();var l=wb.fromPoint(n.x,n.y,e.getDoc());a.setRng(l),r=t.html,o=!0,e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:r,internal:o}):e.execCommand("mceInsertContent",!1,r)}}var r,o})),d&&(e.on("keydown",function(n){if(!m(n)&&n.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(a.isCollapsed()&&0===a.getRng().startOffset){var t=a.getNode(),l=t.previousSibling;if("HR"===t.nodeName)return u.remove(t),void n.preventDefault();l&&l.nodeName&&"hr"===l.nodeName.toLowerCase()&&(u.remove(l),n.preventDefault())}}}),Range.prototype.getClientRects||e.on("mousedown",function(n){if(!m(n)&&"HTML"===n.target.nodeName){var t=e.getBody();t.blur(),pe.setEditorTimeout(e,function(){t.focus()})}}),t=function(){var n=u.getAttribs(a.getStart().cloneNode(!1));return function(){var t=a.getStart();t!==e.getBody()&&(u.setAttrib(t,"style",null),r(n,function(e){t.setAttributeNode(e.cloneNode(!0))}))}},l=function(){return!a.isCollapsed()&&u.getParent(a.getStart(),u.isBlock)!==u.getParent(a.getEnd(),u.isBlock)},e.on("keypress",function(n){var r;if(!m(n)&&(8===n.keyCode||46===n.keyCode)&&l())return r=t(),e.getDoc().execCommand("delete",!1,null),r(),n.preventDefault(),!1}),u.bind(e.getDoc(),"cut",function(n){var r;!m(n)&&l()&&(r=t(),pe.setEditorTimeout(e,function(){r()}))}),s.readonly||e.on("BeforeExecCommand MouseDown",function(){g("StyleWithCSS",!1),g("enableInlineTableEditing",!1),s.object_resizing||g("enableObjectResizing",!1)}),e.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||r(u.select("a"),function(e){var n=e.parentNode,t=u.getRoot();if(n.lastChild===e){for(;n&&!u.isBlock(n);){if(n.parentNode.lastChild!==n||n===t)return;n=n.parentNode}u.add(n,"br",{"data-mce-bogus":1})}})}),e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),ae.mac&&e.on("keydown",function(n){!tm.metaKeyPressed(n)||n.shiftKey||37!==n.keyCode&&39!==n.keyCode||(n.preventDefault(),e.selection.getSel().modify("move",37===n.keyCode?"backward":"forward","lineboundary"))}),b()),{refreshContentEditable:function(){},isHidden:function(){var n;return!d||e.removed?0:!(n=e.selection.getSel())||!n.rangeCount||0===n.rangeCount}}}var iC=function(e){return Cr.isElement(e)&&lr(Kt.fromDom(e))},uC=function(e){e.on("click",function(n){n.detail>=3&&function(e){var n=e.selection.getRng(),t=eu.fromRangeStart(n),l=eu.fromRangeEnd(n);if(eu.isElementPosition(t)){var r=t.container();iC(r)&&ms.firstPositionIn(r).each(function(e){return n.setStart(e.container(),e.offset())})}eu.isElementPosition(l)&&(r=t.container(),iC(r)&&ms.lastPositionIn(r).each(function(e){return n.setEnd(e.container(),e.offset())})),e.selection.setRng(gc(n))}(e)})},aC=function(e){!function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})}(e),function(e){e.parser.addNodeFilter("details",function(e){L(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){L(e,function(e){var n=e.attr("data-mce-open");e.attr("open",E(n)?n:null),e.attr("data-mce-open",null)})})}(e)},sC=lo.DOM,cC=function(e){e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),function(e){e.settings.auto_focus&&pe.setEditorTimeout(e,function(){var n;(n=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)).destroyed||n.focus()},100)}(e)},dC=function(e,n){var t,l,r=e.settings,o=e.getElement(),i=e.getDoc();r.inline||(e.getElement().style.visibility=e.orgVisibility),n||r.content_editable||(i.open(),i.write(e.iframeHTML),i.close()),r.content_editable&&(e.on("remove",function(){var e=this.getBody();sC.removeClass(e,"mce-content-body"),sC.removeClass(e,"mce-edit-focus"),sC.setAttrib(e,"contentEditable",null)}),sC.addClass(o,"mce-content-body"),e.contentDocument=i=r.content_document||document,e.contentWindow=r.content_window||window,e.bodyElement=o,r.content_document=r.content_window=null,r.root_name=o.nodeName.toLowerCase()),(t=e.getBody()).disabled=!0,e.readonly=r.readonly,e.readonly||(e.inline&&"static"===sC.getStyle(t,"position",!0)&&(t.style.position="relative"),t.contentEditable=e.getParam("content_editable_state",!0)),t.disabled=!1,e.editorUpload=mg(e),e.schema=Ur(r),e.dom=lo(i,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:r.content_editable,schema:e.schema,contentCssCors:ya.shouldUseContentCssCors(e),onSetAttrib:function(n){e.fire("SetAttrib",n)}}),e.parser=function(e){var n=sb(e.settings,e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(n,t){for(var l,r,o,i=n.length,u=e.dom;i--;)if(r=(l=n[i]).attr(t),o="data-mce-"+t,!l.attributes.map[o]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===t?((r=u.serializeStyle(u.parseStyle(r),l.name)).length||(r=null),l.attr(o,r),l.attr(t,r)):"tabindex"===t?(l.attr(o,r),l.attr(t,null)):l.attr(o,e.convertURL(r,t,l.name))}}),n.addNodeFilter("script",function(e){for(var n,t,l=e.length;l--;)0!==(t=(n=e[l]).attr("type")||"no/type").indexOf("mce-")&&n.attr("type","mce-"+t)}),n.addNodeFilter("#cdata",function(e){for(var n,t=e.length;t--;)(n=e[t]).type=8,n.name="#comment",n.value="[CDATA["+n.value+"]]"}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(n){for(var t,l=n.length,r=e.schema.getNonEmptyElements();l--;)(t=n[l]).isEmpty(r)&&0===t.getAll("br").length&&(t.append(new Xv("br",1)).shortEnded=!0)}),n}(e),e.serializer=hb(r,e),e.selection=Zb(e.dom,e.getWin(),e.serializer,e),e.annotator=Zs(e),e.formatter=zv(e),e.undoManager=Mm(e),e._nodeChangeDispatcher=new Eg(e),e._selectionOverrides=am(e),aC(e),uC(e),rC(e),xg(e),e.fire("PreInit"),r.browser_spellcheck||r.gecko_spellcheck||(i.body.spellcheck=!1,sC.setAttrib(t,"spellcheck","false")),e.quirks=oC(e),e.fire("PostRender"),r.directionality&&(t.dir=r.directionality),r.nowrap&&(t.style.whiteSpace="nowrap"),r.protect&&e.on("BeforeSetContent",function(e){Gn.each(r.protect,function(n){e.content=e.content.replace(n,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(n){e.composing="compositionstart"===n.type}),e.contentStyles.length>0&&(l="",Gn.each(e.contentStyles,function(e){l+=e+"\r\n"}),e.dom.addStyle(l)),function(e){return e.inline?sC.styleSheetLoader:e.dom.styleSheetLoader}(e).loadAll(e.contentCSS,function(n){cC(e)},function(n){cC(e)}),r.content_style&&function(e,n){var t=Kt.fromDom(e.getDoc().head),l=Kt.fromTag("style");al(l,"type","text/css"),ho(l,Kt.fromText(n)),ho(t,l)}(e,r.content_style)},fC=lo.DOM,pC=function(e,n){var t=e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),l=function(e,n,t,l){var r=Kt.fromTag("iframe");return sl(r,l),sl(r,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),pl(r,{width:"100%",height:function(e){var n="number"===typeof e?e+"px":e;return n||""}(t),display:"block"}),r}(e.id,t,n.height,ya.getIframeAttrs(e)).dom();l.onload=function(){l.onload=null,e.fire("load")};var r=function(e,n){if(document.domain!==window.location.hostname&&ae.ie&&ae.ie<12){var t=gg.uuid("mce");e[t]=function(){dC(e)};var l='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+t+"(true);})()";return fC.setAttrib(n,"src",l),!0}return!1}(e,l);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=l,e.iframeHTML=function(e){var n,t,l;return l=ya.getDocType(e)+"<html><head>",ya.getDocumentBaseUrl(e)!==e.documentBaseUrl&&(l+='<base href="'+e.documentBaseURI.getURI()+'" />'),l+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',n=ya.getBodyId(e),t=ya.getBodyClass(e),ya.getContentSecurityPolicy(e)&&(l+='<meta http-equiv="Content-Security-Policy" content="'+ya.getContentSecurityPolicy(e)+'" />'),l+='</head><body id="'+n+'" class="mce-content-body '+t+'" data-id="'+e.id+'"><br></body></html>'}(e),fC.add(n.iframeContainer,l),r},hC=function(e,n){var t=pC(e,n);n.editorContainer&&(fC.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=fC.isHidden(n.editorContainer)),e.getElement().style.display="none",fC.setAttrib(e.id,"aria-hidden","true"),t||dC(e)},gC=lo.DOM,mC=function(e,n,t){var l,r,o=eg.get(t);if(l=eg.urls[t]||e.documentBaseUrl.replace(/\/$/,""),t=Gn.trim(t),o&&-1===Gn.inArray(n,t)){if(Gn.each(eg.dependencies(t),function(t){mC(e,n,t)}),e.plugins[t])return;r=new o(e,l,e.$),e.plugins[t]=r,r.init&&(r.init(e,l),n.push(t))}},vC=function(e){return e.replace(/^\-/,"")},bC=function(e){return{editorContainer:e,iframeContainer:e}},yC=function(e){var n=e.getElement();return e.inline?bC(null):function(e){var n=gC.create("div");return gC.insertAfter(n,e),bC(n)}(n)},CC=function(e){var n=e.settings,t=e.getElement();return e.orgDisplay=t.style.display,E(n.theme)?function(e){var n,t,l,r,o,i=e.settings,u=e.getElement();return n=i.width||gC.getStyle(u,"width")||"100%",t=i.height||gC.getStyle(u,"height")||u.offsetHeight,l=i.min_height||100,(r=/^[0-9\.]+(|px)$/i).test(""+n)&&(n=Math.max(parseInt(n,10),100)),r.test(""+t)&&(t=Math.max(parseInt(t,10),l)),o=e.theme.renderUI({targetNode:u,width:n,height:t,deltaWidth:i.delta_width,deltaHeight:i.delta_height}),i.content_editable||(t=(o.iframeHeight||t)+("number"===typeof t?o.deltaHeight||0:""))<l&&(t=l),o.height=t,o}(e):D(n.theme)?function(e){var n,t=e.getElement();return(n=e.settings.theme(e,t)).editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n}(e):yC(e)},wC=function(e){var n,t=e.settings,l=e.getElement();return e.rtl=t.rtl_ui||e.editorManager.i18n.rtl,e.editorManager.i18n.setCode(t.language),t.aria_label=t.aria_label||gC.getAttrib(l,"aria-label",e.getLang("aria.rich_text_area")),e.fire("ScriptsLoaded"),function(e){var n,t=e.settings.theme;E(t)?(e.settings.theme=vC(t),n=ng.get(t),e.theme=new n(e,ng.urls[t]),e.theme.init&&e.theme.init(e,ng.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)):e.theme={}}(e),function(e){var n=[];Gn.each(e.settings.plugins.split(/[ ,]/),function(t){mC(e,n,vC(t))})}(e),n=CC(e),e.editorContainer=n.editorContainer?n.editorContainer:null,t.content_css&&Gn.each(Gn.explode(t.content_css),function(n){e.contentCSS.push(e.documentBaseURI.toAbsolute(n))}),t.content_editable?dC(e):hC(e,n)},xC=lo.DOM,_C=function(e){return"-"===e.charAt(0)},AC=function(e,n){var t=ao.ScriptLoader;!function(e,n,t,l){var r=n.settings,o=r.theme;if(E(o)){if(!_C(o)&&!ng.urls.hasOwnProperty(o)){var i=r.theme_url;i?ng.load(o,n.documentBaseURI.toAbsolute(i)):ng.load(o,"themes/"+o+"/theme"+t+".js")}e.loadQueue(function(){ng.waitFor(o,l)})}else l()}(t,e,n,function(){!function(e,n){var t=n.settings;t.language&&"en"!==t.language&&!t.language_url&&(t.language_url=n.editorManager.baseURL+"/langs/"+t.language+".js"),t.language_url&&!n.editorManager.i18n.data[t.language]&&e.add(t.language_url)}(t,e),function(e,n){Gn.isArray(e.plugins)&&(e.plugins=e.plugins.join(" ")),Gn.each(e.external_plugins,function(n,t){eg.load(t,n),e.plugins+=" "+t}),Gn.each(e.plugins.split(/[ ,]/),function(e){if((e=Gn.trim(e))&&!eg.urls[e])if(_C(e)){e=e.substr(1,e.length);var t=eg.dependencies(e);Gn.each(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+n+".js"};e=eg.createUrl(t,e),eg.load(e.resource,e)})}else eg.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+n+".js"})})}(e.settings,n),t.loadQueue(function(){e.removed||wC(e)},e,function(n){$h.pluginLoadError(e,n[0]),e.removed||wC(e)})})},kC=function(e){var n=e.settings,t=e.id,l=function(){xC.unbind(window,"ready",l),e.render()};if(xe.Event.domLoaded){if(e.getElement()&&ae.contentEditable){n.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var r=e.getElement().form||xC.getParent(t,"form");r&&(e.formElement=r,n.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(xC.insertAfter(xC.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(n){e.fire(n.type,n)},xC.bind(r,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!n.submit_patch||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),r._mceOldSubmit(r)})),e.windowManager=Kh(e),e.notificationManager=Gh(e),"xml"===n.encoding&&e.on("GetContent",function(e){e.save&&(e.content=xC.encode(e.content))}),n.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),n.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),AC(e,e.suffix)}}else xC.bind(window,"ready",l)},OC=function(e,n,t){var l=e.sidebars?e.sidebars:[];l.push({name:n,settings:t}),e.sidebars=l},SC=Gn.each,EC=Gn.trim,RC="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),PC={ftp:21,http:80,https:443,mailto:25},MC=function(e,n){var t,l,r=this;if(e=EC(e),t=(n=r.settings=n||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))r.source=e;else{var o=0===e.indexOf("//");0!==e.indexOf("/")||o||(e=(t&&t.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(l=n.base_uri?n.base_uri.path:new MC(document.location.href).directory,""==n.base_uri.protocol?e="//mce_host"+r.toAbsPath(l,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(t&&t.protocol||"http")+"://mce_host"+r.toAbsPath(l,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),SC(RC,function(n,t){var l=e[t];l&&(l=l.replace(/\(mce_at\)/g,"@@")),r[n]=l}),t&&(r.protocol||(r.protocol=t.protocol),r.userInfo||(r.userInfo=t.userInfo),r.port||"mce_host"!==r.host||(r.port=t.port),r.host&&"mce_host"!==r.host||(r.host=t.host),r.source=""),o&&(r.protocol="")}};MC.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var n;if("./"===e)return e;if("mce_host"!==(e=new MC(e,{base_uri:this})).host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var t=this.getURI(),l=e.getURI();return t===l||"/"===t.charAt(t.length-1)&&t.substr(0,t.length-1)===l?t:(n=this.toRelPath(this.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},toAbsolute:function(e,n){return(e=new MC(e,{base_uri:this})).getURI(n&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var n=PC[this.protocol];if(n&&(this.port||n)==(e.port||n))return!0}return!1},toRelPath:function(e,n){var t,l,r,o=0,i="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),t=n.split("/"),e.length>=t.length)for(l=0,r=e.length;l<r;l++)if(l>=t.length||e[l]!==t[l]){o=l+1;break}if(e.length<t.length)for(l=0,r=t.length;l<r;l++)if(l>=e.length||e[l]!==t[l]){o=l+1;break}if(1===o)return n;for(l=0,r=e.length-(o-1);l<r;l++)i+="../";for(l=o-1,r=t.length;l<r;l++)i+=l!==o-1?"/"+t[l]:t[l];return i},toAbsPath:function(e,n){var t,l,r,o=0,i=[];for(l=/\/$/.test(n)?"/":"",e=e.split("/"),n=n.split("/"),SC(e,function(e){e&&i.push(e)}),e=i,t=n.length-1,i=[];t>=0;t--)0!==n[t].length&&"."!==n[t]&&(".."!==n[t]?o>0?o--:i.push(n[t]):o++);return 0!==(r=(t=e.length-o)<=0?i.reverse().join("/"):e.slice(0,t).join("/")+"/"+i.reverse().join("/")).indexOf("/")&&(r="/"+r),l&&r.lastIndexOf("/")!==r.length-1&&(r+=l),r},getURI:function(e){var n;return this.source&&!e||(n="",e||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}},MC.parseDataUri=function(e){var n,t;return e=decodeURIComponent(e).split(","),(t=/data:([^;]+)/.exec(e[0]))&&(n=t[1]),{type:n,data:e[1]}},MC.getDocumentBaseUrl=function(e){var n;return n=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n};var IC=function(e,n,t){var l;if(n.format=n.format?n.format:"html",n.get=!0,n.getInner=!0,n.no_events||e.fire("BeforeGetContent",n),"raw"===n.format)l=Gn.trim(mm.trimExternal(e.serializer,t.innerHTML));else if("text"===n.format)l=ei(t.innerText||t.textContent);else{if("tree"===n.format)return e.serializer.serialize(t,n);l=function(e,n){var t=ya.getForcedRootBlock(e),l=new RegExp("^(<"+t+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+t+">[\r\n]*|<br \\/>[\r\n]*)$");return n.replace(l,"")}(e,e.serializer.serialize(t,n))}return"text"===n.format||sr(Kt.fromDom(t))?n.content=l:n.content=Gn.trim(l),n.no_events||e.fire("GetContent",n),n.content},DC=function(e,n){n(e),e.firstChild&&DC(e.firstChild,n),e.next&&DC(e.next,n)},TC=function(e,n,t){var l=function(e,n,t){var l={},r={},o=[];for(var i in t.firstChild&&DC(t.firstChild,function(t){L(e,function(e){e.name===t.name&&(l[e.name]?l[e.name].nodes.push(t):l[e.name]={filter:e,nodes:[t]})}),L(n,function(e){"string"===typeof t.attr(e.name)&&(r[e.name]?r[e.name].nodes.push(t):r[e.name]={filter:e,nodes:[t]})})}),l)l.hasOwnProperty(i)&&o.push(l[i]);for(var i in r)r.hasOwnProperty(i)&&o.push(r[i]);return o}(e,n,t);L(l,function(e){L(e.filter.callbacks,function(n){n(e.nodes,e.filter.name,{})})})},NC=function(e){return e instanceof Xv},BC=function(e,n){e.dom.setHTML(e.getBody(),n),function(e){Hh(e)&&ms.firstPositionIn(e.getBody()).each(function(n){var t=n.getNode(),l=Cr.isTable(t)?ms.firstPositionIn(t).getOr(n):n;e.selection.setRng(l.toRange())})}(e)},FC=function(e,n,t){return void 0===t&&(t={}),t.format=t.format?t.format:"html",t.set=!0,t.content=NC(n)?"":n,NC(n)||t.no_events||(e.fire("BeforeSetContent",t),n=t.content),O.from(e.getBody()).fold(m(n),function(l){return NC(n)?function(e,n,t,l){TC(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),t);var r=pc({validate:e.validate},e.schema).serialize(t);return l.content=sr(Kt.fromDom(n))?r:Gn.trim(r),BC(e,l.content),l.no_events||e.fire("SetContent",l),t}(e,l,n,t):function(e,n,t,l){var r,o;return 0===t.length||/^\s+$/.test(t)?(o='<br data-mce-bogus="1">',"TABLE"===n.nodeName?t="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(t="<li>"+o+"</li>"),(r=ya.getForcedRootBlock(e))&&e.schema.isValidChild(n.nodeName.toLowerCase(),r.toLowerCase())?(t=o,t=e.dom.createHTML(r,e.settings.forced_root_block_attrs,t)):t||(t='<br data-mce-bogus="1">'),BC(e,t),e.fire("SetContent",l)):("raw"!==l.format&&(t=pc({validate:e.validate},e.schema).serialize(e.parser.parse(t,{isRootContent:!0,insert:!0}))),l.content=sr(Kt.fromDom(n))?t:Gn.trim(t),BC(e,l.content),l.no_events||e.fire("SetContent",l)),l.content}(e,l,n,t)})},LC=lo.DOM,HC=function(e){return O.from(e).each(function(e){return e.destroy()})},zC=function(e){if(!e.removed){var n=e._selectionOverrides,t=e.editorUpload,l=e.getBody(),r=e.getElement();l&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&r&&LC.remove(r.nextSibling),!e.inline&&l&&function(e){LC.setStyle(e.id,"display",e.orgDisplay)}(e),dh(e),e.editorManager.remove(e),LC.remove(e.getContainer()),HC(n),HC(t),e.destroy()}},VC=function(e,n){var t=e.selection,l=e.dom;e.destroyed||(n||e.removed?(n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),HC(t),HC(l)),function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),LC.unbind(n,"submit reset",e.formEventDelegate))}(e),function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)}(e),e.destroyed=!0):e.remove())},qC=lo.DOM,jC=Gn.extend,WC=Gn.each,UC=Gn.resolve,QC=ae.ie,GC=function(e,n,t){var l=this,r=l.documentBaseUrl=t.documentBaseURL,o=t.baseURI;n=function(e,n,t,l,r){var o=function(e,n,t){return{id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:t.convertURL,url_converter_scope:t,ie7_compat:!0}}(n,t,e);return Ec(wc,o,l,r)}(l,e,r,t.defaultSettings,n),l.settings=n,co.language=n.language||"en",co.languageLoad=n.language_load,co.baseURL=t.baseURL,l.id=e,l.setDirty(!1),l.plugins={},l.documentBaseURI=new MC(n.document_base_url,{base_uri:o}),l.baseURI=o,l.contentCSS=[],l.contentStyles=[],l.shortcuts=new Rh(l),l.loadedCSS={},l.editorCommands=new lh(l),l.suffix=t.suffix,l.editorManager=t,l.inline=n.inline,l.buttons={},l.menuItems={},n.cache_suffix&&(ae.cacheSuffix=n.cache_suffix.replace(/^[\?\&]+/,"")),!1===n.override_viewport&&(ae.overrideViewPort=!1),t.fire("SetupEditor",{editor:l}),l.execCallback("setup",l),l.$=ft.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})};jC(GC.prototype={render:function(){kC(this)},focus:function(e){Lh(this,e)},hasFocus:function(){return Hh(this)},execCallback:function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var l,r=this.settings[e];if(r)return this.callbackLookup&&(l=this.callbackLookup[e])&&(r=l.func,l=l.scope),"string"===typeof r&&(l=(l=r.replace(/\.\w+$/,""))?UC(l):0,r=UC(r),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:r,scope:l}),r.apply(l||this,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&Gn.is(e,"string")){var n=this.settings.language||"en",t=this.editorManager.i18n;e=t.data[n+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,l){return t.data[n+"."+l]||"{#"+l+"}"})}return this.editorManager.translate(e)},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==n?n:"{#"+e+"}")},getParam:function(e,n,t){return Mc(this,e,n,t)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,n){var t=this;n.cmd&&(n.onclick=function(){t.execCommand(n.cmd)}),n.stateSelector&&"undefined"===typeof n.active&&(n.active=!1),n.text||n.icon||(n.icon=e),n.tooltip=n.tooltip||n.title,t.buttons[e]=n},addSidebar:function(e,n){return OC(this,e,n)},addMenuItem:function(e,n){var t=this;n.cmd&&(n.onclick=function(){t.execCommand(n.cmd)}),t.menuItems[e]=n},addContextToolbar:function(e,n){var t,l=this;l.contextToolbars=l.contextToolbars||[],"string"===typeof e&&(t=e,e=function(e){return l.dom.is(e,t)}),l.contextToolbars.push({id:gg.uuid("mcet"),predicate:e,items:n})},addCommand:function(e,n,t){this.editorCommands.addCommand(e,n,t)},addQueryStateHandler:function(e,n,t){this.editorCommands.addQueryStateHandler(e,n,t)},addQueryValueHandler:function(e,n,t){this.editorCommands.addQueryValueHandler(e,n,t)},addShortcut:function(e,n,t,l){this.shortcuts.add(e,n,t,l)},execCommand:function(e,n,t,l){return this.editorCommands.execCommand(e,n,t,l)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(qC.show(this.getContainer()),qC.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this.getDoc();this.hidden||(QC&&e&&!this.inline&&e.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this===this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(qC.hide(this.getContainer()),qC.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,n){this.fire("ProgressState",{state:e,time:n})},load:function(e){var n,t=this.getElement();return this.removed?"":t?((e=e||{}).load=!0,n=this.setContent(void 0!==t.value?t.value:t.innerHTML,e),e.element=t,e.no_events||this.fire("LoadContent",e),e.element=t=null,n):void 0},save:function(e){var n,t,l=this,r=l.getElement();if(r&&l.initialized&&!l.removed)return(e=e||{}).save=!0,e.element=r,e.content=l.getContent(e),e.no_events||l.fire("SaveContent",e),"raw"===e.format&&l.fire("RawSaveContent",e),n=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=n:(!e.is_removing&&l.inline||(r.innerHTML=n),(t=qC.getParent(l.id,"form"))&&WC(t.elements,function(e){if(e.name===l.id)return e.value=n,!1})),e.element=r=null,!1!==e.set_dirty&&l.setDirty(!1),n},setContent:function(e,n){return FC(this,e,n)},getContent:function(e){return function(e,n){return void 0===n&&(n={}),O.from(e.getBody()).fold(m("tree"===n.format?new Xv("body",11):""),function(t){return IC(e,n,t)})}(this,e)},insertContent:function(e,n){n&&(e=jC({content:e},n)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var n=!this.isNotDirty;this.isNotDirty=!e,e&&e!==n&&this.fire("dirty")},setMode:function(e){!function(e,n){n!==bh(e)&&(e.initialized?vh(e,"readonly"===n):e.on("init",function(){vh(e,"readonly"===n)}),fh(e,n))}(this,e)},getContainer:function(){return this.container||(this.container=qC.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=qC.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,n,t){var l=this.settings;return l.urlconverter_callback?this.execCallback("urlconverter_callback",e,t,!0,n):!l.convert_urls||t&&"LINK"===t.nodeName||0===e.indexOf("file:")||0===e.length?e:l.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,l.remove_script_host)},addVisual:function(e){var n,t=this,l=t.settings,r=t.dom;e=e||t.getBody(),void 0===t.hasVisual&&(t.hasVisual=l.visual),WC(r.select("table,a",e),function(e){var o;switch(e.nodeName){case"TABLE":return n=l.visual_table_class||"mce-item-table",void((o=r.getAttrib(e,"border"))&&"0"!==o||!t.hasVisual?r.removeClass(e,n):r.addClass(e,n));case"A":return void(r.getAttrib(e,"href")||(o=r.getAttrib(e,"name")||e.id,n=l.visual_anchor_class||"mce-item-anchor",o&&t.hasVisual?r.addClass(e,n):r.removeClass(e,n)))}}),t.fire("VisualAid",{element:e,hasVisual:t.hasVisual})},remove:function(){zC(this)},destroy:function(e){VC(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},Ah);var KC,YC,ZC,JC={isEditorUIElement:function(e){return-1!==e.className.toString().indexOf("mce-")}},XC=function(e,n){Qt.detect().browser.isIE()?function(e){e.on("focusout",function(){Jp.store(e)})}(e):function(e,n){e.on("mouseup touchend",function(e){n.throttle()})}(e,n),e.on("keyup nodechange",function(n){(function(e){return"nodechange"===e.type&&e.selectionChange})(n)||Jp.store(e)})},$C=function(e){var n=yo(function(){Jp.store(e)},0);e.inline&&function(e,n){var t=function(){n.throttle()};lo.DOM.bind(document,"mouseup",t),e.on("remove",function(){lo.DOM.unbind(document,"mouseup",t)})}(e,n),e.on("init",function(){XC(e,n)}),e.on("remove",function(){n.cancel()})},ew=lo.DOM,nw=function(e){return JC.isEditorUIElement(e)},tw=function(e,n){var t=e?e.settings.custom_ui_selector:"";return null!==ew.getParent(n,function(n){return nw(n)||!!t&&e.dom.is(n,t)})},lw=function(e,n){var t=n.editor;$C(t),t.on("focusin",function(){var n=e.focusedEditor;n!==this&&(n&&n.fire("blur",{focusedEditor:this}),e.setActive(this),e.focusedEditor=this,this.fire("focus",{blurredEditor:n}),this.focus(!0))}),t.on("focusout",function(){var n=this;pe.setEditorTimeout(n,function(){var t=e.focusedEditor;tw(n,function(){try{return document.activeElement}catch(e){return document.body}}())||t!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),KC||(KC=function(n){var t,l=e.activeEditor;t=n.target,l&&t.ownerDocument===document&&(t===document.body||tw(l,t)||e.focusedEditor!==l||(l.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},ew.bind(document,"focusin",KC))},rw=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(ew.unbind(document,"focusin",KC),KC=null)},ow=function(e){e.on("AddEditor",b(lw,e)),e.on("RemoveEditor",b(rw,e))},iw={},uw="en",aw={setCode:function(e){e&&(uw=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return uw},rtl:!1,add:function(e,n){var t=iw[e];for(var l in t||(iw[e]=t={}),n)t[l]=n[l];this.setCode(e)},translate:function(e){var n=iw[uw]||{},t=function(e){return Gn.is(e,"function")?Object.prototype.toString.call(e):l(e)?"":""+e},l=function(e){return""===e||null===e||Gn.is(e,"undefined")},r=function(e){return e=t(e),Gn.hasOwn(n,e)?t(n[e]):e};if(l(e))return"";if(Gn.is(e,"object")&&Gn.hasOwn(e,"raw"))return t(e.raw);if(Gn.is(e,"array")){var o=e.slice(1);e=r(e[0]).replace(/\{([0-9]+)\}/g,function(e,n){return Gn.hasOwn(o,n)?t(o[n]):e})}return r(e).replace(/{context:\w+}$/,"")},data:iw},sw=lo.DOM,cw=Gn.explode,dw=Gn.each,fw=Gn.extend,pw=0,hw=!1,gw=[],mw=[],vw=function(e){dw(ZC.get(),function(n){"scroll"===e.type?n.fire("ScrollWindow",e):n.fire("ResizeWindow",e)})},bw=function(e){e!==hw&&(e?ft(window).on("resize scroll",vw):ft(window).off("resize scroll",vw),hw=e)},yw=function(e){var n=mw;delete gw[e.id];for(var t=0;t<gw.length;t++)if(gw[t]===e){gw.splice(t,1);break}return mw=z(mw,function(n){return e!==n}),ZC.activeEditor===e&&(ZC.activeEditor=mw.length>0?mw[0]:null),ZC.focusedEditor===e&&(ZC.focusedEditor=null),n.length!==mw.length};fw(ZC={defaultSettings:{},$:ft,majorVersion:"4",minorVersion:"8.5",releaseDate:"2018-10-30",editors:gw,i18n:aw,activeEditor:null,settings:{},setup:function(){var e,n,t,l,r="";if(n=MC.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),t=window.tinymce||window.tinyMCEPreInit)e=t.base||t.baseURL,r=t.suffix;else{for(var o=document.getElementsByTagName("script"),i=0;i<o.length;i++){var u=(l=o[i].src).substring(l.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(l)){-1!==u.indexOf(".min")&&(r=".min"),e=l.substring(0,l.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!==(l=document.currentScript.src).indexOf(".min")&&(r=".min"),e=l.substring(0,l.lastIndexOf("/")))}this.baseURL=new MC(n).toAbsolute(e),this.documentBaseURL=n,this.baseURI=new MC(this.baseURL),this.suffix=r,ow(this)},overrideDefaults:function(e){var n,t;(n=e.base_url)&&(this.baseURL=new MC(this.documentBaseURL).toAbsolute(n.replace(/\/+$/,"")),this.baseURI=new MC(this.baseURL)),t=e.suffix,e.suffix&&(this.suffix=t),this.defaultSettings=e;var l=e.plugin_base_urls;for(var r in l)co.PluginManager.urls[r]=l[r]},init:function(e){var n,t,l=this;t=Gn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var r=function(e){var n=e.id;return n||(n=(n=e.name)&&!sw.get(n)?e.name:sw.uniqueId(),e.setAttribute("id",n)),n},o=function(e,n){return n.constructor===RegExp?n.test(e.className):sw.hasClass(e,n)},i=function(e){n=e},u=function(){var n,a=0,s=[],c=function(e,t,r){var o=new GC(e,t,l);s.push(o),o.on("init",function(){++a===n.length&&i(s)}),o.targetElm=o.targetElm||r,o.render()};sw.unbind(window,"ready",u),function(n){var t=e[n];t&&t.apply(l,Array.prototype.slice.call(arguments,2))}("onpageload"),n=ft.unique(function(e){var n,t=[];if(ae.ie&&ae.ie<11)return $h.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(e.types)return dw(e.types,function(e){t=t.concat(sw.select(e.selector))}),t;if(e.selector)return sw.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":(n=e.elements||"").length>0&&dw(cw(n),function(e){var n;(n=sw.get(e))?t.push(n):dw(document.forms,function(n){dw(n.elements,function(n){n.name===e&&(e="mce_editor_"+pw++,sw.setAttrib(n,"id",e),t.push(n))})})});break;case"textareas":case"specific_textareas":dw(sw.select("textarea"),function(n){e.editor_deselector&&o(n,e.editor_deselector)||e.editor_selector&&!o(n,e.editor_selector)||t.push(n)})}return t}(e)),e.types?dw(e.types,function(t){Gn.each(n,function(n){return!sw.is(n,t.selector)||(c(r(n),fw({},e,t),n),!1)})}):(Gn.each(n,function(e){var n;(n=l.get(e.id))&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&(yw(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0,n=null)}),0===(n=Gn.grep(n,function(e){return!l.get(e.id)})).length?i([]):dw(n,function(n){!function(e,n){return e.inline&&n.tagName.toLowerCase()in t}(e,n)?c(r(n),e,n):$h.initError("Could not initialize inline editor on invalid inline target element",n)}))};return l.settings=e,sw.bind(window,"ready",u),new se(function(e){n?e(n):i=function(n){e(n)}})},get:function(e){return 0===arguments.length?mw.slice(0):E(e)?q(mw,function(n){return n.id===e}).getOr(null):T(e)&&mw[e]?mw[e]:null},add:function(e){var n=this;return gw[e.id]===e?e:(null===n.get(e.id)&&("length"!==e.id&&(gw[e.id]=e),gw.push(e),mw.push(e)),bw(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),YC||(YC=function(){n.fire("BeforeUnload")},sw.bind(window,"beforeunload",YC)),e)},createEditor:function(e,n){return this.add(new GC(e,n,this))},remove:function(e){var n,t,l=this;if(e){if(!E(e))return t=e,M(l.get(t.id))?null:(yw(t)&&l.fire("RemoveEditor",{editor:t}),0===mw.length&&sw.unbind(window,"beforeunload",YC),t.remove(),bw(mw.length>0),t);dw(sw.select(e),function(e){(t=l.get(e.id))&&l.remove(t)})}else for(n=mw.length-1;n>=0;n--)l.remove(mw[n])},execCommand:function(e,n,t){var l=this.get(t);switch(e){case"mceAddEditor":return this.get(t)||new GC(t,this.settings,this).render(),!0;case"mceRemoveEditor":return l&&l.remove(),!0;case"mceToggleEditor":return l?(l.isHidden()?l.show():l.hide(),!0):(this.execCommand("mceAddEditor",0,t),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(e,n,t)},triggerSave:function(){dw(mw,function(e){e.save()})},addI18n:function(e,n){aw.add(e,n)},translate:function(e){return aw.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e}},ah),ZC.setup();var Cw=ZC;function ww(e){return{walk:function(n,t){return qs.walk(e,n,t)},split:zm.split,normalize:function(n){return Sp.normalize(e,n).fold(m(!1),function(e){return n.setStart(e.startContainer,e.startOffset),n.setEnd(e.endContainer,e.endOffset),!0})}}}!function(e){e.compareRanges=bp.isEq,e.getCaretRangeFromPoint=wb.fromPoint,e.getSelectedNode=Mi,e.getNode=Ii}(ww||(ww={}));var xw,_w,Aw=ww,kw=Math.min,Ow=Math.max,Sw=Math.round,Ew=function(e,n,t){var l,r,o,i,u,a;return l=n.x,r=n.y,o=e.w,i=e.h,u=n.w,a=n.h,"b"===(t=(t||"").split(""))[0]&&(r+=a),"r"===t[1]&&(l+=u),"c"===t[0]&&(r+=Sw(a/2)),"c"===t[1]&&(l+=Sw(u/2)),"b"===t[3]&&(r-=i),"r"===t[4]&&(l-=o),"c"===t[3]&&(r-=Sw(i/2)),"c"===t[4]&&(l-=Sw(o/2)),Rw(l,r,o,i)},Rw=function(e,n,t,l){return{x:e,y:n,w:t,h:l}},Pw={inflate:function(e,n,t){return Rw(e.x-n,e.y-t,e.w+2*n,e.h+2*t)},relativePosition:Ew,findBestRelativePosition:function(e,n,t,l){var r,o;for(o=0;o<l.length;o++)if((r=Ew(e,n,l[o])).x>=t.x&&r.x+r.w<=t.w+t.x&&r.y>=t.y&&r.y+r.h<=t.h+t.y)return l[o];return null},intersect:function(e,n){var t,l,r,o;return t=Ow(e.x,n.x),l=Ow(e.y,n.y),r=kw(e.x+e.w,n.x+n.w),o=kw(e.y+e.h,n.y+n.h),r-t<0||o-l<0?null:Rw(t,l,r-t,o-l)},clamp:function(e,n,t){var l,r,o,i,u,a,s,c,d,f;return u=e.x,a=e.y,s=e.x+e.w,c=e.y+e.h,d=n.x+n.w,f=n.y+n.h,l=Ow(0,n.x-u),r=Ow(0,n.y-a),o=Ow(0,s-d),i=Ow(0,c-f),u+=l,a+=r,t&&(s+=l,c+=r,u-=o,a-=i),Rw(u,a,(s-=o)-u,(c-=i)-a)},create:Rw,fromClientRect:function(e){return Rw(e.left,e.top,e.width,e.height)}},Mw={},Iw={add:function(e,n){Mw[e.toLowerCase()]=n},has:function(e){return!!Mw[e.toLowerCase()]},get:function(e){var n=e.toLowerCase(),t=Mw.hasOwnProperty(n)?Mw[n]:null;if(null===t)throw new Error("Could not find module for type: "+e);return t},create:function(e,n){var t;if("string"===typeof e?(n=n||{}).type=e:e=(n=e).type,e=e.toLowerCase(),!(t=Mw[e]))throw new Error("Could not find control by type: "+e);return(t=new t(n)).type=e,t}},Dw=Gn.each,Tw=Gn.extend,Nw=function(){};Nw.extend=xw=function(e){var n,t,l,r=this.prototype,o=function(){var e,n,t;if(!_w&&(this.init&&this.init.apply(this,arguments),n=this.Mixins))for(e=n.length;e--;)(t=n[e]).init&&t.init.apply(this,arguments)},i=function(){return this},u=function(e,n){return function(){var t,l=this._super;return this._super=r[e],t=n.apply(this,arguments),this._super=l,t}};for(t in _w=!0,n=new this,_w=!1,e.Mixins&&(Dw(e.Mixins,function(n){for(var t in n)"init"!==t&&(e[t]=n[t])}),r.Mixins&&(e.Mixins=r.Mixins.concat(e.Mixins))),e.Methods&&Dw(e.Methods.split(","),function(n){e[n]=i}),e.Properties&&Dw(e.Properties.split(","),function(n){var t="_"+n;e[n]=function(e){return void 0!==e?(this[t]=e,this):this[t]}}),e.Statics&&Dw(e.Statics,function(e,n){o[n]=e}),e.Defaults&&r.Defaults&&(e.Defaults=Tw({},r.Defaults,e.Defaults)),e)"function"===typeof(l=e[t])&&r[t]?n[t]=u(t,l):n[t]=l;return o.prototype=n,o.constructor=o,o.extend=xw,o};var Bw=Math.min,Fw=Math.max,Lw=Math.round,Hw=function(e,n){var t,l,r,o;if(n=n||'"',null===e)return"null";if("string"===(r=typeof e))return l="\bb\tt\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,r){return'"'===n&&"'"===e?e:(t=l.indexOf(r))+1?"\\"+l.charAt(t+1):(e=r.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"===r){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(t=0,l="[";t<e.length;t++)l+=(t>0?",":"")+Hw(e[t],n);return l+"]"}for(o in l="{",e)e.hasOwnProperty(o)&&(l+="function"!==typeof e[o]?(l.length>1?","+n:n)+o+n+":"+Hw(e[o],n):"");return l+"}"}return""+e},zw={serialize:Hw,parse:function(e){try{return JSON.parse(e)}catch(e){}}},Vw={callbacks:{},count:0,send:function(e){var n=this,t=lo.DOM,l=void 0!==e.count?e.count:n.count,r="tinymce_jsonp_"+l;n.callbacks[l]=function(o){t.remove(r),delete n.callbacks[l],e.callback(o)},t.add(t.doc.body,"script",{id:r,src:e.url,type:"text/javascript"}),n.count++}},qw={send:function(e){var n,t=0,l=function(){!e.async||4===n.readyState||t++>1e4?(e.success&&t<1e4&&200===n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,t>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):setTimeout(l,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",qw.fire("beforeInitialize",{settings:e}),n=tg()){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Gn.each(e.requestheaders,function(e){n.setRequestHeader(e.key,e.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=qw.fire("beforeSend",{xhr:n,settings:e}).xhr).send(e.data),!e.async)return l();setTimeout(l,10)}}};Gn.extend(qw,ah);var jw,Ww=Gn.extend,Uw=function(e){this.settings=Ww({},e),this.count=0};Uw.sendRPC=function(e){return(new Uw).send(e)},Uw.prototype={send:function(e){var n=e.error,t=e.success;(e=Ww(this.settings,e)).success=function(l,r){"undefined"===typeof(l=zw.parse(l))&&(l={error:"JSON Parse error."}),l.error?n.call(e.error_scope||e.scope,l.error,r):t.call(e.success_scope||e.scope,l.result)},e.error=function(t,l){n&&n.call(e.error_scope||e.scope,t,l)},e.data=zw.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),e.content_type="application/json",qw.send(e)}};try{jw=window.localStorage}catch(e){jw=function(){return e={},n=[],t={getItem:function(n){var t=e[n];return t||null},setItem:function(t,l){n.push(t),e[t]=String(l)},key:function(e){return n[e]},removeItem:function(t){n=n.filter(function(e){return e===t}),delete e[t]},clear:function(){n=[],e={}},length:0},Object.defineProperty(t,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),t;var e,n,t}()}var Qw=Cw,Gw={geom:{Rect:Pw},util:{Promise:se,Delay:pe,Tools:Gn,VK:tm,URI:MC,Class:Nw,EventDispatcher:oh,Observable:ah,I18n:aw,XHR:qw,JSON:zw,JSONRequest:Uw,JSONP:Vw,LocalStorage:jw,Color:function(e){var n={},t=0,l=0,r=0,o=function(e){var o;return"object"===typeof e?"r"in e?(t=e.r,l=e.g,r=e.b):"v"in e&&function(e,n,o){var i,u,a,s;if(e=(parseInt(e,10)||0)%360,n=parseInt(n,10)/100,o=parseInt(o,10)/100,n=Fw(0,Bw(n,1)),o=Fw(0,Bw(o,1)),0!==n){switch(i=e/60,a=(u=o*n)*(1-Math.abs(i%2-1)),s=o-u,Math.floor(i)){case 0:t=u,l=a,r=0;break;case 1:t=a,l=u,r=0;break;case 2:t=0,l=u,r=a;break;case 3:t=0,l=a,r=u;break;case 4:t=a,l=0,r=u;break;case 5:t=u,l=0,r=a;break;default:t=l=r=0}t=Lw(255*(t+s)),l=Lw(255*(l+s)),r=Lw(255*(r+s))}else t=l=r=Lw(255*o)}(e.h,e.s,e.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(t=parseInt(o[1],10),l=parseInt(o[2],10),r=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(t=parseInt(o[1],16),l=parseInt(o[2],16),r=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(t=parseInt(o[1]+o[1],16),l=parseInt(o[2]+o[2],16),r=parseInt(o[3]+o[3],16)),t=t<0?0:t>255?255:t,l=l<0?0:l>255?255:l,r=r<0?0:r>255?255:r,n};return e&&o(e),n.toRgb=function(){return{r:t,g:l,b:r}},n.toHsv=function(){return function(e,n,t){var l,r,o,i;return r=0,(o=Bw(e/=255,Bw(n/=255,t/=255)))===(i=Fw(e,Fw(n,t)))?{h:0,s:0,v:100*(r=o)}:(l=(i-o)/i,r=i,{h:Lw(60*((e===o?3:t===o?1:5)-(e===o?n-t:t===o?e-n:t-e)/(i-o))),s:Lw(100*l),v:Lw(100*r)})}(t,l,r)},n.toHex=function(){var e=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+e(t)+e(l)+e(r)},n.parse=o,n}},dom:{EventUtils:xe,Sizzle:An,DomQuery:ft,TreeWalker:Kl,DOMUtils:lo,ScriptLoader:ao,RangeUtils:Aw,Serializer:hb,ControlSelection:yb,BookmarkManager:mb,Selection:Zb,Event:xe.Event},html:{Styles:Gr,Entities:Tr,Node:Xv,Schema:Ur,SaxParser:hm,DomParser:sb,Writer:fc,Serializer:pc},ui:{Factory:Iw},Env:ae,AddOnManager:co,Annotator:Zs,Formatter:zv,UndoManager:Mm,EditorCommands:lh,WindowManager:Kh,NotificationManager:Gh,EditorObservable:Ah,Shortcuts:Rh,Editor:GC,FocusManager:JC,EditorManager:Cw,DOM:lo.DOM,ScriptLoader:ao.ScriptLoader,PluginManager:co.PluginManager,ThemeManager:co.ThemeManager,trim:Gn.trim,isArray:Gn.isArray,is:Gn.is,toArray:Gn.toArray,makeMap:Gn.makeMap,each:Gn.each,map:Gn.map,grep:Gn.grep,inArray:Gn.inArray,extend:Gn.extend,create:Gn.create,walk:Gn.walk,createNS:Gn.createNS,resolve:Gn.resolve,explode:Gn.explode,_addCacheSuffix:Gn._addCacheSuffix,isOpera:ae.opera,isWebKit:ae.webkit,isIE:ae.ie,isGecko:ae.gecko,isMac:ae.mac},Kw=Qw=Gn.extend(Qw,Gw);!function(e){window.tinymce=e,window.tinyMCE=e}(Kw),function(n){try{e.exports=n}catch(e){}}(Kw)}()},Lp8h:function(e,n,t){"use strict";t.d(n,"a",function(){return a}),n.b=s;var l=t("F4ia"),r=t("/oeL"),o=t("vvWA"),i=t("eehj"),u=[l.a],a=r["\u0275crt"]({encapsulation:0,styles:u,data:{}});function s(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,4,"div",[["class","execution-process"]],null,null,null,null,null)),(e()(),r["\u0275ted"](null,["\n  "])),(e()(),r["\u0275eld"](0,null,null,1,"div",[["class","process-chart"],["echarts",""]],null,[["window","resize"]],function(e,n,t){var l=!0;"window:resize"===n&&(l=!1!==r["\u0275nov"](e,3).onWindowResize(t)&&l);return l},null,null)),r["\u0275did"](335872,null,0,o.a,[r.ElementRef,r.Renderer,r.NgZone],{options:[0,"options"]},null),(e()(),r["\u0275ted"](null,["\n"])),(e()(),r["\u0275ted"](null,["\n\n\n"]))],function(e,n){e(n,3,0,n.component.chartOption)},null)}r["\u0275ccf"]("execution-process",i.a,function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,null,null,1,"execution-process",[],null,null,null,s,a)),r["\u0275did"](57344,null,0,i.a,[],null,null)],function(e,n){e(n,1,0)},null)},{showTitle:"showTitle",data:"data"},{},[])},MLm0:function(e,n,t){"use strict";var l={validate:function(){return function(e){if(!e.value)return null;return/^1[0-9]{10}$/i.test(e.value)?null:{validate:{valid:!1}}}}},r={validate:function(e,n,t){return function(l){var r={},o=!1;return l.controls&&l.controls[n].value==l.controls[t].value||(o=!0,r[e]={valid:!1}),o?r:null}}},o=t("kUuJ"),i={validateDate:function(){return function(e){return/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/i.test(e.value)?null:{validateDate:{valid:!1}}}},validateTime:function(){return function(e){return/^[0-9]{2}\:[0-9]{2}$/i.test(e.value)?null:{validateTime:{valid:!1}}}},compareDatetime:function(e){return function(n){for(var t={},l=!1,r=0;r<e.length;r++){var i=e[r],u=i[0],a=i[1],s=i[2],c=i[3],d=i[4];if(n.controls[a]&&n.controls[s]&&n.controls[c]&&n.controls[d]){var f=n.controls[a].value+" "+n.controls[s].value,p=n.controls[c].value+" "+n.controls[d].value;o.c.strToTimestamp(f)>=o.c.strToTimestamp(p)&&(console.log(u+" fail"),l=!0,t[u]={valid:!1})}}return l?t:null}}},u={validate:function(){for(var e=this,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(t){if(!t.parent)return null;var l={},r=!0,o=n[0],i=n[1];if("required_if_other_is"===o){var u=n[2],a=n[3],s=n[4];r=e.required_if_other_is(t.parent,u,a,s)}return r?null:(l[i]={valid:!1},l)}},required_if_other_is:function(e,n,t,l){if(e.controls&&e.controls[t].value===l){var r=e.controls[n].value;if(!r||""===r)return!1}return!0},compareDate:function(e,n,t){return function(l){var r=l.controls[n],i=l.controls[t];if(!r.value||!i.value)return r.setErrors(null),i.setErrors(null),null;if(o.c.strToTimestamp(r.value)<=o.c.strToTimestamp(i.value))return r.setErrors(null),i.setErrors(null),null;o.d.log("compareDate fail"),r.setErrors({}),i.setErrors({});var u={};return u[e]={valid:!1},u}}},a=t("2tNT");t.d(n,"c",function(){return l}),t.d(n,"b",function(){return r}),t.d(n,!1,function(){return i}),t.d(n,"a",function(){return u}),t.d(n,"d",function(){return a.a})},MMCg:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("/oeL"),r=t("/QvW"),o=t("0WLp"),i=function(){function e(e,n){this.modalService=e,this.compiler=n}return e.prototype.genPage=function(e){this.compiler.clearCacheFor(r.a);var n=this.modalService.open(r.a,{windowClass:"pop-modal"});return n.componentInstance.issue=e,n},e.ctorParameters=function(){return[{type:o.e},{type:l.Compiler}]},e}()},"MYQ/":function(e,n,t){"use strict";t.d(n,"a",function(){return u}),t.d(n,"b",function(){return a});var l=t("/oeL"),r=t("4oBK"),o=t("4ito"),i=t("4PF7"),u=function(){function e(e,n,t,l){var r=this;this._dragDropService=n,this._config=t,this._cdr=l,this._dragEnabled=!1,this.dropEnabled=!1,this.dropZones=[],this.cloneItem=!1,this._defaultCursor=t.defaultCursor,this._elem=e.nativeElement,this._elem.style.cursor=this._defaultCursor,this._elem.ondragenter=function(e){r._onDragEnter(e)},this._elem.ondragover=function(e){return r._onDragOver(e),null!=e.dataTransfer&&(e.dataTransfer.dropEffect=r._config.dropEffect.name),!1},this._elem.ondragleave=function(e){r._onDragLeave(e)},this._elem.ondrop=function(e){r._onDrop(e)},this._elem.onmousedown=function(e){r._target=e.target},this._elem.ondragstart=function(e){if(!r._dragHandle||r._dragHandle.contains(r._target)){if(r._onDragStart(e),null!=e.dataTransfer){if(e.dataTransfer.setData("text",""),e.dataTransfer.effectAllowed=r.effectAllowed||r._config.dragEffect.name,Object(i.d)(r.dragImage))if(Object(i.e)(r.dragImage))e.dataTransfer.setDragImage(Object(i.b)(r.dragImage));else if(Object(i.c)(r.dragImage))e.dataTransfer.setDragImage(Object(i.a)(r.dragImage));else{var n=r.dragImage;e.dataTransfer.setDragImage(n.imageElement,n.x_offset,n.y_offset)}else if(Object(i.d)(r._config.dragImage)){var t=r._config.dragImage;e.dataTransfer.setDragImage(t.imageElement,t.x_offset,t.y_offset)}else r.cloneItem&&(r._dragHelper=r._elem.cloneNode(!0),r._dragHelper.classList.add("dnd-drag-item"),r._dragHelper.style.position="absolute",r._dragHelper.style.top="0px",r._dragHelper.style.left="-1000px",r._elem.parentElement.appendChild(r._dragHelper),e.dataTransfer.setDragImage(r._dragHelper,e.offsetX,e.offsetY));var l=r._dragHandle?r._dragHandle:r._elem;r._dragEnabled?l.style.cursor=r.effectCursor?r.effectCursor:r._config.dragCursor:l.style.cursor=r._defaultCursor}}else e.preventDefault()},this._elem.ondragend=function(e){r._elem.parentElement&&r._dragHelper&&r._elem.parentElement.removeChild(r._dragHelper),r._onDragEnd(e),(r._dragHandle?r._dragHandle:r._elem).style.cursor=r._defaultCursor}}return Object.defineProperty(e.prototype,"dragEnabled",{get:function(){return this._dragEnabled},set:function(e){this._dragEnabled=!!e,this._elem.draggable=this._dragEnabled},enumerable:!0,configurable:!0}),e.prototype.setDragHandle=function(e){this._dragHandle=e},e.prototype.detectChanges=function(){var e=this;setTimeout(function(){e._cdr.detectChanges()},250)},e.prototype._onDragEnter=function(e){this._isDropAllowed(e)&&this._onDragEnterCallback(e)},e.prototype._onDragOver=function(e){this._isDropAllowed(e)&&(e.preventDefault&&e.preventDefault(),this._onDragOverCallback(e))},e.prototype._onDragLeave=function(e){this._isDropAllowed(e)&&this._onDragLeaveCallback(e)},e.prototype._onDrop=function(e){console.log("---1-_onDrop--",this._elem.id),this._preventAndStop(e),this._isDropAllowed(e)&&(console.log("---2-_onDrop--",this._elem.id),this._onDropCallback(e),this.detectChanges())},e.prototype._isDropAllowed=function(e){if(console.log("-----_isDropAllowed-0-",this._elem.id,this.dropEnabled),(this._dragDropService.isDragged||e.dataTransfer&&e.dataTransfer.files)&&this.dropEnabled){if(this.allowDrop)return this.allowDrop(this._dragDropService.dragData);if(0===this.dropZones.length&&0===this._dragDropService.allowedDropZones.length)return!0;for(var n=0;n<this._dragDropService.allowedDropZones.length;n++){var t=this._dragDropService.allowedDropZones[n];if(-1!==this.dropZones.indexOf(t))return!0}}return!1},e.prototype._preventAndStop=function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},e.prototype._onDragStart=function(e){console.log("---0-_onDragStart--",this._elem.id),this._dragEnabled&&(this._dragDropService.allowedDropZones=this.dropZones,this._onDragStartCallback(e))},e.prototype._onDragEnd=function(e){this._dragDropService.allowedDropZones=[],this._onDragEndCallback(e)},e.prototype._onDragEnterCallback=function(e){},e.prototype._onDragOverCallback=function(e){},e.prototype._onDragLeaveCallback=function(e){},e.prototype._onDropCallback=function(e){console.log("---333-_onDropCallback--",this._elem.id)},e.prototype._onDragStartCallback=function(e){},e.prototype._onDragEndCallback=function(e){},e.ctorParameters=function(){return[{type:l.ElementRef},{type:o.a},{type:r.a},{type:l.ChangeDetectorRef}]},e}(),a=function(){return function(e,n,t,l,r){this._dragDropService=n,this._config=t,this._Component=l,this._cdr=r,this._elem=e.nativeElement,this._Component.setDragHandle(this._elem)}}()},Mgus:function(e,n,t){"use strict";var l=t("4FK7"),r=t("0WLp"),o=function(){function e(e,n){this.activeModal=e,this.service=n,this.progress="0",this.color="#209e91",this.height="1px",this.show=!0}return e.prototype.ngOnInit=function(){},e.prototype.save=function(){this.activeModal.close("save")},e.prototype.dismiss=function(){this.activeModal.dismiss("cancel")},e.ctorParameters=function(){return[{type:r.b},{type:l.a}]},e}();t.d(n,"b",function(){return i}),t.d(n,"a",function(){return o}),t.d(n,!1,function(){return l.a});var i=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[l.a]}},e}()},MxAn:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){}return e.prototype.selectNode=function(e){jQuery.fn.zTree.getZTreeObj("tree").selectNode(e)},e.prototype.getNextNode=function(e){for(var n=jQuery.fn.zTree.getZTreeObj("tree"),t=!1,l=n.transformToArray(n.getNodes()),r=0;r<l.length;r++){if(t&&!l[r].isParent)return l[r];l[r].id==e&&(t=!0)}},e.prototype.getNextNodeObject=function(e){if(!e)return null;var n=e.getNextNode();if(null!=n)return console.log("next is ",n.name),n.isParent?(console.log("find folder",n.name),null==n.children||0==n.children.length?null:n.children[0]):(console.log("return leaf",n.name),n);var t=e.getParentNode();return console.log("parent is ",t.name),this.getNextNodeObject(t)},e.ctorParameters=function(){return[]},e}()},N3K9:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){}return e.prototype.transform=function(e){var n;return"not_start"==e?n="\u672a\u5f00\u59cb":"in_progress"==e?n="\u6267\u884c\u4e2d":"end"==e&&(n="\u5df2\u5b8c\u6210"),n},e}()},O1kG:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("xrDH"),r=(t.n(l),t("9GFz")),o=function(){function e(e){this._reqService=e,this._apiBase="client/plan/"}return e.prototype.query=function(e,n,t){return l.merge(e,{page:n,pageSize:t}),this._reqService.post(this._apiBase+"query",e)},e.prototype.get=function(e){var n={id:e};return this._reqService.post(this._apiBase+"get",n)},e.prototype.save=function(e){var n=l.clone(e);return n.tasks=null,this._reqService.post(this._apiBase+"save",n)},e.prototype.delete=function(e){var n={id:e};return this._reqService.post(this._apiBase+"delete",n)},e.ctorParameters=function(){return[{type:r.a}]},e}()},O2Iz:function(e,n,t){"use strict";var l=t("/oeL"),r=t("AVVE"),o=t("BkNc"),i=t("qbdv"),u=t("GxUr"),a=t("WDs4"),s=t("JdLB"),c=t("D3O6"),d=t("EDwL"),f=[[""]],p=l["\u0275crt"]({encapsulation:0,styles:f,data:{}});function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(e,n){var t=n.component;e(n,0,0,l["\u0275inlineInterpolate"](1,"",t.menuItem.icon,""))})}function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,9,"a",[["class","al-sidebar-list-link"]],[[1,"target",0],[8,"href",4]],[[null,"mouseenter"],[null,"click"]],function(e,n,t){var r=!0,o=e.component;"click"===n&&(r=!1!==l["\u0275nov"](e,1).onClick(t.button,t.ctrlKey,t.metaKey)&&r);"mouseenter"===n&&(r=!1!==o.onHoverItem(t,o.item)&&r);return r},null,null)),l["\u0275did"](335872,null,0,o.m,[o.k,o.a,i.LocationStrategy],{routerLink:[0,"routerLink"]},null),l["\u0275ppd"](1),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,h)),l["\u0275did"](8192,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](0,null,null,2,"span",[["translate",""]],null,null,null,null,null)),l["\u0275did"](4268032,null,0,u.a,[a.a,l.ElementRef,l.ChangeDetectorRef],{translate:[0,"translate"]},null),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){var t=n.component;e(n,1,0,l["\u0275unv"](n,1,0,e(n,2,0,l["\u0275nov"](n.parent.parent,0),t.menuItem.route.paths))),e(n,5,0,t.menuItem.icon);e(n,7,0,"")},function(e,n){var t=n.component;e(n,0,0,l["\u0275nov"](n,1).target,l["\u0275nov"](n,1).href),e(n,8,0,t.menuItem.title)})}function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(e,n){var t=n.component;e(n,0,0,l["\u0275inlineInterpolate"](1,"",t.menuItem.icon,""))})}function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,7,"a",[["class","al-sidebar-list-link"]],[[8,"href",4],[8,"target",0]],[[null,"mouseenter"]],function(e,n,t){var l=!0,r=e.component;"mouseenter"===n&&(l=!1!==r.onHoverItem(t,r.item)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,m)),l["\u0275did"](8192,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](0,null,null,2,"span",[["translate",""]],null,null,null,null,null)),l["\u0275did"](4268032,null,0,u.a,[a.a,l.ElementRef,l.ChangeDetectorRef],{translate:[0,"translate"]},null),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){e(n,3,0,n.component.menuItem.icon);e(n,5,0,"")},function(e,n){var t=n.component;e(n,0,0,t.menuItem.url,t.menuItem.target),e(n,6,0,t.menuItem.title)})}function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(e,n){var t=n.component;e(n,0,0,l["\u0275inlineInterpolate"](1,"",t.menuItem.icon,""))})}function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,11,"a",[["class","al-sidebar-list-link"],["href",""]],null,[[null,"mouseenter"],[null,"click"]],function(e,n,t){var l=!0,r=e.component;"mouseenter"===n&&(l=!1!==r.onHoverItem(t,r.item)&&l);"click"===n&&(l=!1!==r.onToggleSubMenu(t,r.menuItem)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,b)),l["\u0275did"](8192,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](0,null,null,2,"span",[["translate",""]],null,null,null,null,null)),l["\u0275did"](4268032,null,0,u.a,[a.a,l.ElementRef,l.ChangeDetectorRef],{translate:[0,"translate"]},null),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,2,"b",[["class","fa fa-angle-down"]],null,null,null,null,null)),l["\u0275did"](139264,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](["fa-angle-up"]),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){var t=n.component;e(n,3,0,t.menuItem.icon);e(n,5,0,"");e(n,9,0,"fa fa-angle-down",e(n,10,0,t.menuItem.expanded))},function(e,n){e(n,6,0,n.component.menuItem.title)})}function C(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"ba-menu-item",[],null,[[null,"itemHover"],[null,"toggleSubMenu"]],function(e,n,t){var l=!0,r=e.component;"itemHover"===n&&(l=!1!==r.onHoverItem(t)&&l);"toggleSubMenu"===n&&(l=!1!==r.onToggleSubMenu(t,e.context.$implicit)&&l);return l},_,p)),l["\u0275did"](24576,null,0,s.a,[],{menuItem:[0,"menuItem"],child:[1,"child"]},{itemHover:"itemHover",toggleSubMenu:"toggleSubMenu"})],function(e,n){e(n,1,0,n.context.$implicit,!0)},null)}function w(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,6,"ul",[["class","al-sidebar-sublist"]],null,null,null,null,null)),l["\u0275did"](139264,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](["slide-right"]),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,C)),l["\u0275did"](401408,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){var t=n.component;e(n,1,0,"al-sidebar-sublist",e(n,2,0,t.menuItem.slideRight)),e(n,5,0,t.menuItem.children)},null)}function x(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,16,"li",[],[[8,"title",0]],null,null,null,null)),l["\u0275did"](139264,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](["al-sidebar-list-item","ba-sidebar-sublist-item","selected","with-sub-menu","ba-sidebar-item-expanded"]),l["\u0275pid"](65536,c.a,[a.a,l.ChangeDetectorRef]),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,g)),l["\u0275did"](8192,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,v)),l["\u0275did"](8192,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,y)),l["\u0275did"](8192,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,w)),l["\u0275did"](8192,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n"]))],function(e,n){var t=n.component;e(n,1,0,e(n,2,0,!t.child,t.child,t.menuItem.selected&&!t.menuItem.expanded,t.menuItem.children,t.menuItem.expanded)),e(n,6,0,!t.menuItem.children&&!t.menuItem.url),e(n,9,0,!t.menuItem.children&&t.menuItem.url),e(n,12,0,t.menuItem.children),e(n,15,0,t.menuItem.children)},function(e,n){var t=n.component;e(n,0,0,l["\u0275unv"](n,0,0,l["\u0275nov"](n,3).transform(t.menuItem.title)))})}function _(e){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[]),(e()(),l["\u0275and"](8388608,null,null,1,null,x)),l["\u0275did"](8192,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){e(n,2,0,!n.component.menuItem.hidden)},null)}l["\u0275ccf"]("ba-menu-item",s.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"ba-menu-item",[],null,null,null,_,p)),l["\u0275did"](24576,null,0,s.a,[],null,null)],null,null)},{menuItem:"menuItem",child:"child"},{itemHover:"itemHover",toggleSubMenu:"toggleSubMenu"},[]);var A=t("2Fjb"),k=t("RcX/"),O=t("6LE6"),S=t("ZV8k"),E=[[""]],R=l["\u0275crt"]({encapsulation:0,styles:E,data:{}});function P(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"ba-menu-item",[],null,[[null,"itemHover"],[null,"toggleSubMenu"]],function(e,n,t){var l=!0,r=e.component;"itemHover"===n&&(l=!1!==r.hoverItem(t)&&l);"toggleSubMenu"===n&&(l=!1!==r.toggleSubMenu(t)&&l);return l},_,p)),l["\u0275did"](24576,null,0,s.a,[],{menuItem:[0,"menuItem"]},{itemHover:"itemHover",toggleSubMenu:"toggleSubMenu"})],function(e,n){e(n,1,0,n.context.$implicit)},null)}function M(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,6,"ul",[["baSlimScroll",""],["class","al-sidebar-list"],["id","al-sidebar-list"]],null,[[null,"mouseleave"]],function(e,n,t){var l=!0,r=e.component;"mouseleave"===n&&(l=!1!==(r.hoverElemTop=r.outOfArea)&&l);return l},null,null)),l["\u0275did"](270336,null,0,k.a,[l.ElementRef],{baSlimScrollOptions:[0,"baSlimScrollOptions"]},null),l["\u0275pod"](["height"]),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,P)),l["\u0275did"](401408,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275eld"](0,null,null,5,"div",[["class","sidebar-hover-elem"]],null,null,null,null,null)),l["\u0275did"](139264,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](["show-hover-elem"]),l["\u0275did"](139264,null,0,i.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](["top","height"]),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,1,0,e(n,2,0,t.menuHeight)),e(n,5,0,t.menuItems);e(n,9,0,"sidebar-hover-elem",e(n,10,0,t.showHoverElem)),e(n,11,0,e(n,12,0,t.hoverElemTop+"px",t.hoverElemHeight+"px"))},null)}l["\u0275ccf"]("ba-menu",A.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"ba-menu",[],null,null,null,M,R)),l["\u0275did"](122880,null,0,A.a,[o.k,O.a,S.a],null,null)],function(e,n){e(n,1,0)},null)},{sidebarCollapsed:"sidebarCollapsed",menuHeight:"menuHeight"},{expandMenu:"expandMenu"},[]);t.d(n,"a",function(){return D}),n.b=T;var I=[["[_nghost-%COMP%]     .al-sidebar{width:180px;top:66px;left:0;z-index:1;display:block;min-height:100%;background-color:#1c2b36;height:100%;position:fixed}[_nghost-%COMP%]     .al-sidebar .org-selection{padding:0 10px}[_nghost-%COMP%]     .al-sidebar-list{margin:0;overflow:hidden;padding:18px 0 0 0;list-style:none}[_nghost-%COMP%]     .al-sidebar-sublist .subitem-submenu-list{padding-left:15px}[_nghost-%COMP%]     .subitem-submenu-link .fa{top:7px}[_nghost-%COMP%]     .al-sidebar-list-item{display:block;position:relative;float:none;padding:0}[_nghost-%COMP%]     .al-sidebar-list-item.selected:not(.with-sub-menu){background-color:#209e91}[_nghost-%COMP%]     .al-sidebar-list-item.selected:not(.with-sub-menu) a.al-sidebar-list-link, [_nghost-%COMP%]     .al-sidebar-list-item.selected:not(.with-sub-menu) a.al-sidebar-list-link b{color:#fff}[_nghost-%COMP%]     .ba-sidebar-item-expanded>ul.al-sidebar-sublist{display:block!important}[_nghost-%COMP%]     .al-sidebar-list-item.ba-sidebar-item-expanded>.al-sidebar-list-link b, [_nghost-%COMP%]     .ba-sidebar-sublist-item.ba-sidebar-item-expanded>.al-sidebar-list-link b{transform:rotate(180deg)}[_nghost-%COMP%]     .al-sidebar-list-item.ba-sidebar-item-expanded>.al-sidebar-sublist, [_nghost-%COMP%]     .ba-sidebar-sublist-item.ba-sidebar-item-expanded>.al-sidebar-sublist{display:block}[_nghost-%COMP%]     a.al-sidebar-list-link{display:block;text-overflow:ellipsis;height:42px;padding-left:0;text-shadow:none;font-size:13px;text-decoration:none;color:#fff;line-height:42px;white-space:nowrap;overflow:hidden;cursor:pointer}[_nghost-%COMP%]     a.al-sidebar-list-link:hover, [_nghost-%COMP%]     a.al-sidebar-list-link:hover b{color:#209e91}[_nghost-%COMP%]     a.al-sidebar-list-link i{margin-right:15px;width:16px;display:inline-block}[_nghost-%COMP%]     a.al-sidebar-list-link b{display:block;opacity:1;width:14px;height:14px;line-height:14px;text-shadow:none;font-size:18px;position:absolute;right:10px;top:12px;padding:0;text-align:center;color:#fff;transition:transform .2s linear}[_nghost-%COMP%]     .slimScrollBar, [_nghost-%COMP%]     .slimScrollRail{border-radius:0!important;width:4px!important;left:176px}[_nghost-%COMP%]     .al-sidebar-sublist{padding:0;list-style:none;position:relative;display:none}[_nghost-%COMP%]     .al-sidebar-sublist.expanded{display:block}[_nghost-%COMP%]     .al-sidebar-sublist>ba-menu-item>li{display:block;float:none;padding:0;border-bottom:none;position:relative}[_nghost-%COMP%]     .al-sidebar-sublist>ba-menu-item>li a{display:block;text-shadow:none;font-size:13px;text-decoration:none;color:#fff;padding-left:13px;height:auto;line-height:29px}[_nghost-%COMP%]     .al-sidebar-sublist>ba-menu-item>li a:hover{color:#209e91}[_nghost-%COMP%]     .al-sidebar-sublist>ba-menu-item>li.selected:not(.with-sub-menu)>a{border:none;background-color:#209e91}[_nghost-%COMP%]     .al-sidebar-sublist>ba-menu-item>li.selected:not(.with-sub-menu)>a:hover{color:#fff}[_nghost-%COMP%]     .al-sidebar-sublist .al-sidebar-sublist>ba-menu-item>li a{padding-left:26px}[_nghost-%COMP%]     .sidebar-hover-elem{width:4px;background:#209e91;position:absolute;top:-150px;left:176px;transition:all .5s ease;transition-property:top,height;height:42px;display:block}[_nghost-%COMP%]     .sidebar-select-elem{display:block;top:94px}[_nghost-%COMP%]     .menu-collapsed .slimScrollBar, [_nghost-%COMP%]     .menu-collapsed .slimScrollRail{display:none!important}"]],D=l["\u0275crt"]({encapsulation:0,styles:I,data:{}});function T(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"aside",[["class","al-sidebar"],["sidebarResize",""]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,1,"ba-menu",[],null,[[null,"expandMenu"]],function(e,n,t){var l=!0,r=e.component;"expandMenu"===n&&(l=!1!==r.menuExpand()&&l);return l},M,R)),l["\u0275did"](122880,null,0,A.a,[o.k,O.a,S.a],{sidebarCollapsed:[0,"sidebarCollapsed"],menuHeight:[1,"menuHeight"]},{expandMenu:"expandMenu"}),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,3,0,t.isMenuCollapsed,t.menuHeight)},null)}l["\u0275ccf"]("ba-sidebar",r.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"ba-sidebar",[],null,[["window","resize"]],function(e,n,t){var r=!0;return"window:resize"===n&&(r=!1!==l["\u0275nov"](e,1).onWindowResize()&&r),r},T,D)),l["\u0275did"](2220032,null,0,r.a,[l.ElementRef,S.a],null,null)],function(e,n){e(n,1,0)},null)},{},{},[])},OFit:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("/oeL"),r=t("ZV8k"),o=function(){function e(e,n){this._state=e,this.el=n,this.isInit=!1}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.ctorParameters=function(){return[{type:r.a},{type:l.ElementRef}]},e}()},OaG9:function(e,n,t){"use strict";n.c=function(e){return"string"===typeof e},n.b=function(e){return"number"===typeof e},n.a=function(e){return"function"===typeof e}},OpZN:function(e,n){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.VK"),t=function(e){return e.target_list},l=function(e){return e.rel_list},r=function(e){return e.link_class_list},o=function(e){return"boolean"===typeof e.link_assume_external_targets&&e.link_assume_external_targets},i=function(e){return"boolean"===typeof e.link_context_toolbar&&e.link_context_toolbar},u=function(e){return e.link_list},a=function(e){return"string"===typeof e.default_link_target},s=function(e){return e.default_link_target},c=t,d=function(e,n){e.settings.target_list=n},f=function(e){return!1!==t(e)},p=l,h=function(e){return void 0!==l(e)},g=r,m=function(e){return void 0!==r(e)},v=function(e){return!1!==e.link_title},b=function(e){return"boolean"===typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target},y=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),C=tinymce.util.Tools.resolve("tinymce.Env"),w=function(e){if(!C.ie||C.ie>10){var n=document.createElement("a");n.target="_blank",n.href=e,n.rel="noreferrer noopener";var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(e,n){document.body.appendChild(e),e.dispatchEvent(n),document.body.removeChild(e)}(n,t)}else{var l=window.open("","_blank");if(l){l.opener=null;var r=l.document;r.open(),r.write('<meta http-equiv="refresh" content="0; url='+y.DOM.encode(e)+'">'),r.close()}}},x=tinymce.util.Tools.resolve("tinymce.util.Tools"),_=function(e,n){var t=["noopener"],l=e?e.split(/\s+/):[],r=function(e){return e.filter(function(e){return-1===x.inArray(t,e)})};return(l=n?function(e){return(e=r(e)).length?e.concat(t):t}(l):r(l)).length?function(e){return x.trim(e.sort().join(" "))}(l):null},A=function(e,n){return n=n||e.selection.getNode(),O(n)?e.dom.select("a[href]",n)[0]:e.dom.getParent(n,"a[href]")},k=function(e){return e&&"A"===e.nodeName&&e.href},O=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},S=function(e,n){var t,l;(l=e.dom.select("img",n)[0])&&(t=e.dom.getParents(l,"a[href]",n)[0])&&(t.parentNode.insertBefore(l,t),e.dom.remove(t))},E=function(e,n,t){var l,r;(r=e.dom.select("img",n)[0])&&(l=e.dom.create("a",t),r.parentNode.insertBefore(l,r),l.appendChild(r))},R=function(e,n){return function(t){e.undoManager.transact(function(){var l=e.selection.getNode(),r=A(e,l),o={href:t.href,target:t.target?t.target:null,rel:t.rel?t.rel:null,class:t.class?t.class:null,title:t.title?t.title:null};h(e.settings)||!1!==b(e.settings)||(o.rel=_(o.rel,"_blank"===o.target)),t.href===n.href&&(n.attach(),n={}),r?(e.focus(),t.hasOwnProperty("text")&&("innerText"in r?r.innerText=t.text:r.textContent=t.text),e.dom.setAttribs(r,o),e.selection.select(r),e.undoManager.add()):O(l)?E(e,l,o):t.hasOwnProperty("text")?e.insertContent(e.dom.createHTML("a",o,e.dom.encode(t.text))):e.execCommand("mceInsertLink",!1,o)})}},P=function(e){return function(){e.undoManager.transact(function(){var n=e.selection.getNode();O(n)?S(e,n):e.execCommand("unlink")})}},M=k,I=function(e){return x.grep(e,k).length>0},D=function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},T=A,N=function(e,n){return function(e){return e.replace(/\uFEFF/g,"")}(n?n.innerText||n.textContent:e.getContent({format:"text"}))},B=_,F=tinymce.util.Tools.resolve("tinymce.util.Delay"),L=tinymce.util.Tools.resolve("tinymce.util.XHR"),H={},z=function(e,n,t){var l=function(e,t){return t=t||[],x.each(e,function(e){var r={text:e.text||e.title};e.menu?r.menu=l(e.menu):(r.value=e.value,n&&n(r)),t.push(r)}),t};return l(e,t||[])},V=function(e,n,t){var l=e.selection.getRng();F.setEditorTimeout(e,function(){e.windowManager.confirm(n,function(n){e.selection.setRng(l),t(n)})})},q=function(e,n){var t,l,r,i,u,y,C,w,_,A,k,O={},S=e.selection,E=e.dom,M=function(e){var n=r.find("#text");(!n.value()||e.lastControl&&n.value()===e.lastControl.text())&&n.value(e.control.text()),r.find("#href").value(e.control.value())},I=function(){l||!i||O.text||this.parent().parent().find("#text")[0].value(this.value())};i=D(S.getContent()),t=T(e),O.text=l=N(e.selection,t),O.href=t?E.getAttrib(t,"href"):"",t?O.target=E.getAttrib(t,"target"):a(e.settings)&&(O.target=s(e.settings)),(k=E.getAttrib(t,"rel"))&&(O.rel=k),(k=E.getAttrib(t,"class"))&&(O.class=k),(k=E.getAttrib(t,"title"))&&(O.title=k),i&&(u={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){O.text=this.value()}}),n&&(y={type:"listbox",label:"Link list",values:z(n,function(n){n.value=e.convertURL(n.value||n.url,"href")},[{text:"None",value:""}]),onselect:M,value:e.convertURL(O.href,"href"),onPostRender:function(){y=this}}),f(e.settings)&&(void 0===c(e.settings)&&d(e,[{text:"None",value:""},{text:"New window",value:"_blank"}]),w={name:"target",type:"listbox",label:"Target",values:z(c(e.settings))}),h(e.settings)&&(C={name:"rel",type:"listbox",label:"Rel",values:z(p(e.settings),function(n){!1===b(e.settings)&&(n.value=B(n.value,"_blank"===O.target))})}),m(e.settings)&&(_={name:"class",type:"listbox",label:"Class",values:z(g(e.settings),function(n){n.value&&(n.textStyle=function(){return e.formatter.getCssText({inline:"a",classes:[n.value]})})})}),v(e.settings)&&(A={name:"title",type:"textbox",label:"Title",value:O.title}),r=e.windowManager.open({title:"Insert link",data:O,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(n){var t=n.meta||{};y&&y.value(e.convertURL(this.value(),"href")),x.each(n.meta,function(e,n){var t=r.find("#"+n);"text"===n?0===l.length&&(t.value(e),O.text=e):t.value(e)}),t.attach&&(H={href:this.value(),attach:t.attach}),t.text||I.call(this)},onkeyup:I,onpaste:I,onbeforecall:function(e){e.meta=r.toJSON()}},u,A,function(n){var t=[];if(x.each(e.dom.select("a:not([href])"),function(e){var l=e.name||e.id;l&&t.push({text:l,value:"#"+l,selected:-1!==n.indexOf("#"+l)})}),t.length)return t.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:t,onselect:M}}(O.href),y,C,w,_],onSubmit:function(n){var t=o(e.settings),r=R(e,H),u=P(e),a=x.extend({},O,n.data),s=a.href;s?(i&&a.text!==l||delete a.text,s.indexOf("@")>0&&-1===s.indexOf("//")&&-1===s.indexOf("mailto:")?V(e,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(a.href="mailto:"+s),r(a)}):!0===t&&!/^\w+:/i.test(s)||!1===t&&/^\s*www[\.|\d\.]/i.test(s)?V(e,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(a.href="http://"+s),r(a)}):r(a)):u()}})},j=function(e){!function(e,n){var t=u(e.settings);"string"===typeof t?L.send({url:t,success:function(t){n(e,JSON.parse(t))}}):"function"===typeof t?t(function(t){n(e,t)}):n(e,t)}(e,q)},W=function(e,n){return e.dom.getParent(n,"a[href]")},U=function(e){return W(e,e.selection.getStart())},Q=function(e,n){if(n){var t=function(e){var n=e.getAttribute("data-mce-href");return n||e.getAttribute("href")}(n);if(/^#/.test(t)){var l=e.$(t);l.length&&e.selection.scrollIntoView(l[0],!0)}else w(n.href)}},G=function(e){return function(){j(e)}},K=function(e){return function(){Q(e,U(e))}},Y=function(e){return function(n){var t,l,r;return!!(i(e.settings)&&!function(e){var n=e.plugins.contextmenu;return!!n&&n.isContextMenuVisible()}(e)&&M(n)&&3===(r=(l=(t=e.selection).getRng()).startContainer).nodeType&&t.isCollapsed()&&l.startOffset>0&&l.startOffset<r.data.length)}},Z=function(e){e.on("click",function(t){var l=W(e,t.target);l&&n.metaKeyPressed(t)&&(t.preventDefault(),Q(e,l))}),e.on("keydown",function(n){var t=U(e);t&&13===n.keyCode&&function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey}(n)&&(n.preventDefault(),Q(e,t))})},J=function(e){return function(){var n=this;e.on("nodechange",function(t){n.active(!e.readonly&&!!T(e,t.element))})}},X=function(e){return function(){var n=this,t=function(e){I(e.parents)?n.show():n.hide()};I(e.dom.getParents(e.selection.getStart()))||n.hide(),e.on("nodechange",t),n.on("remove",function(){e.off("nodechange",t)})}},$=function(e){e.addCommand("mceLink",G(e))},ee=function(e){e.addShortcut("Meta+K","",G(e))},ne=function(e){e.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:G(e),onpostrender:J(e)}),e.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:P(e),onpostrender:J(e)}),e.addContextToolbar&&e.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:K(e)})},te=function(e){e.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:K(e),onPostRender:X(e),prependToContext:!0}),e.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:G(e),stateSelector:"a[href]",context:"insert",prependToContext:!0}),e.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onclick:P(e),stateSelector:"a[href]"})},le=function(e){e.addContextToolbar&&e.addContextToolbar(Y(e),"openlink | link unlink")};e.add("link",function(e){ne(e),te(e),le(e),Z(e),$(e),ee(e)})}()},PDpj:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("9GFz"),r=t("KBuQ"),o=function(){function e(e,n){this._reqService=e,this._routeService=n,this._apiBase="client/issue_tag/"}return e.prototype.search=function(e,n,t){var l={issueId:e,keywords:n,exceptIds:t};return this._reqService.post(this._apiBase+"search",l)},e.prototype.save=function(e,n){var t={issueId:e,tags:n};return this._reqService.post(this._apiBase+"save",t)},e.ctorParameters=function(){return[{type:l.a},{type:r.a}]},e}()},PGi5:function(e,n,t){"use strict";t.d(n,"a",function(){return o}),t.d(n,"c",function(){return i}),t.d(n,"b",function(){return u});var l=t("oRYE"),r=t("fc+i"),o=function(){function e(){}return e.prototype.transform=function(e){return l.a.SERVICE_URL+e},e}(),i=function(){function e(e){this.sanitized=e}return e.prototype.transform=function(e){return e?this.sanitized.bypassSecurityTrustHtml('<span style="font-weight: bolder">\u300c'+e+"\u300d</span>"):"<span></span>"},e.ctorParameters=function(){return[{type:r.c}]},e}(),u=function(){function e(){}return e.prototype.transform=function(e,n,t){return void 0===t&&(t="-"),e.split(t)[n]},e.ctorParameters=function(){return[]},e}()},PrTP:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=[".comment-edit.modal{top:calc(40% - 100px)}.comment-edit.modal textarea{width:100%;padding:5px;line-height:20px}.comment-edit .modal-footer{border:none}"]},Q0LZ:function(e,n,t){"use strict";t.d(n,"a",function(){return u}),t.d(n,"b",function(){return l}),n.d=function(e){return new s(e)},t.d(n,"c",function(){return s});var l,r=t("/oeL"),o=t("OaG9"),i=t("rlar"),u=(t.n(i),function(){function e(){}e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[]}}(),function(){function e(){}e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[]}}(),function(){function e(){this.limit=5,this.showClose=!0,this.position="bottom-right",this.timeout=5e3,this.theme="default"}return e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[]},e}());!function(e){e[e.ADD=0]="ADD",e[e.CLEAR=1]="CLEAR",e[e.CLEAR_ALL=2]="CLEAR_ALL"}(l||(l={}));var a=function(){return function(e,n){this.type=e,this.value=n}}();var s=function(){function e(e){this.config=e,this.uniqueCounter=0,this.eventSource=new i.Subject,this.events=this.eventSource.asObservable()}return e.prototype.default=function(e){this.add(e,"default")},e.prototype.info=function(e){this.add(e,"info")},e.prototype.success=function(e){this.add(e,"success")},e.prototype.wait=function(e){this.add(e,"wait")},e.prototype.error=function(e){this.add(e,"error")},e.prototype.warning=function(e){this.add(e,"warning")},e.prototype.add=function(n,t){var r;if(!(r=Object(o.c)(n)&&""!==n||Object(o.b)(n)?{title:n.toString()}:n)||!r.title&&!r.msg)throw new Error("ng2-toasty: No toast title or message specified!");t=t||"default",this.uniqueCounter++;var i,u=this._checkConfigItem(this.config,r,"showClose");i=r.theme&&e.THEMES.indexOf(r.theme)>-1?r.theme:this.config.theme;var s={id:this.uniqueCounter,title:r.title,msg:r.msg,showClose:u,type:"toasty-type-"+t,theme:"toasty-theme-"+i,onAdd:r.onAdd&&Object(o.a)(r.onAdd)?r.onAdd:null,onRemove:r.onRemove&&Object(o.a)(r.onRemove)?r.onRemove:null};s.timeout=r.hasOwnProperty("timeout")?r.timeout:this.config.timeout,this.emitEvent(new a(l.ADD,s)),r.onAdd&&Object(o.a)(r.onAdd)&&r.onAdd.call(this,s)},e.prototype.clearAll=function(){this.emitEvent(new a(l.CLEAR_ALL))},e.prototype.clear=function(e){this.emitEvent(new a(l.CLEAR,e))},e.prototype._checkConfigItem=function(e,n,t){return!1!==n[t]&&(!!n[t]||e[t])},e.prototype.emitEvent=function(e){this.eventSource&&this.eventSource.next(e)},e.THEMES=["default","material","bootstrap"],e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:u}]},e}()},QZuO:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("/oeL"),r=t("bm2B"),o=function(){function e(e){var n=this;this.fb=e,this.searchChange=new l.EventEmitter,this.formSelection=this.fb.group({searchInput:["",[]]},{}),this.formSelection.controls.searchInput.valueChanges.debounceTime(500).subscribe(function(e){return n.onSearchChanged()})}return e.prototype.ngOnInit=function(){},e.prototype.onMouseEnter=function(e,n){e.preventDefault(),e.stopPropagation(),this.selectedModel=n},e.prototype.onSelectItem=function(e,n){this.searchModel={},this.searchResult=null,this.selectSingle&&this.selectedModels.splice(0,1),this.selectedModels.push(n)},e.prototype.onSearchChanged=function(){this.searchModel.keywords?this.searchChange.emit(this.searchModel):this.searchResult=null},e.prototype.remove=function(e){var n=this.selectedModels.indexOf(e,0);n>-1&&this.selectedModels.splice(n,1)},e.prototype.cancel=function(e){e.preventDefault(),e.stopPropagation(),this.searchResult=null,this.searchModel={}},e.ctorParameters=function(){return[{type:r.e}]},e}()},QcKS:function(e,n,t){"use strict";n.c=i,n.d=u,t.d(n,"a",function(){return a}),t.d(n,"b",function(){return s});var l=t("CPp0"),r=t("oQZj"),o=t("VeFf");function i(){return function(){return new r.a}}function u(e){return function(){return new o.a(e)}}var a={provide:r.a,useFactory:i},s={provide:o.a,useFactory:u,deps:[l.e]}},Qkx6:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("bm2B"),r=t("A9qq"),o=function(){function e(e){this._dateFormatPipe=e,this.validateMsg={},this.elem={},this.options=[],this.mutiSelectVal=[],this.checkboxVal={},this._model={}}return Object.defineProperty(e.prototype,"model",{get:function(){return this._model},set:function(e){var n=this;this._model=e,"date"==this.elem.input?this._model[this.elem.colCode]=this._dateFormatPipe.transform(this._model[this.elem.colCode]):"time"==this.elem.input?this._model[this.elem.colCode]=this._dateFormatPipe.transform(this._model[this.elem.colCode],"HH:mm"):"datetime"==this.elem.input?this._model[this.elem.colCode]=this._dateFormatPipe.transform(this._model[this.elem.colCode],"yyyy-MM-dd HH:mm"):"multi_select"==this.elem.input&&this._model[this.elem.colCode]?this.mutiSelectVal=this._model[this.elem.colCode].split(","):"checkbox"==this.elem.input&&this._model[this.elem.colCode]&&this._model[this.elem.colCode].split(",").forEach(function(e){n.checkboxVal[e]=!0}),console.log("###",this.mutiSelectVal,this.checkboxVal)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){if(!this._model[this.elem.colCode]&&this.options){var e=this.options.filter(function(e,n){return 1==e.defaultVal});e.length>0&&(this._model[this.elem.colCode]=this.elem.buildIn?e[0].id:e[0].value)}var n=[];this.elem.required&&(n.push(l.v.required),this.validateMsg["elem-"+this.elem.id]={required:this.elem.label+"\u4e0d\u80fd\u4e3a\u7a7a"}),"number"==this.elem.input&&("integer"==this.elem.type?(n.push(l.v.pattern("^[0-9]*$")),this.validateMsg["elem-"+this.elem.id]={pattern:this.elem.label+"\u5fc5\u987b\u662f\u6574\u6570"}):"double"==this.elem.type&&(n.push(l.v.pattern("^(-?\\d+)(\\.\\d+)?$")),this.validateMsg["elem-"+this.elem.id]={pattern:this.elem.label+"\u5fc5\u987b\u662f\u5c0f\u6570"})),this.form.addControl("elem-"+this.elem.id,new l.f({value:"",disabled:this.elem.readonly},n))},e.prototype.ngAfterViewInit=function(){jQuery(".my-flatpickr-date").flatpickr({wrap:!0}),jQuery(".my-flatpickr-time").flatpickr({wrap:!0,enableTime:!0,noCalendar:!0,time_24hr:!0,minuteIncrement:15}),jQuery(".my-flatpickr-datetime").flatpickr({wrap:!0,enableTime:!0,time_24hr:!0,minuteIncrement:15})},e.prototype.checkboxValChange=function(){var e=[];for(var n in console.log("this.checkboxVal",this.checkboxVal),this.checkboxVal)this.checkboxVal[n]&&e.push(n);this.model[this.elem.colCode]=e.join(","),console.log("checkboxValChange",this.model[this.elem.colCode])},e.prototype.mutiSelectValChange=function(){this.model[this.elem.colCode]=this.mutiSelectVal.join(","),console.log("mutiSelectValChange",this.model[this.elem.colCode])},e.prototype.richtextChange=function(e){this.model[this.elem.colCode]=e,console.log("richtextChange",this.model[this.elem.colCode])},e.ctorParameters=function(){return[{type:r.a}]},e}()},RCrH:function(e,n,t){"use strict";t.d(n,"a",function(){return h});var l=t("BkNc"),r=t("bm2B"),o=t("0WLp"),i=t("56Rf"),u=t("ZV8k"),a=t("oRYE"),s=t("2tNT"),c=t("KBuQ"),d=t("g51S"),f=t("JNkf"),p=t("xrDH"),h=(t.n(p),function(){function e(e,n,t,l,r,o,i,u){this._routeService=e,this._state=n,this._route=t,this.activeModal=l,this.fb=r,this.toastyService=o,this.issueService=i,this.privilegeService=u,this.eventCode="IssueEdit",this.issue={},this.issuePropMap={},this.page={},this.validateMsg={},this.formErrors=[],this.canEdit=this.privilegeService.hasPrivilege("issue-update"),this.buildForm()}return Object.defineProperty(e.prototype,"id",{set:function(e){this._id=e,console.log("id",this._id),this.loadData()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.loadData=function(){var e=this;this.issueService.edit(this._id).subscribe(function(n){e.issue=n.data,e.issuePropMap=n.issuePropMap,e.page=n.page,e.onValueChanged()})},e.prototype.update=function(){var e=this,n=p.clone(this.issue);this.issueService.update(n,this.page.id).subscribe(function(n){1==n.code&&e.activeModal.close({act:"update",success:!0})})},e.prototype.cancel=function(){this.activeModal.dismiss({act:"cancel"})},e.prototype.onValueChanged=function(e){console.log("onValueChanged"),this.formErrors=s.a.genMsg(this.form,this.validateMsg,[])},e.prototype.buildForm=function(){var e=this;this.form=this.fb.group({}),this.form.valueChanges.debounceTime(a.a.DebounceTime).subscribe(function(n){return e.onValueChanged(n)}),this.onValueChanged()},e.prototype.ngOnDestroy=function(){},e.ctorParameters=function(){return[{type:c.a},{type:u.a},{type:l.a},{type:o.b},{type:r.e},{type:i.b},{type:d.a},{type:f.a}]},e}())},RTFu:function(e,n,t){"use strict";var l=t("/oeL"),r=t("bm2B"),o=t("87JA"),i=t("qbdv"),u=t("VpOg"),a=t("QZuO"),s=t("KBuQ"),c=t("ZV8k"),d=t("BkNc"),f=t("C8VA"),p=t("57f0"),h=t("emQk");t.d(n,"a",function(){return y});var g=[[".issue-link{margin:15px}"]],m=l["\u0275crt"]({encapsulation:2,styles:g,data:{}});function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](73728,null,0,r.q,[l.ElementRef,l.Renderer,[2,r.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,r.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["",""]))],function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.id,"")),e(n,2,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.id,""))},function(e,n){e(n,3,0,n.context.$implicit.label)})}function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,81,"div",[["class","issue-link container-fluid"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,18,"div",[["class","list-toolbar col-xl-12"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u94fe\u63a5\u95ee\u9898"])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[["class","filter"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,3,"button",[["class","btn btn-secondary btn-with-icon btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-plus-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u8fd4\u56de\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,55,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,52,"form",[["class","my-validate-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var r=!0;"submit"===n&&(r=!1!==l["\u0275nov"](e,29).onSubmit(t)&&r);"reset"===n&&(r=!1!==l["\u0275nov"](e,29).onReset()&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.y,[],null,null),l["\u0275did"](270336,null,0,r.h,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](1024,null,r.c,null,[r.h]),l["\u0275did"](8192,null,0,r.o,[r.c],null,null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,18,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u6b64\u95ee\u9898"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,9,"select",[["class","form-control"],["formControlName","linkId"],["name","linkId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,41).onChange(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,41).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.reasonId=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.t,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.t]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275and"](8388608,null,null,1,null,v)),l["\u0275did"](401408,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u95ee\u9898"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,5,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,2,"search-select",[],null,[[null,"searchModelChange"],[null,"selectedModelsChange"],[null,"searchChange"]],function(e,n,t){var l=!0,r=e.component;"searchModelChange"===n&&(l=!1!==(r.searchModel=t)&&l);"selectedModelsChange"===n&&(l=!1!==(r.selectedModels=t)&&l);"searchChange"===n&&(l=!1!==r.changeSearch(t)&&l);return l},u.b,u.a)),l["\u0275did"](57344,null,0,a.a,[r.e],{searchModel:[0,"searchModel"],searchResult:[1,"searchResult"],selectedModels:[2,"selectedModels"],selectSingle:[3,"selectSingle"]},{searchChange:"searchChange"}),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.link()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u4fdd\u5b58"])),(e()(),l["\u0275ted"](null,["\n          \xa0\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u53d6\u6d88"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275ted"](null,["\n\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,29,0,t.form);e(n,43,0,"linkId",t.reasonId),e(n,48,0,t.issueLinkReasons);e(n,61,0,t.searchModel,t.searchResult,t.selectedModels,!0)},function(e,n){var t=n.component;e(n,27,0,l["\u0275nov"](n,31).ngClassUntouched,l["\u0275nov"](n,31).ngClassTouched,l["\u0275nov"](n,31).ngClassPristine,l["\u0275nov"](n,31).ngClassDirty,l["\u0275nov"](n,31).ngClassValid,l["\u0275nov"](n,31).ngClassInvalid,l["\u0275nov"](n,31).ngClassPending),e(n,40,0,l["\u0275nov"](n,45).ngClassUntouched,l["\u0275nov"](n,45).ngClassTouched,l["\u0275nov"](n,45).ngClassPristine,l["\u0275nov"](n,45).ngClassDirty,l["\u0275nov"](n,45).ngClassValid,l["\u0275nov"](n,45).ngClassInvalid,l["\u0275nov"](n,45).ngClassPending),e(n,72,0,t.selectedModels.length<1||!t.reasonId)})}var y=l["\u0275ccf"]("issue-link",o.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"issue-link",[],null,null,null,b,m)),l["\u0275did"](2220032,null,0,o.a,[s.a,c.a,d.a,r.e,f.a,p.a,h.a],null,null)],function(e,n){e(n,1,0)},null)},{},{},[])},RewA:function(e,n,t){"use strict";t.d(n,"a",function(){return u}),n.b=m;var l=t("/oeL"),r=t("qbdv"),o=t("QVQ8"),i=t("NmeZ"),u=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function a(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,7,"li",[["class","page-item"]],[[2,"disabled",null]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"a",[["aria-label","First"],["class","page-link"],["href",""]],[[1,"tabindex",0]],[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==!!r.selectPage(1)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\xab\xab"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],null,function(e,n){var t=n.component;e(n,0,0,!t.hasPrevious()||t.disabled),e(n,2,0,t.hasPrevious()?null:"-1")})}function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,7,"li",[["class","page-item"]],[[2,"disabled",null]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"a",[["aria-label","Previous"],["class","page-link"],["href",""]],[[1,"tabindex",0]],[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==!!r.selectPage(r.page-1)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\xab"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],null,function(e,n){var t=n.component;e(n,0,0,!t.hasPrevious()||t.disabled),e(n,2,0,t.hasPrevious()?null:"-1")})}function c(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"a",[["class","page-link"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["..."]))],null,null)}function d(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["(current)"]))],null,null)}function f(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"a",[["class","page-link"],["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==!!r.selectPage(e.parent.context.$implicit)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          ","\n          "])),(e()(),l["\u0275and"](8388608,null,null,1,null,d)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n        "]))],function(e,n){var t=n.component;e(n,3,0,n.parent.context.$implicit===t.page)},function(e,n){e(n,1,0,n.parent.context.$implicit)})}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,7,"li",[["class","page-item"]],[[2,"active",null],[2,"disabled",null]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,c)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,f)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){var t=n.component;e(n,3,0,t.isEllipsis(n.context.$implicit)),e(n,6,0,!t.isEllipsis(n.context.$implicit))},function(e,n){var t=n.component;e(n,0,0,n.context.$implicit===t.page,t.isEllipsis(n.context.$implicit)||t.disabled)})}function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,7,"li",[["class","page-item"]],[[2,"disabled",null]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"a",[["aria-label","Next"],["class","page-link"],["href",""]],[[1,"tabindex",0]],[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==!!r.selectPage(r.page+1)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\xbb"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],null,function(e,n){var t=n.component;e(n,0,0,!t.hasNext()||t.disabled),e(n,2,0,t.hasNext()?null:"-1")})}function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,7,"li",[["class","page-item"]],[[2,"disabled",null]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"a",[["aria-label","Last"],["class","page-link"],["href",""]],[[1,"tabindex",0]],[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==!!r.selectPage(r.pageCount)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\xbb\xbb"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],null,function(e,n){var t=n.component;e(n,0,0,!t.hasNext()||t.disabled),e(n,2,0,t.hasNext()?null:"-1")})}function m(e){return l["\u0275vid"](2,[(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,16,"ul",[],[[8,"className",0]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,a)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,s)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,p)),l["\u0275did"](401408,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,h)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,g)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){var t=n.component;e(n,4,0,t.boundaryLinks),e(n,7,0,t.directionLinks),e(n,10,0,t.pages),e(n,13,0,t.directionLinks),e(n,16,0,t.boundaryLinks)},function(e,n){var t=n.component;e(n,1,0,"pagination"+(t.size?" pagination-"+t.size:""))})}l["\u0275ccf"]("ngb-pagination",o.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"ngb-pagination",[["role","navigation"]],null,null,null,m,u)),l["\u0275did"](286720,null,0,o.a,[i.a],null,null)],null,null)},{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},{pageChange:"pageChange"},[])},S3sg:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){return function(){}}()},S80x:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("9GFz"),r=function(){function e(e){this._reqService=e,this._apiBase="admin/org/"}return e.prototype.list=function(e){return this._reqService.post(this._apiBase+"list",e)},e.prototype.get=function(e){var n={orgId:e};return this._reqService.post(this._apiBase+"get",n)},e.prototype.save=function(e){return e.id?this._reqService.post(this._apiBase+"update",e):this._reqService.post(this._apiBase+"save",e)},e.prototype.delete=function(e){var n={orgId:e};return this._reqService.post(this._apiBase+"delete",n)},e.prototype.setDefault=function(e,n){var t={orgId:e,keywords:n.keywords,disabled:n.disabled};return this._reqService.post(this._apiBase+"setDefault",t)},e.ctorParameters=function(){return[{type:l.a}]},e}()},SHsa:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("9GFz"),r=t("xrDH"),o=(t.n(r),function(){function e(e){this._reqService=e,this._apiBase="client/"}return e.prototype.save=function(e,n,t){return r.merge(t,{modelId:e}),this._reqService.post(this._apiBase+n+"_comments/save",t)},e.prototype.remove=function(e,n){return this._reqService.post(this._apiBase+n+"_comments/delete",{id:e})},e.ctorParameters=function(){return[{type:l.a}]},e}())},SQMj:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){return function(){}}()},SQPZ:function(e,n,t){"use strict";t.d(n,"a",function(){return h});var l=t("BkNc"),r=t("bm2B"),o=t("0WLp"),i=t("56Rf"),u=t("ZV8k"),a=t("oRYE"),s=t("2tNT"),c=t("KBuQ"),d=t("g51S"),f=t("JNkf"),p=t("xrDH"),h=(t.n(p),function(){function e(e,n,t,l,r,o,i,u){this._routeService=e,this._state=n,this._route=t,this.fb=l,this.toastyService=r,this.activeModal=o,this.issueService=i,this.privilegeService=u,this.eventCode="IssueCreate",this.issue={},this.issuePropMap={},this.page={},this.validateMsg={},this.next=!1,this.formErrors=[],this.canCreate=this.privilegeService.hasPrivilege("issue-maintain"),this.loadData(),this.buildForm()}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.loadData=function(){var e=this;this.issueService.create().subscribe(function(n){e.issue=n.data,e.issuePropMap=n.issuePropMap,e.page=n.page,e.onValueChanged()})},e.prototype.save=function(){var e=this,n=p.clone(this.issue);this.issueService.save(n,this.page.id).subscribe(function(n){1==n.code&&e.activeModal.close({act:"save",id:n.id,success:!0})})},e.prototype.cancel=function(){this.activeModal.dismiss({act:"cancel"})},e.prototype.ngOnDestroy=function(){},e.prototype.buildForm=function(){var e=this;this.form=this.fb.group({next:[]}),this.form.valueChanges.debounceTime(a.a.DebounceTime).subscribe(function(n){return e.onValueChanged(n)}),this.onValueChanged()},e.prototype.onValueChanged=function(e){console.log("onValueChanged"),this.formErrors=s.a.genMsg(this.form,this.validateMsg,[])},e.ctorParameters=function(){return[{type:c.a},{type:u.a},{type:l.a},{type:r.e},{type:i.b},{type:o.b},{type:d.a},{type:f.a}]},e}())},TJST:function(e,n,t){"use strict";var l=t("/oeL"),r=t("vvWA"),o=t("4ITx");t.d(n,"a",function(){return u}),n.b=a;var i=[[".design-progress[_ngcontent-%COMP%]{padding:10px}.design-progress[_ngcontent-%COMP%]   .progress-chart[_ngcontent-%COMP%]{height:200px}"]],u=l["\u0275crt"]({encapsulation:0,styles:i,data:{}});function a(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","design-progress"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[["class","progress-chart"],["echarts",""]],null,[["window","resize"]],function(e,n,t){var r=!0;"window:resize"===n&&(r=!1!==l["\u0275nov"](e,3).onWindowResize(t)&&r);return r},null,null)),l["\u0275did"](335872,null,0,r.a,[l.ElementRef,l.Renderer,l.NgZone],{options:[0,"options"]},null),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n\n\n"]))],function(e,n){e(n,3,0,n.component.chartOption)},null)}l["\u0275ccf"]("design-progress",o.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"design-progress",[],null,null,null,a,u)),l["\u0275did"](57344,null,0,o.a,[],null,null)],function(e,n){e(n,1,0)},null)},{showTitle:"showTitle",data:"data"},{},[])},U80n:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("xrDH"),r=(t.n(l),function(){function e(){}return e.prototype.transform=function(e,n){console.log("***",e),l.isArray(n)||(n=l.union([],[n]));var t=[];for(var r in e)t.push({key:r,value:e[r]});return t},e}())},UX2Y:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){return function(){}}()},UkLj:function(e,n,t){"use strict";t.d(n,"b",function(){return i});var l=t("KGm0"),r=t("vatH"),o=t("gsT+");t.d(n,"a",function(){return o.a});var i=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[l.a,r.a]}},e}()},V1EX:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("/oeL"),r=t("0hen"),o=t("0WLp"),i=function(){function e(e,n){this.modalService=e,this.compiler=n}return e.prototype.genPage=function(e){this.compiler.clearCacheFor(r.a);var n=this.modalService.open(r.a,{windowClass:"pop-modal"});return n.componentInstance.issue=e,n},e.ctorParameters=function(){return[{type:o.e},{type:l.Compiler}]},e}()},V8QN:function(e,n,t){"use strict";var l=function(){function e(){}return e.getMimeClass=function(e){var n="application";return-1!==this.mime_psd.indexOf(e.type)?n="image":e.type.match("image.*")?n="image":e.type.match("video.*")?n="video":e.type.match("audio.*")?n="audio":"application/pdf"===e.type?n="pdf":-1!==this.mime_compress.indexOf(e.type)?n="compress":-1!==this.mime_doc.indexOf(e.type)?n="doc":-1!==this.mime_xsl.indexOf(e.type)?n="xls":-1!==this.mime_ppt.indexOf(e.type)&&(n="ppt"),"application"===n&&(n=this.fileTypeDetection(e.name)),n},e.fileTypeDetection=function(e){var n={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},t=e.split(".");if(t.length<2)return"application";var l=t[t.length-1].toLowerCase();return void 0===n[l]?"application":n[l]},e}();l.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],l.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],l.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],l.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],l.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream"],n.FileType=l},VBZG:function(e,n,t){"use strict";t("oDPs");var l=t("MxAn");t("SQMj");t.d(n,"a",function(){return l.a})},VQ7i:function(e,n,t){"use strict";var l=t("/oeL"),r=t("vvWA"),o=t("fi61");t.d(n,"a",function(){return u}),n.b=a;var i=[[".issue-trend[_ngcontent-%COMP%]{padding:10px}.issue-trend[_ngcontent-%COMP%]   .progress-chart[_ngcontent-%COMP%]{height:200px}"]],u=l["\u0275crt"]({encapsulation:0,styles:i,data:{}});function a(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","issue-trend"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[["class","progress-chart"],["echarts",""]],null,[["window","resize"]],function(e,n,t){var r=!0;"window:resize"===n&&(r=!1!==l["\u0275nov"](e,3).onWindowResize(t)&&r);return r},null,null)),l["\u0275did"](335872,null,0,r.a,[l.ElementRef,l.Renderer,l.NgZone],{options:[0,"options"]},null),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n\n\n"]))],function(e,n){e(n,3,0,n.component.chartOption)},null)}l["\u0275ccf"]("issue-trend",o.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"issue-trend",[],null,null,null,a,u)),l["\u0275did"](57344,null,0,o.a,[],null,null)],function(e,n){e(n,1,0)},null)},{title:"title",data:"data"},{},[])},VeFf:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var l,r=t("CPp0"),o=t("5v8a"),i=(t.n(o),t("xpf9")),u=(t.n(i),t("HDzC")),a=this&&this.__extends||(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}l(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),s=function(e){function n(n){var t=e.call(this)||this;return t.http=n,t._urlFormater=null,t._dataField=null,t}return a(n,e),n.prototype.remoteUrl=function(e){return this._remoteUrl=e,this},n.prototype.urlFormater=function(e){this._urlFormater=e},n.prototype.dataField=function(e){this._dataField=e},n.prototype.headers=function(e){this._headers=e},n.prototype.search=function(e){var n=this;this.cancel();var t="";t=this._urlFormater?this._urlFormater(e):this._remoteUrl+encodeURIComponent(e),this.remoteSearch=this.http.get(t,{headers:this._headers||new r.d}).map(function(e){return e.json()}).map(function(t){var l=n.extractValue(t,n._dataField);return n.extractMatches(l,e)}).map(function(e){var t=n.processResults(e);return n.next(t),t}).catch(function(e){return n.error(e),null}).subscribe()},n.prototype.cancel=function(){this.remoteSearch&&this.remoteSearch.unsubscribe()},n}(u.a)},Vnhz:function(e,n,t){"use strict";t.d(n,"a",function(){return u}),n.b=p;var l=t("/oeL"),r=t("qbdv"),o=t("Hjei"),i=t("+E40"),u=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function a(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](0,null,null,0))],null,null)}function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"a",[["class","nav-link"],["href",""],["role","tab"]],[[8,"id",0],[2,"active",null],[2,"disabled",null],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0]],[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==!!r.select(e.context.$implicit.id)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          ",""])),(e()(),l["\u0275and"](8388608,null,null,1,null,a)),l["\u0275did"](270336,null,0,r.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){e(n,5,0,null==n.context.$implicit.titleTpl?null:n.context.$implicit.titleTpl.templateRef)},function(e,n){var t=n.component;e(n,2,0,n.context.$implicit.id,n.context.$implicit.id===t.activeId,n.context.$implicit.disabled,n.context.$implicit.disabled?"-1":void 0,t.destroyOnHide&&n.context.$implicit.id!==t.activeId?null:n.context.$implicit.id+"-panel",n.context.$implicit.id===t.activeId,n.context.$implicit.disabled),e(n,3,0,n.context.$implicit.title)})}function c(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](0,null,null,0))],null,null)}function d(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"div",[["role","tabpanel"]],[[8,"className",0],[1,"aria-labelledby",0],[8,"id",0],[1,"aria-expanded",0]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275and"](8388608,null,null,1,null,c)),l["\u0275did"](270336,null,0,r.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),l["\u0275ted"](null,["\n        "]))],function(e,n){e(n,3,0,n.parent.context.$implicit.contentTpl.templateRef)},function(e,n){var t=n.component;e(n,0,0,l["\u0275inlineInterpolate"](1,"tab-pane ",n.parent.context.$implicit.id===t.activeId?"active":null,""),n.parent.context.$implicit.id,l["\u0275inlineInterpolate"](1,"",n.parent.context.$implicit.id,"-panel"),n.parent.context.$implicit.id===t.activeId)})}function f(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,d)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){var t=n.component;e(n,2,0,!t.destroyOnHide||n.context.$implicit.id===t.activeId)},null)}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,4,"ul",[["role","tablist"]],[[8,"className",0]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,s)),l["\u0275did"](401408,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","tab-content"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,f)),l["\u0275did"](401408,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){var t=n.component;e(n,4,0,t.tabs),e(n,10,0,t.tabs)},function(e,n){var t=n.component;e(n,1,0,"nav nav-"+t.type+("horizontal"==t.orientation?" "+t.justifyClass:" flex-column"))})}l["\u0275ccf"]("ngb-tabset",o.d,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,2,"ngb-tabset",[],null,null,null,p,u)),l["\u0275did"](1073152,null,1,o.d,[i.a],null,null),l["\u0275qud"](301989888,1,{tabs:1})],null,null)},{activeId:"activeId",destroyOnHide:"destroyOnHide",justify:"justify",orientation:"orientation",type:"type"},{tabChange:"tabChange"},[])},VnwS:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l,r=t("UX2Y"),o=this&&this.__extends||(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}l(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=function(e){function n(){return e.call(this)||this}return o(n,e),n.ctorParameters=function(){return[]},n}(r.a)},VpOg:function(e,n,t){"use strict";var l=t("/oeL"),r=t("qbdv"),o=t("bm2B"),i=t("QZuO");t.d(n,"a",function(){return a}),n.b=y;var u=[[".search-select[_ngcontent-%COMP%]   ul.select-choices[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;border-radius:2px;background-color:#fff;height:auto!important;margin:0;padding:0 5px 0 0;position:relative;border:1px solid #e5e5e5;cursor:text;overflow:hidden}.search-select[_ngcontent-%COMP%]   ul.select-choices[_ngcontent-%COMP%]   li.select-search-choice[_ngcontent-%COMP%]{float:left;list-style:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;border:1px solid #e5e5e5;border-radius:3px;padding:3px 5px 3px 0;position:relative;margin:5px 0 5px 8px;box-shadow:none;color:#5c5c5c;line-height:22px;background-color:#fafafa}.search-select[_ngcontent-%COMP%]   ul.select-choices[_ngcontent-%COMP%]   li.select-search-choice[_ngcontent-%COMP%]   .fa.fa-times[_ngcontent-%COMP%]{padding:0 3px 0 8px}.search-select[_ngcontent-%COMP%]   ul.select-choices[_ngcontent-%COMP%]   li.select-search-field[_ngcontent-%COMP%]{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex}.search-select[_ngcontent-%COMP%]   ul.select-choices[_ngcontent-%COMP%]   li.select-search-field[_ngcontent-%COMP%]   .select-offscreen[_ngcontent-%COMP%]:focus{clip:rect(0 0 0 0)!important;width:1px!important;height:1px!important;border:0!important;margin:0!important;padding:0!important;overflow:hidden!important;position:absolute!important;outline:0!important;left:0!important;top:0!important}.search-select[_ngcontent-%COMP%]   ul.select-choices[_ngcontent-%COMP%]   li.select-search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{-ms-flex:1;flex:1;padding:8px;height:auto;margin:1px 0;color:#666;outline:0;border:0;box-shadow:none;background:transparent!important}.search-select[_ngcontent-%COMP%]   .select-drop[_ngcontent-%COMP%]{position:relative}.search-select[_ngcontent-%COMP%]   .select-drop[_ngcontent-%COMP%]   .select-results[_ngcontent-%COMP%]{position:absolute;margin:0;padding:5px;top:100%;left:0;z-index:1000;float:left;width:100%;color:#292b2c;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:5px}.search-select[_ngcontent-%COMP%]   .select-drop[_ngcontent-%COMP%]   .select-results[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;margin:1px;padding:5px;cursor:pointer;line-height:34px;font-size:13px}.search-select[_ngcontent-%COMP%]   .select-drop[_ngcontent-%COMP%]   .select-results[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{margin-right:5px;height:34px;width:34px;font-size:20px;text-align:center}.search-select[_ngcontent-%COMP%]   .select-drop[_ngcontent-%COMP%]   .select-results[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%], .search-select[_ngcontent-%COMP%]   .select-drop[_ngcontent-%COMP%]   .select-results[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{-ms-flex:1;flex:1}.search-select[_ngcontent-%COMP%]   .select-drop[_ngcontent-%COMP%]   .select-results[_ngcontent-%COMP%]   .select-result.active[_ngcontent-%COMP%]{background-color:#eceeef}.search-select[_ngcontent-%COMP%]   .select-drop[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:2px;right:2px;z-index:9999;width:25px;height:25px;font-size:15px;line-height:25px;text-align:center;background-color:transparent}"]],a=l["\u0275crt"]({encapsulation:0,styles:u,data:{}});function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""]))],null,function(e,n){e(n,1,0,n.parent.context.$implicit.name)})}function c(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""]))],null,function(e,n){e(n,1,0,n.parent.context.$implicit.nickname)})}function d(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,9,"li",[["class","select-search-choice"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"span",[["class","fa fa-times pointer"],["tabindex","-1"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.remove(e.context.$implicit)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,s)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,c)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){e(n,5,0,"group"==n.context.$implicit.type||"tag"==n.context.$implicit.type||"issue"==n.context.$implicit.type),e(n,8,0,"user"==n.context.$implicit.type)},null)}function f(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,0,"span",[["class","fa fa-user"]],null,null,null,null,null))],null,null)}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,0,"span",[["class","fa fa-users"]],null,null,null,null,null))],null,null)}function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,0,"span",[["class","fa fa-tag"]],null,null,null,null,null))],null,null)}function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,0,"span",[["class","fa fa-bug"]],null,null,null,null,null))],null,null)}function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","user-name"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n          "]))],null,function(e,n){e(n,3,0,n.parent.context.$implicit.nickname),e(n,6,0,n.parent.context.$implicit.email)})}function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","group-name"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n          "]))],null,function(e,n){e(n,3,0,n.parent.context.$implicit.name)})}function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,22,"div",[["class","select-result"]],[[2,"active",null]],[[null,"mouseenter"],[null,"click"]],function(e,n,t){var l=!0,r=e.component;"mouseenter"===n&&(l=!1!==r.onMouseEnter(t,e.context.$implicit)&&l);"click"===n&&(l=!1!==r.onSelectItem(t,e.context.$implicit)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,13,"div",[["class","image"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275and"](8388608,null,null,1,null,f)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275and"](8388608,null,null,1,null,p)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275and"](8388608,null,null,1,null,h)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275and"](8388608,null,null,1,null,g)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275and"](8388608,null,null,1,null,m)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275and"](8388608,null,null,1,null,v)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n        "]))],function(e,n){e(n,5,0,"user"==n.context.$implicit.type),e(n,8,0,"group"==n.context.$implicit.type),e(n,11,0,"tag"==n.context.$implicit.type),e(n,14,0,"issue"==n.context.$implicit.type),e(n,18,0,"user"==n.context.$implicit.type),e(n,21,0,"group"==n.context.$implicit.type||"tag"==n.context.$implicit.type||"issue"==n.context.$implicit.type)},function(e,n){var t=n.component;e(n,0,0,(null==t.selectedModel?null:t.selectedModel.id)==n.context.$implicit.id)})}function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,40,"div",[["class","search-select"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,37,"form",[["class","my-validate-form form-add"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var r=!0;"submit"===n&&(r=!1!==l["\u0275nov"](e,4).onSubmit(t)&&r);"reset"===n&&(r=!1!==l["\u0275nov"](e,4).onReset()&&r);return r},null,null)),l["\u0275did"](8192,null,0,o.y,[],null,null),l["\u0275did"](270336,null,0,o.h,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](1024,null,o.c,null,[o.h]),l["\u0275did"](8192,null,0,o.o,[o.c],null,null),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275eld"](0,null,null,16,"ul",[["class","select-choices"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,d)),l["\u0275did"](401408,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,10,"li",[["class","select-search-field"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"label",[["class","select-offscreen"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,[["searchInput",1]],null,5,"input",[["autocapitalize","off"],["autocomplete","off"],["autocorrect","off"],["class","select-input"],["formControlName","searchInput"],["name","searchInput"],["placeholder","\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22"],["spellcheck","false"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,18)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,18).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,18)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,18)._compositionEnd(t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(o.searchModel.keywords=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,o.d,[l.Renderer,l.ElementRef,[2,o.a]],null,null),l["\u0275prd"](512,null,o.l,function(e){return[e]},[o.d]),l["\u0275did"](335872,null,0,o.g,[[3,o.c],[8,null],[8,null],[2,o.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,o.m,null,[o.g]),l["\u0275did"](8192,null,0,o.n,[o.m],null,null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","select-drop"]],[[2,"hidden",null]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","select-results"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,b)),l["\u0275did"](401408,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,3,"div",[["class","close"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel(t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"span",[["class","fa fa-times"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,4,0,t.formSelection),e(n,11,0,t.selectedModels);e(n,20,0,"searchInput",t.searchModel.keywords),e(n,31,0,t.searchResult)},function(e,n){var t=n.component;e(n,2,0,l["\u0275nov"](n,6).ngClassUntouched,l["\u0275nov"](n,6).ngClassTouched,l["\u0275nov"](n,6).ngClassPristine,l["\u0275nov"](n,6).ngClassDirty,l["\u0275nov"](n,6).ngClassValid,l["\u0275nov"](n,6).ngClassInvalid,l["\u0275nov"](n,6).ngClassPending),e(n,17,0,l["\u0275nov"](n,22).ngClassUntouched,l["\u0275nov"](n,22).ngClassTouched,l["\u0275nov"](n,22).ngClassPristine,l["\u0275nov"](n,22).ngClassDirty,l["\u0275nov"](n,22).ngClassValid,l["\u0275nov"](n,22).ngClassInvalid,l["\u0275nov"](n,22).ngClassPending),e(n,26,0,!t.searchResult)})}l["\u0275ccf"]("search-select",i.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"search-select",[],null,null,null,y,a)),l["\u0275did"](57344,null,0,i.a,[o.e],null,null)],function(e,n){e(n,1,0)},null)},{searchModel:"searchModel",searchResult:"searchResult",selectedModels:"selectedModels",selectSingle:"selectSingle"},{searchModel:"searchModel",selectedModels:"selectedModels",searchChange:"searchChange"},[])},Wq5w:function(e,n,t){"use strict";var l=t("/oeL"),r=t("qbdv"),o=t("AeaD"),i=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function u(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,3,"span",[["class","ng2-smart-action link transparent"],["href","#"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,0,"span",[["class","fa fa-arrow-up ionic-icon near"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "]))],null,null)}function a(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,3,"span",[["class","ng2-smart-action link"],["href","#"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.onUp(t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,0,"span",[["class","fa fa-arrow-up ionic-icon near"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "]))],null,null)}function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,3,"span",[["class","ng2-smart-action link transparent"],["href","#"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,0,"span",[["class","fa fa-arrow-down ionic-icon near"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "]))],null,null)}function c(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,3,"span",[["class","ng2-smart-action link"],["href","#"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.onDown(t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,0,"span",[["class","fa fa-arrow-down ionic-icon near"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "]))],null,null)}function d(e){return l["\u0275vid"](2,[(e()(),l["\u0275ted"](null,["\n    \n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,u)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,a)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n    \n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,s)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,c)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n    \n  "]))],function(e,n){var t=n.component;e(n,2,0,t.isFirst),e(n,5,0,!t.isFirst),e(n,8,0,t.isLast),e(n,11,0,!t.isLast)},null)}l["\u0275ccf"]("ng2-st-tbody-change-order",o.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"ng2-st-tbody-change-order",[],null,null,null,d,i)),l["\u0275did"](286720,null,0,o.a,[],null,null)],null,null)},{grid:"grid",row:"row",source:"source",upConfirm:"upConfirm",downConfirm:"downConfirm",isFirst:"isFirst",isLast:"isLast"},{},[]);var f=t("FuQ+"),p=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(e){return l["\u0275vid"](2,[(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[["class","pre"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n    "]))],null,function(e,n){e(n,4,0,n.component.cell.getValue())})}l["\u0275ccf"]("table-cell-view-mode",f.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"table-cell-view-mode",[],null,null,null,h,p)),l["\u0275did"](24576,null,0,f.a,[],null,null)],null,null)},{cell:"cell"},{},[]);var g=["[_nghost-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;line-height:normal;padding:.375em .75em}"],m=t("3Zj8"),v=t("bm2B"),b=[g],y=l["\u0275crt"]({encapsulation:0,styles:b,data:{}});function C(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,8,"textarea",[["class","form-control"],["id","test-step-input"],["maxlength","9999"]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,2)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,2).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,2)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,2)._compositionEnd(t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(o.cell.newValue=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,v.d,[l.Renderer,l.ElementRef,[2,v.a]],null,null),l["\u0275did"](270336,null,0,v.j,[],{maxlength:[0,"maxlength"]},null),l["\u0275prd"](512,null,v.k,function(e){return[e]},[v.j]),l["\u0275prd"](512,null,v.l,function(e){return[e]},[v.d]),l["\u0275did"](335872,null,0,v.p,[[8,null],[2,v.k],[8,null],[2,v.l]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,v.m,null,[v.p]),l["\u0275did"](8192,null,0,v.n,[v.m],null,null),(e()(),l["\u0275ted"](null,["    "])),(e()(),l["\u0275ted"](null,["\n    "]))],function(e,n){var t=n.component;e(n,3,0,"9999"),e(n,6,0,t.cell.getId(),!t.cell.isEditable(),t.cell.newValue)},function(e,n){e(n,1,0,n.component.cell.getTitle(),l["\u0275nov"](n,3).maxlength?l["\u0275nov"](n,3).maxlength:null,l["\u0275nov"](n,8).ngClassUntouched,l["\u0275nov"](n,8).ngClassTouched,l["\u0275nov"](n,8).ngClassPristine,l["\u0275nov"](n,8).ngClassDirty,l["\u0275nov"](n,8).ngClassValid,l["\u0275nov"](n,8).ngClassInvalid,l["\u0275nov"](n,8).ngClassPending)})}l["\u0275ccf"]("textarea-editor",m.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"textarea-editor",[],null,null,null,C,y)),l["\u0275did"](24576,null,0,m.a,[],null,null)],null,null)},{cell:"cell"},{},[]);var w=t("VnwS"),x=[g],_=l["\u0275crt"]({encapsulation:0,styles:x,data:{}});function A(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,7,"input",[["class","form-control"],["maxlength","255"]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,2)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,2).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,2)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,2)._compositionEnd(t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(o.cell.newValue=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,v.d,[l.Renderer,l.ElementRef,[2,v.a]],null,null),l["\u0275did"](270336,null,0,v.j,[],{maxlength:[0,"maxlength"]},null),l["\u0275prd"](512,null,v.k,function(e){return[e]},[v.j]),l["\u0275prd"](512,null,v.l,function(e){return[e]},[v.d]),l["\u0275did"](335872,null,0,v.p,[[8,null],[2,v.k],[8,null],[2,v.l]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,v.m,null,[v.p]),l["\u0275did"](8192,null,0,v.n,[v.m],null,null),(e()(),l["\u0275ted"](null,["\n    "]))],function(e,n){var t=n.component;e(n,3,0,"255"),e(n,6,0,t.cell.getId(),!t.cell.isEditable(),t.cell.newValue)},function(e,n){e(n,1,0,n.component.cell.getTitle(),l["\u0275nov"](n,3).maxlength?l["\u0275nov"](n,3).maxlength:null,l["\u0275nov"](n,8).ngClassUntouched,l["\u0275nov"](n,8).ngClassTouched,l["\u0275nov"](n,8).ngClassPristine,l["\u0275nov"](n,8).ngClassDirty,l["\u0275nov"](n,8).ngClassValid,l["\u0275nov"](n,8).ngClassInvalid,l["\u0275nov"](n,8).ngClassPending)})}l["\u0275ccf"]("input-editor",w.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"input-editor",[],null,null,null,A,_)),l["\u0275did"](24576,null,0,w.a,[],null,null)],null,null)},{cell:"cell"},{},[]);var k=t("JLi4"),O=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function S(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,2,"textarea-editor",[],null,null,null,C,y)),l["\u0275did"](24576,null,0,m.a,[],{cell:[0,"cell"]},null),(e()(),l["\u0275ted"](null,["\n    "]))],function(e,n){e(n,1,0,n.component.cell)},null)}function E(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,2,"input-editor",[],null,null,null,A,_)),l["\u0275did"](24576,null,0,w.a,[],{cell:[0,"cell"]},null),(e()(),l["\u0275ted"](null,["\n    "]))],function(e,n){e(n,1,0,n.component.cell)},null)}function R(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,8,"div",[],null,null,null,null,null)),l["\u0275did"](8192,null,0,r.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,S)),l["\u0275did"](139264,null,0,r.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,E)),l["\u0275did"](8192,null,0,r.NgSwitchDefault,[l.ViewContainerRef,l.TemplateRef,r.NgSwitch],null,null),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){e(n,1,0,n.component.getEditorType());e(n,4,0,"textarea")},null)}l["\u0275ccf"]("table-cell-default-editor",k.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"table-cell-default-editor",[],null,null,null,R,O)),l["\u0275did"](24576,null,0,k.a,[],null,null)],null,null)},{cell:"cell"},{},[]);var P=t("gRmo"),M=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function I(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,5,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,2,"table-cell-default-editor",[],null,null,null,R,O)),l["\u0275did"](24576,null,0,k.a,[],{cell:[0,"cell"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "]))],function(e,n){e(n,4,0,n.component.cell)},null)}l["\u0275ccf"]("table-cell-edit-mode",P.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"table-cell-edit-mode",[],null,null,null,I,M)),l["\u0275did"](24576,null,0,P.a,[],null,null)],null,null)},{cell:"cell"},{},[]);var D=t("8vzS"),T=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function N(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"table-cell-view-mode",[],null,null,null,h,p)),l["\u0275did"](24576,null,0,f.a,[],{cell:[0,"cell"]},null)],function(e,n){e(n,1,0,n.component.cell)},null)}function B(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,2,"table-cell-edit-mode",[],null,null,null,I,M)),l["\u0275did"](24576,null,0,P.a,[],{cell:[0,"cell"]},null),(e()(),l["\u0275ted"](null,["\n    "]))],function(e,n){e(n,1,0,n.component.cell)},null)}function F(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,N)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,B)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){var t=n.component;e(n,2,0,!t.isInEditing),e(n,5,0,t.isInEditing)},null)}l["\u0275ccf"]("ng2-smart-table-cell",D.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"ng2-smart-table-cell",[],null,null,null,F,T)),l["\u0275did"](24576,null,0,D.a,[],null,null)],null,null)},{grid:"grid",row:"row",isNew:"isNew",cell:"cell",isInEditing:"isInEditing"},{},[]);var L=t("HpTF"),H=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function z(e){return l["\u0275vid"](2,[(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,16,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,3,"a",[["class","ng2-smart-action ng2-smart-action-edit-edit"],["href","#"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.onCreate(t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n      \n      "])),(e()(),l["\u0275eld"](0,null,null,3,"a",[["class","ng2-smart-action ng2-smart-action-edit-edit"],["href","#"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.onEdit(t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-pencil"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n      \n      "])),(e()(),l["\u0275eld"](0,null,null,3,"a",[["class","ng2-smart-action ng2-smart-action-delete-delete"],["href","#"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.onDelete(t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "]))],null,null)}l["\u0275ccf"]("ng2-st-tbody-add-edit-delete",L.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"ng2-st-tbody-add-edit-delete",[],null,null,null,z,H)),l["\u0275did"](286720,null,0,L.a,[],null,null)],null,null)},{grid:"grid",row:"row",source:"source",createConfirm:"createConfirm",deleteConfirm:"deleteConfirm"},{},[]);var V=t("x58Y"),q=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function j(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,3,"a",[["class","ng2-smart-action ng2-smart-action-edit-save"],["href","#"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.onSave(t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,3,"a",[["class","ng2-smart-action ng2-smart-action-edit-cancel"],["href","#"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.onCancelEdit(t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "]))],null,null)}l["\u0275ccf"]("ng2-st-tbody-create-cancel",V.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"ng2-st-tbody-create-cancel",[],null,null,null,j,q)),l["\u0275did"](286720,null,0,V.a,[],null,null)],null,null)},{grid:"grid",row:"row",saveConfirm:"saveConfirm",deleteConfirm:"deleteConfirm"},{},[]);var W=t("zZUg"),U=[["[_nghost-%COMP%]   .ng2-smart-row.selected[_ngcontent-%COMP%]{background:rgba(0,0,0,.05)}[_nghost-%COMP%]   .ng2-smart-row[_ngcontent-%COMP%]   .ng2-smart-actions[_ngcontent-%COMP%]{width:50px;text-align:center}[_nghost-%COMP%]   .ng2-smart-row[_ngcontent-%COMP%]   .ng2-smart-actions.ng2-smart-action-multiple-select[_ngcontent-%COMP%]{text-align:center}"]],Q=l["\u0275crt"]({encapsulation:0,styles:U,data:{}});function G(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,4,"td",[["style","border-top: 0px;"]],[[1,"colspan",0]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"a",[["class",""],["href","#"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.onCreate(t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n      \u6dfb\u52a0\u6b65\u9aa4\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n"]))],null,function(e,n){e(n,2,0,5)})}function K(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,13,"tr",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,1,"th",[],[[1,"colspan",0]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\u7f16\u53f7"])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u64cd\u4f5c\u6b65\u9aa4"])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u9884\u671f\u7ed3\u679c"])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u64cd\u4f5c"])),(e()(),l["\u0275ted"](null,["\n"]))],null,function(e,n){e(n,2,0,2)})}function Y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,2,"ng2-st-tbody-change-order",[],null,null,null,d,i)),l["\u0275did"](286720,null,0,o.a,[],{grid:[0,"grid"],row:[1,"row"],source:[2,"source"],upConfirm:[3,"upConfirm"],downConfirm:[4,"downConfirm"],isFirst:[5,"isFirst"],isLast:[6,"isLast"]},null),(e()(),l["\u0275ted"](null,["\n    "]))],function(e,n){var t=n.component;e(n,1,0,t.grid,n.parent.parent.context.$implicit,t.source,t.upConfirm,t.downConfirm,0==n.parent.parent.context.index,n.parent.parent.context.index==t.grid.getRows().length-1)},null)}function Z(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,5,"td",[["class","ng2-smart-seq-act"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,Y)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,[" "])),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){e(n,3,0,!n.parent.context.$implicit.isInEditing&&n.parent.context.$implicit.hover)},null)}function J(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,11,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,8,"td",[["class","pointer"]],[[2,"has-border",null]],[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.onEdit(e.parent.parent.context.$implicit)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,5,"div",[["class","my-cols"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,2,"ng2-smart-table-cell",[["class","my-col"]],null,null,null,F,T)),l["\u0275did"](24576,null,0,D.a,[],{grid:[0,"grid"],row:[1,"row"],cell:[2,"cell"],isInEditing:[3,"isInEditing"]},null),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "]))],function(e,n){e(n,7,0,n.component.grid,n.parent.parent.context.$implicit,n.parent.context.$implicit,n.parent.parent.context.$implicit.isInEditing)},function(e,n){e(n,2,0,1==n.parent.context.index)})}function X(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,J)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){e(n,3,0,"ordr"!=n.context.$implicit.column.id)},null)}function $(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,2,"ng2-st-tbody-add-edit-delete",[],null,null,null,z,H)),l["\u0275did"](286720,null,0,L.a,[],{grid:[0,"grid"],row:[1,"row"],source:[2,"source"],createConfirm:[3,"createConfirm"],deleteConfirm:[4,"deleteConfirm"]},null),(e()(),l["\u0275ted"](null,["\n    "]))],function(e,n){var t=n.component;e(n,1,0,t.grid,n.parent.parent.context.$implicit,t.source,t.createConfirm,t.deleteConfirm)},null)}function ee(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,5,"td",[["class","ng2-smart-actions"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n   "])),(e()(),l["\u0275and"](8388608,null,null,1,null,$)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,[" "])),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){e(n,3,0,n.parent.context.$implicit.hover)},null)}function ne(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,6,"td",[["class","ng2-smart-actions"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,2,"ng2-st-tbody-create-cancel",[],null,null,null,j,q)),l["\u0275did"](286720,null,0,V.a,[],{grid:[0,"grid"],row:[1,"row"],saveConfirm:[2,"saveConfirm"],deleteConfirm:[3,"deleteConfirm"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["  "])),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){var t=n.component;e(n,3,0,t.grid,n.parent.context.$implicit,t.saveConfirm,t.deleteConfirm)},null)}function te(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,21,"tr",[],null,[[null,"mouseenter"],[null,"mouseleave"]],function(e,n,t){var l=!0,r=e.component;"mouseenter"===n&&(l=!1!==r.onHoverRow(t,e.context.$implicit)&&l);"mouseleave"===n&&(l=!1!==r.onOutRow(t,e.context.$implicit)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,Z)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,6,"td",[["class","ng2-smart-seq-numb"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,2,"ng2-smart-table-cell",[],null,null,null,F,T)),l["\u0275did"](24576,null,0,D.a,[],{grid:[0,"grid"],row:[1,"row"],cell:[2,"cell"],isInEditing:[3,"isInEditing"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,[" "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,X)),l["\u0275did"](401408,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,ee)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,ne)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n"]))],function(e,n){var t=n.component;e(n,3,0,null==t.grid?null:t.grid.settings.canEdit);e(n,8,0,t.grid,n.context.$implicit,n.context.$implicit.cells[0],!1),e(n,14,0,n.context.$implicit.cells),e(n,17,0,(null==t.grid?null:t.grid.settings.canEdit)&&!n.context.$implicit.isInEditing),e(n,20,0,(null==t.grid?null:t.grid.settings.canEdit)&&n.context.$implicit.isInEditing)},null)}function le(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](8388608,null,null,1,null,G)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n"])),(e()(),l["\u0275and"](8388608,null,null,1,null,K)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n"])),(e()(),l["\u0275and"](8388608,null,null,1,null,te)),l["\u0275did"](401408,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,1,0,null==t.grid?null:t.grid.settings.canEdit),e(n,4,0,null==t.grid?null:t.grid.settings.canEdit),e(n,7,0,null==t.grid?null:t.grid.getRows())},null)}l["\u0275ccf"]("[ng2-st-tbody]",W.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"div",[["ng2-st-tbody",""]],null,null,null,le,Q)),l["\u0275did"](57344,null,0,W.a,[],null,null)],function(e,n){e(n,1,0)},null)},{grid:"grid",source:"source",rowClassFunction:"rowClassFunction",upConfirm:"upConfirm",downConfirm:"downConfirm",createConfirm:"createConfirm",saveConfirm:"saveConfirm",deleteConfirm:"deleteConfirm"},{},[]);var re=t("eXNI");t.d(n,"a",function(){return ie}),n.b=ue;var oe=[["[_nghost-%COMP%]     *{box-sizing:border-box}[_nghost-%COMP%]     button, [_nghost-%COMP%]     input, [_nghost-%COMP%]     optgroup, [_nghost-%COMP%]     select, [_nghost-%COMP%]     textarea{color:inherit;font:inherit;margin:0}[_nghost-%COMP%]     table{border-collapse:collapse;border-spacing:0;display:table;width:100%;max-width:100%;overflow:auto;word-break:normal;word-break:keep-all}[_nghost-%COMP%]     table tr th{text-align:center;font-weight:700}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th:first-child{text-align:center!important}[_nghost-%COMP%]     table tr td{vertical-align:middle;line-height:22px!important;border-bottom:1px solid #dcdcdc}[_nghost-%COMP%]     table tr td.ng2-smart-seq-act{width:70px}[_nghost-%COMP%]     table tr td.ng2-smart-seq-act .transparent{color:transparent!important;cursor:default!important}[_nghost-%COMP%]     table tr td.ng2-smart-seq-numb{vertical-align:top;width:50px}[_nghost-%COMP%]     table tr td.ng2-smart-actions{width:100px}[_nghost-%COMP%]     table tr td.has-border{border-right:1px solid #dcdcdc}[_nghost-%COMP%]     table tr td .my-cols{display:-ms-flexbox;display:flex}[_nghost-%COMP%]     table tr td .my-cols .my-ordr{width:50px}[_nghost-%COMP%]     table tr td .my-cols .my-col{-ms-flex:1;flex:1;margin:0 3px 0 0;text-align:left}[_nghost-%COMP%]     table tr td .my-cols .my-col .pre{margin:0 5px;white-space:pre-line;word-wrap:break-word;word-break:break-all}[_nghost-%COMP%]     table tr section{font-size:.75em;font-weight:700}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{margin:0;padding:5px}[_nghost-%COMP%]     a{margin:0 5px;text-decoration:none}[_nghost-%COMP%]     a:hover{text-decoration:underline}[_nghost-%COMP%]     .ng2-smart-actions-title-add{text-align:center!important}"]],ie=l["\u0275crt"]({encapsulation:0,styles:oe,data:{}});function ue(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,8,"div",[["class","steps-table"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,5,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,2,"tbody",[["ng2-st-tbody",""]],null,null,null,le,Q)),l["\u0275did"](57344,null,0,W.a,[],{grid:[0,"grid"],source:[1,"source"],upConfirm:[2,"upConfirm"],downConfirm:[3,"downConfirm"],createConfirm:[4,"createConfirm"],saveConfirm:[5,"saveConfirm"],deleteConfirm:[6,"deleteConfirm"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,5,0,t.grid,t.source,t.upConfirm,t.downConfirm,t.createConfirm,t.saveConfirm,t.deleteConfirm)},null)}l["\u0275ccf"]("steps-table",re.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"steps-table",[],null,null,null,ue,ie)),l["\u0275did"](286720,null,0,re.a,[],null,null)],null,null)},{source:"source",settings:"settings"},{custom:"custom",upConfirm:"upConfirm",downConfirm:"downConfirm",createConfirm:"createConfirm",saveConfirm:"saveConfirm",deleteConfirm:"deleteConfirm"},[])},X68L:function(e,n,t){"use strict";var l=this&&this.__decorate||function(e,n,t,l){var r,o=arguments.length,i=o<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,n,t,l);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(i=(o<3?r(i):o>3?r(n,t,i):r(n,t))||i);return o>3&&i&&Object.defineProperty(n,t,i),i},r=this&&this.__metadata||function(e,n){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,n)},o=t("/oeL"),i=t("9Kxs"),u=function(){function e(e){this.onFileSelected=new o.EventEmitter,this.element=e}return e.prototype.getOptions=function(){return this.uploader.options},e.prototype.getFilters=function(){return{}},e.prototype.isEmptyAfterSelection=function(){return!!this.element.nativeElement.attributes.multiple},e.prototype.onChange=function(){var e=this.element.nativeElement.files,n=this.getOptions(),t=this.getFilters();this.uploader.addToQueue(e,n,t),this.onFileSelected.emit(e),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")},e}();l([o.Input(),r("design:type",i.FileUploader)],u.prototype,"uploader",void 0),l([o.Output(),r("design:type",o.EventEmitter)],u.prototype,"onFileSelected",void 0),l([o.HostListener("change"),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",Object)],u.prototype,"onChange",null),u=l([o.Directive({selector:"[ng2FileSelect]"}),r("design:paramtypes",[o.ElementRef])],u),n.FileSelectDirective=u},YMsw:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var l=t("8vzS"),r=t("JLi4"),o=t("gRmo"),i=t("VnwS"),u=t("3Zj8"),a=t("FuQ+"),s=(l.a,r.a,o.a,i.a,u.a,a.a,function(){return function(){}}())},"Yn/t":function(e,n,t){"use strict";var l,r=t("4oBK"),o=t("4ito"),i=t("MYQ/"),u=t("/oeL"),a=this&&this.__extends||(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}l(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),s=function(e){function n(n,t,l,r){var o=e.call(this,n,t,l,r)||this;return o.onDragStart=new u.EventEmitter,o.onDragEnd=new u.EventEmitter,o.onDragSuccessCallback=new u.EventEmitter,o._defaultCursor=o._elem.style.cursor,o.dragEnabled=!0,o}return a(n,e),Object.defineProperty(n.prototype,"draggable",{set:function(e){this.dragEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropzones",{set:function(e){this.dropZones=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectallowed",{set:function(e){this.effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectcursor",{set:function(e){this.effectCursor=e},enumerable:!0,configurable:!0}),n.prototype._onDragStartCallback=function(e){this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this._elem.classList.add(this._config.onDragStartClass),this.onDragStart.emit({dragData:this.dragData,mouseEvent:e})},n.prototype._onDragEndCallback=function(e){this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this._elem.classList.remove(this._config.onDragStartClass),this.onDragEnd.emit({dragData:this.dragData,mouseEvent:e})},n.ctorParameters=function(){return[{type:u.ElementRef},{type:o.a},{type:r.a},{type:u.ChangeDetectorRef}]},n}(i.a),c=function(e){function n(n,t,l,r,o){return e.call(this,n,t,l,r,o)||this}return a(n,e),n.ctorParameters=function(){return[{type:u.ElementRef},{type:o.a},{type:r.a},{type:s},{type:u.ChangeDetectorRef}]},n}(i.b),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function l(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}(),f=function(e){function n(n,t,l,r){var o=e.call(this,n,t,l,r)||this;return o.onDropSuccess=new u.EventEmitter,o.onDragEnter=new u.EventEmitter,o.onDragOver=new u.EventEmitter,o.onDragLeave=new u.EventEmitter,o.dropEnabled=!0,o}return d(n,e),Object.defineProperty(n.prototype,"droppable",{set:function(e){this.dropEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowdrop",{set:function(e){this.allowDrop=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropzones",{set:function(e){this.dropZones=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectallowed",{set:function(e){this.effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectcursor",{set:function(e){this.effectCursor=e},enumerable:!0,configurable:!0}),n.prototype._onDragEnterCallback=function(e){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragEnterClass),this.onDragEnter.emit({dragData:this._dragDropService.dragData,mouseEvent:e}))},n.prototype._onDragOverCallback=function(e){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragOverClass),this.onDragOver.emit({dragData:this._dragDropService.dragData,mouseEvent:e}))},n.prototype._onDragLeaveCallback=function(e){this._dragDropService.isDragged&&(this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass),this.onDragLeave.emit({dragData:this._dragDropService.dragData,mouseEvent:e}))},n.prototype._onDropCallback=function(e){var n=e.dataTransfer;(this._dragDropService.isDragged||n&&n.files)&&(this.onDropSuccess.emit({dragData:this._dragDropService.dragData,mouseEvent:e}),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit({dragData:this._dragDropService.dragData,mouseEvent:e}),this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass))},n.ctorParameters=function(){return[{type:u.ElementRef},{type:o.a},{type:r.a},{type:u.ChangeDetectorRef}]},n}(i.a),p=t("xBY2");t.d(n,"a",function(){return g}),t.d(n,!1,function(){return i.a}),t.d(n,!1,function(){return i.b}),t.d(n,!1,function(){}),t.d(n,!1,function(){}),t.d(n,!1,function(){return r.a}),t.d(n,!1,function(){}),t.d(n,!1,function(){return o.c}),t.d(n,!1,function(){return o.a}),t.d(n,!1,function(){return o.d}),t.d(n,!1,function(){return o.b}),t.d(n,!1,function(){return s}),t.d(n,!1,function(){return c}),t.d(n,!1,function(){return f}),t.d(n,!1,function(){return p.b}),t.d(n,!1,function(){return p.a}),t.d(n,!1,function(){});var h=[r.a,{provide:o.a,useFactory:o.c},{provide:o.b,useFactory:o.d,deps:[r.a]}],g=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:h}},e}()},ZNgT:function(e,n,t){"use strict";var l=t("/oeL"),r=t("LJO5");t.d(n,"a",function(){return i}),n.b=u;var o=[[".field-label[_ngcontent-%COMP%]{width:100%;white-space:nowrap;text-overflow:clip;text-align:right;overflow-x:hidden}.field-label[_ngcontent-%COMP%]   .require[_ngcontent-%COMP%]{line-height:23px;color:red}"]],i=l["\u0275crt"]({encapsulation:0,styles:o,data:{}});function u(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"span",[["class","field-label label-show"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],null,function(e,n){e(n,3,0,n.component.elem.label)})}l["\u0275ccf"]("label-show",r.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"label-show",[],null,null,null,u,i)),l["\u0275did"](57344,null,0,r.a,[],null,null)],function(e,n){e(n,1,0)},null)},{elem:"elem"},{},[])},ZZZf:function(e,n,t){"use strict";var l=t("/oeL"),r=t("vvWA"),o=t("uSpx");t.d(n,"a",function(){return u}),n.b=a;var i=[[".issue-age[_ngcontent-%COMP%]{padding:10px}.issue-age[_ngcontent-%COMP%]   .process-chart[_ngcontent-%COMP%]{height:200px}"]],u=l["\u0275crt"]({encapsulation:0,styles:i,data:{}});function a(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","issue-age"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[["class","process-chart"],["echarts",""]],null,[["window","resize"]],function(e,n,t){var r=!0;"window:resize"===n&&(r=!1!==l["\u0275nov"](e,3).onWindowResize(t)&&r);return r},null,null)),l["\u0275did"](335872,null,0,r.a,[l.ElementRef,l.Renderer,l.NgZone],{options:[0,"options"]},null),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n\n\n"]))],function(e,n){e(n,3,0,n.component.chartOption)},null)}l["\u0275ccf"]("issue-age",o.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"issue-age",[],null,null,null,a,u)),l["\u0275did"](57344,null,0,o.a,[],null,null)],function(e,n){e(n,1,0)},null)},{title:"title",data:"data"},{},[])},ZrEx:function(e,n,t){"use strict";var l=t("oRYE"),r=t("pKgO"),o={},i=t("kUuJ");t.d(n,"a",function(){return l.a}),t.d(n,!1,function(){return r.a}),t.d(n,"c",function(){return o}),t.d(n,"b",function(){return i.c})},a1Di:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("/oeL"),r=t("oRYE"),o=t("JNkf"),i=function(){function e(e,n,t){this._privilegeService=e,this.element=n,this.renderer=t,this.eventCode="PrivilegeDirective",this.elem=n.nativeElement}return e.prototype.ngOnInit=function(){this.update()},e.prototype.ngOnChanges=function(e){e.myPrivs&&this.update()},e.prototype.update=function(){this.myPrivs&&0!=this.myPrivs.length||(this.myPrivs=r.a.PRJ_PRIVILEGES),this._privilegeService.hasPrivilege(this.privs,this.myPrivs)?this.renderer.setElementStyle(this.elem,"display","inline"):this.renderer.setElementStyle(this.elem,"display","none")},e.prototype.ngOnDestroy=function(){},e.ctorParameters=function(){return[{type:o.a},{type:l.ElementRef,decorators:[{type:l.Inject,args:[l.ElementRef]}]},{type:l.Renderer,decorators:[{type:l.Inject,args:[l.Renderer]}]}]},e}()},a5lJ:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("/oeL"),r=t("0WLp"),o=t("ZV8k"),i=function(){function e(e,n,t){this._state=e,this.modalService=n,this.injector=t,this.confirm=new l.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.showModal=function(e){var n=e?{windowClass:e}:{};this.modalRef=this.modalService.open(this.content,n)},e.prototype.closeModal=function(){this.modalRef.close()},e.prototype.onConfirm=function(e){this.confirm.emit(e)},e.prototype.getDismissReason=function(e){return e===r.a.ESC?"by pressing ESC":e===r.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.onModalShow=function(){},e.ctorParameters=function(){return[{type:o.a},{type:r.e},{type:l.Injector}]},e}()},b5Sx:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("ZV8k"),r=t("9GFz"),o=function(){function e(e,n){this._reqService=e,this._state=n,this._apiBase="client/project/"}return e.prototype.list=function(e){return this._reqService.post(this._apiBase+"list",e)},e.prototype.get=function(e){var n={projectId:e};return this._reqService.post(this._apiBase+"get",n)},e.prototype.getInfo=function(e){var n={projectId:e};return this._reqService.post(this._apiBase+"getInfo",n)},e.prototype.delete=function(e){var n={projectId:e};return this._reqService.post(this._apiBase+"delete",n)},e.prototype.view=function(e){var n={projectId:e};return this._reqService.post(this._apiBase+"view",n)},e.prototype.changeContext=function(e){var n={projectId:e};return this._reqService.post(this._apiBase+"changeContext",n)},e.prototype.initContext=function(e){var n={projectId:e};return this._reqService.post(this._apiBase+"initContext",n)},e.prototype.save=function(e){return this._reqService.post(this._apiBase+"save",{model:e})},e.ctorParameters=function(){return[{type:r.a},{type:l.a}]},e}()},bN5G:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var l=t("zZUg"),r=t("AeaD"),o=t("x58Y"),i=t("HpTF"),u=(r.a,o.a,i.a,l.a,function(){return function(){}}())},c3Se:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("/oeL"),r=t("0WLp"),o=t("ZV8k"),i=function(){function e(e,n,t){this._state=e,this.modalService=n,this.injector=t,this.model={},this.confirm=new l.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.showModal=function(e){var n=e?{windowClass:e}:{};this.modalRef=this.modalService.open(this.content,n)},e.prototype.closeModal=function(){this.modalRef.close()},e.prototype.onConfirm=function(){this.confirm.emit()},e.prototype.getDismissReason=function(e){return e===r.a.ESC?"by pressing ESC":e===r.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.onModalShow=function(){},e.ctorParameters=function(){return[{type:o.a},{type:r.e},{type:l.Injector}]},e}()},cLCo:function(e,n,t){"use strict";t.d(n,"b",function(){return r}),t.d(n,"c",function(){return o}),t.d(n,"d",function(){return i}),t.d(n,"a",function(){return u});var l=t("oRYE"),r=function(){function e(){this.map=l.a.FieldApplyTo}return e.prototype.transform=function(e){return this.map[e]},e}(),o=function(){function e(){this.map=l.a.FieldFormat}return e.prototype.transform=function(e){return e?this.map[e]:"N/A"},e}(),i=function(){function e(){this.map=l.a.TrueOrFalse}return e.prototype.transform=function(e){return e?this.map[""+e]:"\u5426"},e}(),u=(function(){function e(){this.map=l.a.DisableOrNot}e.prototype.transform=function(e){return this.map[""+e]}}(),function(){function e(){this.map=l.a.CaseExeStatus}return e.prototype.transform=function(e){return this.map[""+e]},e}())},cfqn:function(e,n,t){"use strict";var l=t("/oeL"),r=t("v1Uf"),o=t("fAab"),i=t("bm2B"),u=t("qbdv"),a=t("SQPZ"),s=t("KBuQ"),c=t("ZV8k"),d=t("BkNc"),f=t("Q0LZ"),p=t("C8VA"),h=t("g51S"),g=t("JNkf");t.d(n,"a",function(){return x});var m=[[".issue-create{margin:5px}.issue-create form{width:100%}.issue-create .elements{padding-top:15px}.issue-create .elements .element{float:left;width:50%}.issue-create .elements .element.full-line{width:100%}"]],v=l["\u0275crt"]({encapsulation:2,styles:m,data:{}});function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","element"]],[[2,"full-line",null]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"issue-field-edit",[],null,null,null,r.b,r.a)),l["\u0275did"](57344,null,0,o.a,[],{model:[0,"model"],elem:[1,"elem"],issuePropMap:[2,"issuePropMap"],form:[3,"form"],validateMsg:[4,"validateMsg"]},null),(e()(),l["\u0275ted"](null,["\n        "]))],function(e,n){var t=n.component;e(n,3,0,t.issue,n.context.$implicit,t.issuePropMap,t.form,t.validateMsg)},function(e,n){e(n,0,0,n.context.$implicit.fullLine)})}function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","validate-error"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n            "]))],null,function(e,n){e(n,3,0,n.context.$implicit)})}function C(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,42,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,39,"form",[["class","my-validate-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var r=!0;"submit"===n&&(r=!1!==l["\u0275nov"](e,4).onSubmit(t)&&r);"reset"===n&&(r=!1!==l["\u0275nov"](e,4).onReset()&&r);return r},null,null)),l["\u0275did"](8192,null,0,i.y,[],null,null),l["\u0275did"](270336,null,0,i.h,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](1024,null,i.c,null,[i.h]),l["\u0275did"](8192,null,0,i.o,[i.c],null,null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","form-group row elements"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,b)),l["\u0275did"](401408,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.save()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u4fdd\u5b58"])),(e()(),l["\u0275ted"](null,["\n          \xa0\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u53d6\u6d88"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","validate-errors"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275and"](8388608,null,null,1,null,y)),l["\u0275did"](401408,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){var t=n.component;e(n,4,0,t.form),e(n,11,0,t.page.elements),e(n,37,0,t.formErrors)},function(e,n){var t=n.component;e(n,2,0,l["\u0275nov"](n,6).ngClassUntouched,l["\u0275nov"](n,6).ngClassTouched,l["\u0275nov"](n,6).ngClassPristine,l["\u0275nov"](n,6).ngClassDirty,l["\u0275nov"](n,6).ngClassValid,l["\u0275nov"](n,6).ngClassInvalid,l["\u0275nov"](n,6).ngClassPending),e(n,20,0,!t.form.valid)})}function w(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,27,"div",[["class","issue-create container-fluid"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,18,"div",[["class","list-toolbar col-xl-12"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u65b0\u5efa\u95ee\u9898"])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[["class","filter"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,3,"button",[["class","btn btn-secondary btn-with-icon btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-plus-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u5173\u95ed\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,C)),l["\u0275did"](8192,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){e(n,26,0,n.component.form)},null)}var x=l["\u0275ccf"]("issue-create",a.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"issue-create",[],null,null,null,w,v)),l["\u0275did"](2220032,null,0,a.a,[s.a,c.a,d.a,i.e,f.c,p.a,h.a,g.a],null,null)],function(e,n){e(n,1,0)},null)},{},{},[])},cwtr:function(e,n,t){"use strict";t.d(n,"a",function(){return l}),t.d(n,"b",function(){return u});var l,r=t("pBVq"),o=t("rlar");t.n(o);!function(e){e[e.PROGRESS=0]="PROGRESS",e[e.HEIGHT=1]="HEIGHT",e[e.COLOR=2]="COLOR",e[e.VISIBLE=3]="VISIBLE"}(l||(l={}));var i=function(){return function(e,n){this.type=e,this.value=n}}(),u=function(){function e(){this._progress=0,this._height="2px",this._color="firebrick",this._visible=!0,this._intervalCounterId=0,this.interval=500,this.eventSource=new o.Subject,this.events=this.eventSource.asObservable()}return Object.defineProperty(e.prototype,"progress",{get:function(){return this._progress},set:function(e){Object(r.a)(e)&&(e>0&&(this.visible=!0),this._progress=e,this.emitEvent(new i(l.PROGRESS,this._progress)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(e){Object(r.a)(e)&&(this._height=e,this.emitEvent(new i(l.HEIGHT,this._height)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){Object(r.a)(e)&&(this._color=e,this.emitEvent(new i(l.COLOR,this._color)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(e){Object(r.a)(e)&&(this._visible=e,this.emitEvent(new i(l.VISIBLE,this._visible)))},enumerable:!0,configurable:!0}),e.prototype.emitEvent=function(e){this.eventSource&&this.eventSource.next(e)},e.prototype.start=function(e){var n=this;void 0===e&&(e=null),this.stop(),this.visible=!0,this._intervalCounterId=setInterval(function(){n.progress++,100===n.progress&&n.complete()},this.interval)},e.prototype.stop=function(){this._intervalCounterId&&(clearInterval(this._intervalCounterId),this._intervalCounterId=null)},e.prototype.reset=function(){this.stop(),this.progress=0},e.prototype.complete=function(){var e=this;this.progress=100,this.stop(),setTimeout(function(){e.visible=!1,setTimeout(function(){e.progress=0},250)},250)},e.ctorParameters=function(){return[]},e}()},dea4:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("/oeL"),r=t("SQPZ"),o=t("0WLp"),i=function(){function e(e,n){this.modalService=e,this.compiler=n}return e.prototype.genPage=function(){console.log("111"),this.compiler.clearCacheFor(r.a),console.log("222");var e=this.modalService.open(r.a,{windowClass:"pop-modal"});return console.log("333"),e},e.ctorParameters=function(){return[{type:o.e},{type:l.Compiler}]},e}()},eXNI:function(e,n,t){"use strict";var l=t("/oeL"),r=t("xrDH"),o=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(arguments.length<1||"object"!==typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var t,l,i=arguments[0];return Array.prototype.slice.call(arguments,1).forEach(function(e){"object"!==typeof e||Array.isArray(e)||Object.keys(e).forEach(function(n){return l=i[n],(t=e[n])===i?void 0:"object"!==typeof t||null===t?void(i[n]=t):Array.isArray(t)?void(i[n]=Object(r.cloneDeep)(t)):"object"!==typeof l||null===l||Array.isArray(l)?void(i[n]=o({},t)):void(i[n]=o(l,t))})}),i},i=function(){return function(){var e=this;this.promise=new Promise(function(n,t){e.resolve=n,e.reject=t})}}();var u=function(){function e(e,n,t,l){this.value=e,this.row=n,this.column=t,this.dataSet=l,this.newValue="",this.newValue=e}return e.prototype.getColumn=function(){return this.column},e.prototype.getRow=function(){return this.row},e.prototype.getValue=function(){return(this.column.getValuePrepareFunction()instanceof Function?this.column.getValuePrepareFunction():e.PREPARE).call(null,this.value,this.row.getData())},e.prototype.setValue=function(e){this.newValue=e},e.prototype.getId=function(){return this.getColumn().id},e.prototype.getTitle=function(){return this.getColumn().title},e.prototype.isEditable=function(){return-1===this.getRow().index?this.getColumn().isAddable:this.getColumn().isEditable},e}();u.PREPARE=function(e){return e};var a,s=function(){function e(e,n,t){this.index=e,this.data=n,this._dataSet=t,this.isNew=!1,this.isInEditing=!1,this.cells=[],this.process()}return e.prototype.getCell=function(e){return this.cells.find(function(n){return n.getColumn()===e})},e.prototype.getCells=function(){return this.cells},e.prototype.getData=function(){return this.data},e.prototype.getIsNew=function(){return this.isNew},e.prototype.getNewData=function(){var e=Object.assign({},this.data);return this.getCells().forEach(function(n){return e[n.getColumn().id]=n.newValue}),e},e.prototype.setData=function(e){this.data=e,this.process()},e.prototype.process=function(){var e=this;this.cells=[],this._dataSet.getColumns().forEach(function(n){var t=e.createCell(n);e.cells.push(t)})},e.prototype.createCell=function(e){var n=e.settings.defaultValue?e.settings.defaultValue:"",t="undefined"===typeof this.data[e.id]?n:this.data[e.id];return new u(t,this,e,this._dataSet)},e}(),c=function(){function e(e,n,t){this.id=e,this.settings=n,this.dataSet=t,this.title="",this.type="",this.class="",this.width="",this.isSortable=!1,this.isEditable=!0,this.isAddable=!0,this.isFilterable=!1,this.sortDirection="",this.defaultSortDirection="",this.editor={type:"",config:{},component:null},this.filter={type:"",config:{}},this.renderComponent=null,this.process()}return e.prototype.getOnComponentInitFunction=function(){return this.onComponentInitFunction},e.prototype.getCompareFunction=function(){return this.compareFunction},e.prototype.getValuePrepareFunction=function(){return this.valuePrepareFunction},e.prototype.getFilterFunction=function(){return this.filterFunction},e.prototype.getConfig=function(){return this.editor&&this.editor.config},e.prototype.getFilterType=function(){return this.filter&&this.filter.type},e.prototype.getFilterConfig=function(){return this.filter&&this.filter.config},e.prototype.process=function(){this.title=this.settings.title,this.class=this.settings.class,this.width=this.settings.width,this.type=this.prepareType(),this.editor=this.settings.editor,this.filter=this.settings.filter,this.renderComponent=this.settings.renderComponent,this.isFilterable="undefined"===typeof this.settings.filter||!!this.settings.filter,this.defaultSortDirection=-1!==["asc","desc"].indexOf(this.settings.sortDirection)?this.settings.sortDirection:"",this.isSortable="undefined"===typeof this.settings.sort||!!this.settings.sort,this.isEditable="undefined"===typeof this.settings.editable||!!this.settings.editable,this.isAddable="undefined"===typeof this.settings.addable||!!this.settings.addable,this.sortDirection=this.prepareSortDirection(),this.compareFunction=this.settings.compareFunction,this.valuePrepareFunction=this.settings.valuePrepareFunction,this.filterFunction=this.settings.filterFunction,this.onComponentInitFunction=this.settings.onComponentInitFunction},e.prototype.prepareType=function(){return this.settings.type||this.determineType()},e.prototype.prepareSortDirection=function(){return"desc"===this.settings.sort?"desc":"asc"},e.prototype.determineType=function(){return"text"},e}(),d=function(){function e(e,n){void 0===e&&(e=[]),this.columnSettings=n,this.data=[],this.columns=[],this.rows=[],this.createColumns(n),this.setData(e),this.createNewRow()}return e.prototype.setData=function(e){this.data=e,this.createRows()},e.prototype.getColumns=function(){return this.columns},e.prototype.getRows=function(){return this.rows},e.prototype.findRowByData=function(e){return this.rows.find(function(n){return n.getData()===e})},e.prototype.createNewRow=function(){this.newRow=new s(-1,{},this),this.newRow.isInEditing=!0},e.prototype.createColumns=function(e){for(var n in e)e.hasOwnProperty(n)&&this.columns.push(new c(n,e[n],this))},e.prototype.createRows=function(){var e=this;this.rows=[],console.log("222",this.data),this.data.forEach(function(n,t){var l=new s(t,n,e);e.rows.push(l)})},e}(),f=function(){function e(e,n){this.isEditing=!1,this.setSettings(n),this.setSource(e)}return e.prototype.getNewRow=function(){return this.dataSet.newRow},e.prototype.setSettings=function(e){this.settings=e,this.dataSet=new d([],this.getSetting("columns")),this.source&&this.source.refresh()},e.prototype.getDataSet=function(){return this.dataSet},e.prototype.setSource=function(e){var n=this;this.source=this.prepareSource(e),this.source.onCreated().subscribe(function(e){console.log("source.onCreated")}),this.source.onDeleted().subscribe(function(e){console.log("source.onDeleted")}),this.source.onSaved().subscribe(function(e){console.log("source.onSaved"),n.dataSet.findRowByData(e).setData(e)}),this.source.onChanged().subscribe(function(e){console.log("source.onChanged",e),n.processDataChange(e)})},e.prototype.getSetting=function(e,n){return function(e,n,t){void 0===e&&(e={});var l=n.split("."),r=o({},e);return l.forEach(function(e){r&&"undefined"!==typeof r[e]&&(r=r[e])}),"undefined"===typeof r?t:r}(this.settings,e,n)},e.prototype.getColumns=function(){return this.dataSet.getColumns()},e.prototype.getRows=function(){return this.dataSet.getRows()},e.prototype.edit=function(e){this.isEditing=!0,e.isInEditing=!0},e.prototype.up=function(e,n){var t=this,l=new i;l.promise.then(function(){t.source.up(e.getData())}).catch(function(e){}),n.emit({data:e.getData(),source:this.source,confirm:l})},e.prototype.down=function(e,n){var t=this,l=new i;l.promise.then(function(n){t.source.down(e.getData())}).catch(function(e){}),n.emit({data:e.getData(),source:this.source,confirm:l})},e.prototype.create=function(e,n,t){var l=this,r=new i;r.promise.then(function(n){n=n||e.getNewData(),l.source.create(n,t?t.getData():null).then(function(){var e=l.dataSet.findRowByData(n);l.isEditing=!0,e.isInEditing=!0,e.isNew=!0})}).catch(function(e){}),n.emit({newData:e.getNewData(),source:this.source,confirm:r})},e.prototype.save=function(e,n){var t=this,l=new i;l.promise.then(function(n){n=n||e.getNewData(),t.source.save(e.getData(),n).then(function(){t.isEditing=!1,e.isInEditing=!1,e.getNewData().id=n.id,console.log(111,e)})}).catch(function(e){}),n.emit({data:e.getData(),newData:e.getNewData(),source:this.source,confirm:l})},e.prototype.delete=function(e,n){var t=this;if(n){var l=new i;l.promise.then(function(){t.isEditing=!1,t.source.delete(e.getData())}).catch(function(e){}),n.emit({data:e.getData(),source:this.source,confirm:l})}else this.isEditing=!1,this.source.delete(e.getData())},e.prototype.processDataChange=function(e){this.shouldProcessChange(e)&&this.dataSet.setData(e.elements)},e.prototype.shouldProcessChange=function(e){return-1!==["up","down","create","delete","save","refresh","load"].indexOf(e.action)},e.prototype.prepareSource=function(e){return e.refresh(),e},e}(),p=t("rlar"),h=function(){function e(){this.onCreatedSource=new p.Subject,this.onSavedSource=new p.Subject,this.onDeletedSource=new p.Subject,this.onChangedSource=new p.Subject}return e.prototype.refresh=function(){this.emitOnChanged("refresh")},e.prototype.load=function(e){return this.emitOnChanged("load"),Promise.resolve()},e.prototype.onCreated=function(){return this.onCreatedSource.asObservable()},e.prototype.onSaved=function(){return this.onSavedSource.asObservable()},e.prototype.onDeleted=function(){return this.onDeletedSource.asObservable()},e.prototype.onChanged=function(){return this.onChangedSource.asObservable()},e.prototype.up=function(e){return this.emitOnDeleted(e),this.emitOnChanged("up"),Promise.resolve()},e.prototype.down=function(e){return this.emitOnDeleted(e),this.emitOnChanged("down"),Promise.resolve()},e.prototype.create=function(e,n){return this.emitOnCreated(e),this.emitOnChanged("create"),Promise.resolve()},e.prototype.delete=function(e){return this.emitOnDeleted(e),this.emitOnChanged("delete"),Promise.resolve()},e.prototype.save=function(e,n){return this.emitOnSaved(e),Promise.resolve()},e.prototype.empty=function(){return this.emitOnChanged("empty"),Promise.resolve()},e.prototype.emitOnCreated=function(e){this.onCreatedSource.next(e)},e.prototype.emitOnDeleted=function(e){this.onDeletedSource.next(e)},e.prototype.emitOnSaved=function(e){this.onSavedSource.next(e)},e.prototype.emitOnChanged=function(e){var n=this;this.getElements().then(function(t){return n.onChangedSource.next({action:e,elements:t})})},e}(),g=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}a(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),m=function(e){function n(n){void 0===n&&(n=[]);var t=e.call(this)||this;return t.data=[],t.sortConf=[],t.filterConf={filters:[],andOperator:!0},t.pagingConf={},t.data=n,t}return g(n,e),n.prototype.load=function(n){return this.data=n,e.prototype.load.call(this,n)},n.prototype.up=function(n){var t=this.data.indexOf(n),l=t-1,r=this.data[l],o=n.ordr;return n.ordr=r.ordr,r.ordr=o,this.data.splice(t,1),this.data.splice(l,0,n),e.prototype.up.call(this,n)},n.prototype.down=function(n){var t=this.data.indexOf(n),l=t+1,r=this.data[l],o=n.ordr;return n.ordr=r.ordr,r.ordr=o,this.data.splice(l,1),this.data.splice(t,0,r),e.prototype.up.call(this,n)},n.prototype.create=function(n,t){var l=0;return!t&&this.data.length>0?(t=this.data[this.data.length-1],l=this.data.indexOf(t)):l=t||0!=this.data.length?this.data.indexOf(t):0,n.ordr=t?t.ordr:1,this.data.splice(l+1,0,n),this.data.forEach(function(e,n,t){n>l&&(e.ordr+=1)}),e.prototype.create.call(this,n,t)},n.prototype.delete=function(n){var t=this.data.indexOf(n);return this.data=this.data.filter(function(e){return e!==n}),this.data.forEach(function(e,n,l){n>=t&&(e.ordr-=1)}),e.prototype.delete.call(this,n)},n.prototype.save=function(n,t){var l=this;return new Promise(function(r,i){l.find(n).then(function(n){n=o(n,t),e.prototype.save.call(l,n,t).then(r).catch(i)}).catch(i)})},n.prototype.find=function(e){var n=this.data.find(function(n){return n===e});return n?Promise.resolve(n):Promise.reject(new Error("Element was not found in the dataset"))},n.prototype.getElements=function(){var e=this.data.slice(0);return Promise.resolve(e)},n.prototype.getAll=function(){var e=this.data.slice(0);return Promise.resolve(e)},n.prototype.empty=function(){return this.data=[],e.prototype.empty.call(this)},n}(h);t.d(n,"a",function(){return v});var v=function(){function e(){this.settings={},this.custom=new l.EventEmitter,this.upConfirm=new l.EventEmitter,this.downConfirm=new l.EventEmitter,this.createConfirm=new l.EventEmitter,this.saveConfirm=new l.EventEmitter,this.deleteConfirm=new l.EventEmitter,this.defaultSettings={columns:{}}}return e.prototype.ngOnChanges=function(e){this.grid?(e.settings&&this.grid.setSettings(this.prepareSettings()),e.source&&(this.source=this.prepareSource(),this.grid.setSource(this.source))):this.initGrid()},e.prototype.initGrid=function(){this.source=this.prepareSource(),this.grid=new f(this.source,this.prepareSettings())},e.prototype.prepareSource=function(){return this.source instanceof h?this.source:this.source instanceof Array?new m(this.source):new m},e.prototype.prepareSettings=function(){return o({},this.defaultSettings,this.settings)},e}()},eehj:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){this.showTitle=!1,this._data={}}return Object.defineProperty(e.prototype,"data",{set:function(e){e&&(this._data=e,this.genChart())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.genChart=function(){this.chartOption={title:{text:"\u6d4b\u8bd5\u6267\u884c",show:this.showTitle,top:"top",left:"center",textStyle:{fontSize:"15"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"15%",right:"70px",bottom:"8%",left:"3%",containLabel:!0},legend:{right:"0%",width:"15%",data:["\u901a\u8fc7","\u5931\u8d25","\u963b\u585e"]},color:["#749f83","#c23531","#ca8622"],xAxis:[{type:"category",axisLabel:{interval:0,rotate:45,margin:10},data:this._data.xList}],yAxis:[{name:"\u6570\u91cf",type:"value"}],series:[{name:"\u901a\u8fc7",type:"bar",stack:"\u8fc7\u7a0b",data:this._data.passList},{name:"\u5931\u8d25",type:"bar",stack:"\u8fc7\u7a0b",data:this._data.failList},{name:"\u963b\u585e",type:"bar",stack:"\u8fc7\u7a0b",data:this._data.blockList}]}},e.ctorParameters=function(){return[]},e}()},emQk:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("9GFz"),r=t("KBuQ"),o=function(){function e(e,n){this._reqService=e,this._routeService=n,this._apiBase="client/issue_link/"}return e.prototype.link=function(e,n,t,l){var r={srcIssueId:e,dictIssueId:n,reasonId:t,reasonName:l};return this._reqService.post(this._apiBase+"link",r)},e.prototype.listIssueLinkReasons=function(){return this._reqService.post(this._apiBase+"listIssueLinkReasons",{})},e.ctorParameters=function(){return[{type:l.a},{type:r.a}]},e}()},fAab:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){this.model={},this.issuePropMap={},this.validateMsg={},this.labelColNum=4}return e.prototype.ngOnInit=function(){this.labelColNum=this.getCol()},e.prototype.getCol=function(){return this.elem.fullLine?2:4},e.ctorParameters=function(){return[]},e}()},fKez:function(e,n,t){"use strict";var l=function(){function e(e){this.rawFile=e;var n,t=!(!(n=e)||!(n.nodeName||n.prop&&n.attr&&n.find))?e.value:e;this["_createFrom"+("string"===typeof t?"FakePath":"Object")](t)}return e.prototype._createFromFakePath=function(e){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)},e.prototype._createFromObject=function(e){this.size=e.size,this.type=e.type,this.name=e.name},e}();n.FileLikeObject=l},fi61:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){this._data={}}return Object.defineProperty(e.prototype,"data",{set:function(e){e&&(this._data=e,this.genChart())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.genChart=function(){this.chartOption={title:{text:this.title,show:!0,top:"top",left:"center",textStyle:{fontSize:"15"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}"},legend:{right:"0%",width:"15%",data:["\u603b\u6570","\u4fee\u590d"]},grid:{top:"15%",right:"15%",bottom:"5%",left:"5%",containLabel:!0},color:["#2f4554","#c23531"],xAxis:{type:"category",name:"",splitLine:{show:!1},data:this._data.xList,axisLabel:{interval:0,rotate:45,margin:20}},yAxis:[{name:"\u6570\u91cf",type:"value"}],series:[{name:"\u603b\u6570",type:"line",yAxisIndex:0,data:this._data.totalListCreate},{name:"\u4fee\u590d",type:"line",yAxisIndex:0,data:this._data.totalListFinal}]}},e.ctorParameters=function(){return[]},e}()},g51S:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var l=t("xrDH"),r=(t.n(l),t("oRYE")),o=t("9GFz"),i=t("KBuQ"),u=function(){function e(e,n){this._reqService=e,this._routeService=n,this._apiBase="client/issue/"}return e.prototype.query=function(e,n){return n.filter=e,this._reqService.post(this._apiBase+"query",n)},e.prototype.create=function(){return this._reqService.post(this._apiBase+"create",{})},e.prototype.edit=function(e){var n={id:e};return this._reqService.post(this._apiBase+"edit",n)},e.prototype.view=function(e){var n={id:e};return this._reqService.post(this._apiBase+"view",n)},e.prototype.getData=function(e){var n={id:e};return this._reqService.post(this._apiBase+"getData",n)},e.prototype.save=function(e,n){return this._reqService.post(this._apiBase+"save",{issue:e,pageId:n})},e.prototype.update=function(e,n){return this._reqService.post(this._apiBase+"update",{issue:e,pageId:n})},e.prototype.delete=function(e){var n={id:e};return this._reqService.post(this._apiBase+"delete",n)},e.prototype.updateField=function(e,n){var t=l.merge(n,{id:e});return this._reqService.post(this._apiBase+"updateField",t)},e.prototype.gotoList=function(){var e="/pages/org/"+r.a.CURR_ORG_ID+"/prj/"+r.a.CURR_PRJ_ID+"/issue/query/lastest/null";this._routeService.navTo(e)},e.prototype.gotoView=function(e){var n="/pages/org/"+r.a.CURR_ORG_ID+"/prj/"+r.a.CURR_PRJ_ID+"/issue/"+e+"/view";this._routeService.navTo(n)},e.prototype.gotoCreate=function(){var e="/pages/org/"+r.a.CURR_ORG_ID+"/prj/"+r.a.CURR_PRJ_ID+"/issue/create";this._routeService.navTo(e)},e.ctorParameters=function(){return[{type:o.a},{type:i.a}]},e}()},gRmo:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){}return e.prototype.getEditorType=function(){return this.cell.getColumn().editor&&this.cell.getColumn().editor.type},e}()},"gsT+":function(e,n,t){"use strict";t.d(n,"a",function(){return s});var l=t("xrDH"),r=(t.n(l),t("bm2B")),o=t("0WLp"),i=t("oRYE"),u=t("KGm0"),a=t("vatH"),s=function(){function e(e,n,t,l){this.activeModal=e,this.fb=n,this.taskEditService=t,this.userService=l,this.searchModel={},this.selectedModels=[],this.model={envId:null},this.suites=[],this.envs=[],this.disabled=!1,this.formErrors=[],this.validateMsg={name:{required:"\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}}}return e.prototype.ngOnInit=function(){this.projectId=this.model.projectId,this.buildForm(),this.suites.forEach(function(e){e.selecting=!1})},e.prototype.save=function(){var e=[];this.selectedModels.forEach(function(n){e.push(n.id)}),this.model.userIds=e,this.activeModal.close({act:"save",data:this.model})},e.prototype.dismiss=function(){this.activeModal.dismiss({act:"cancel"})},e.prototype.select=function(e){for(var n="all"===e,t=0,l=this.suites;t<l.length;t++){l[t].selecting=n}},e.prototype.buildForm=function(){var e=this;this.form=this.fb.group({name:["",[r.v.required]],envId:["",[]]},{}),l.forEach(this.suites,function(n,t){e.form.addControl("suite-"+n.id,new r.f("",[]))}),this.form.valueChanges.debounceTime(i.a.DebounceTime).subscribe(function(n){return e.query(n)})},e.prototype.query=function(e){},e.prototype.changeSearch=function(e){var n=this,t=[];this.selectedModels.forEach(function(e){t.push(e.id)}),this.userService.search(e.keywords,t).subscribe(function(e){0==e.data.length?n.searchResult=null:n.searchResult=e.data})},e.prototype.selectSuite=function(e,n){this.suites.forEach(function(n){n.caseProjectId!=e.caseProjectId&&(n.selecting=!1)})},e.ctorParameters=function(){return[{type:o.b},{type:r.e},{type:a.a},{type:u.a}]},e}()},hPIC:function(e,n,t){"use strict";var l=t("/oeL"),r=t("bm2B"),o=t("qbdv"),i=t("9Kws"),u=t("34xi"),a=t("Qkx6"),s=t("A9qq");t.d(n,"a",function(){return d}),n.b=O;var c=[[".field-input-edit[_ngcontent-%COMP%]   .form-control[readonly][_ngcontent-%COMP%]{color:#666!important}.field-input-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:50px!important}"]],d=l["\u0275crt"]({encapsulation:0,styles:c,data:{}});function f(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,8,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,5,"textarea",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,3)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,3).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,3)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,3)._compositionEnd(t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(o.model[o.elem.colCode]=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.d,[l.Renderer,l.ElementRef,[2,r.a]],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.d]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){var t=n.component;e(n,5,0,l["\u0275inlineInterpolate"](1,"","elem-"+t.elem.id,""),t.model[t.elem.colCode])},function(e,n){e(n,2,0,l["\u0275nov"](n,7).ngClassUntouched,l["\u0275nov"](n,7).ngClassTouched,l["\u0275nov"](n,7).ngClassPristine,l["\u0275nov"](n,7).ngClassDirty,l["\u0275nov"](n,7).ngClassValid,l["\u0275nov"](n,7).ngClassInvalid,l["\u0275nov"](n,7).ngClassPending)})}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](73728,null,0,r.q,[l.ElementRef,l.Renderer,[2,r.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,r.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["",""]))],function(e,n){var t=n.component;e(n,1,0,l["\u0275inlineInterpolate"](1,"",t.elem.buildIn?n.context.$implicit.id:n.context.$implicit.value,"")),e(n,2,0,l["\u0275inlineInterpolate"](1,"",t.elem.buildIn?n.context.$implicit.id:n.context.$implicit.value,""))},function(e,n){e(n,3,0,null==n.context.$implicit?null:n.context.$implicit.label)})}function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,12,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,9,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,3).onChange(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,3).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.model[o.elem.colCode]=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.t,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.t]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275and"](8388608,null,null,1,null,p)),l["\u0275did"](401408,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){var t=n.component;e(n,5,0,l["\u0275inlineInterpolate"](1,"","elem-"+t.elem.id,""),t.model[t.elem.colCode]),e(n,10,0,t.options)},function(e,n){e(n,2,0,l["\u0275nov"](n,7).ngClassUntouched,l["\u0275nov"](n,7).ngClassTouched,l["\u0275nov"](n,7).ngClassPristine,l["\u0275nov"](n,7).ngClassDirty,l["\u0275nov"](n,7).ngClassValid,l["\u0275nov"](n,7).ngClassInvalid,l["\u0275nov"](n,7).ngClassPending)})}function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,12,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275eld"](0,null,null,6,"input",[["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,3)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,3).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,3)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,3)._compositionEnd(t.target.value)&&r);"change"===n&&(r=!1!==l["\u0275nov"](e,4).onChange()&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,4).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.model[o.elem.colCode]=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.d,[l.Renderer,l.ElementRef,[2,r.a]],null,null),l["\u0275did"](106496,null,0,r.r,[l.Renderer,l.ElementRef,r.z,l.Injector],{formControlName:[0,"formControlName"],value:[1,"value"]},null),l["\u0275prd"](512,null,r.l,function(e,n){return[e,n]},[r.d,r.r]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\xa0\n            "]))],function(e,n){var t=n.component;e(n,4,0,l["\u0275inlineInterpolate"](1,"","elem-"+t.elem.id,""),l["\u0275inlineInterpolate"](1,"",t.elem.buildIn?n.context.$implicit.id:n.context.$implicit.value,"")),e(n,6,0,l["\u0275inlineInterpolate"](1,"","elem-"+t.elem.id,""),t.model[t.elem.colCode])},function(e,n){e(n,2,0,l["\u0275nov"](n,8).ngClassUntouched,l["\u0275nov"](n,8).ngClassTouched,l["\u0275nov"](n,8).ngClassPristine,l["\u0275nov"](n,8).ngClassDirty,l["\u0275nov"](n,8).ngClassValid,l["\u0275nov"](n,8).ngClassInvalid,l["\u0275nov"](n,8).ngClassPending),e(n,11,0,null==n.context.$implicit?null:n.context.$implicit.label)})}function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,7,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"label",[["class","col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275and"](8388608,null,null,1,null,g)),l["\u0275did"](401408,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){e(n,5,0,n.component.options)},null)}function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,12,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,6,"input",[["type","checkbox"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,3).onChange(t.target.checked)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,3).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.checkboxVal[o.elem.buildIn?e.context.$implicit.id:e.context.$implicit.value]=t)&&r);"change"===n&&(r=!1!==o.checkboxValChange()&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.b,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.b]),l["\u0275did"](335872,null,0,r.p,[[2,r.c],[8,null],[8,null],[2,r.l]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),l["\u0275pod"](["standalone"]),l["\u0275prd"](1024,null,r.m,null,[r.p]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,[""," - ",""])),(e()(),l["\u0275ted"](null,["\xa0\n          "]))],function(e,n){var t=n.component;e(n,5,0,t.checkboxVal[t.elem.buildIn?n.context.$implicit.id:n.context.$implicit.value],e(n,6,0,!0))},function(e,n){var t=n.component;e(n,2,0,l["\u0275inlineInterpolate"](1,"",t.elem.buildIn?n.context.$implicit.id:n.context.$implicit.value,""),l["\u0275nov"](n,8).ngClassUntouched,l["\u0275nov"](n,8).ngClassTouched,l["\u0275nov"](n,8).ngClassPristine,l["\u0275nov"](n,8).ngClassDirty,l["\u0275nov"](n,8).ngClassValid,l["\u0275nov"](n,8).ngClassInvalid,l["\u0275nov"](n,8).ngClassPending),e(n,11,0,null==n.context.$implicit?null:n.context.$implicit.label,t.elem.buildIn?n.context.$implicit.id:n.context.$implicit.value)})}function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,7,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"label",[["class","col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275and"](8388608,null,null,1,null,v)),l["\u0275did"](401408,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){e(n,5,0,n.component.options)},null)}function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](73728,null,0,r.q,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,r.A,[l.ElementRef,l.Renderer,[2,r.u]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["",""]))],function(e,n){var t=n.component;e(n,1,0,l["\u0275inlineInterpolate"](1,"",t.elem.buildIn?n.context.$implicit.id:n.context.$implicit.value,"")),e(n,2,0,l["\u0275inlineInterpolate"](1,"",t.elem.buildIn?n.context.$implicit.id:n.context.$implicit.value,""))},function(e,n){e(n,3,0,null==n.context.$implicit?null:n.context.$implicit.label)})}function C(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,13,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,10,"select",[["class","form-control"],["multiple",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,3).onChange(t.target)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,3).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.mutiSelectVal=t)&&r);"change"===n&&(r=!1!==o.mutiSelectValChange()&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.u,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.u]),l["\u0275did"](335872,null,0,r.p,[[2,r.c],[8,null],[8,null],[2,r.l]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),l["\u0275pod"](["standalone"]),l["\u0275prd"](1024,null,r.m,null,[r.p]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275and"](8388608,null,null,1,null,y)),l["\u0275did"](401408,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){var t=n.component;e(n,5,0,t.mutiSelectVal,e(n,6,0,!0)),e(n,11,0,t.options)},function(e,n){e(n,2,0,l["\u0275nov"](n,8).ngClassUntouched,l["\u0275nov"](n,8).ngClassTouched,l["\u0275nov"](n,8).ngClassPristine,l["\u0275nov"](n,8).ngClassDirty,l["\u0275nov"](n,8).ngClassValid,l["\u0275nov"](n,8).ngClassInvalid,l["\u0275nov"](n,8).ngClassPending)})}function w(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"tiny-mce",[],null,[[null,"changed"]],function(e,n,t){var l=!0,r=e.component;"changed"===n&&(l=!1!==r.richtextChange(t)&&l);return l},i.b,i.a)),l["\u0275did"](2449408,null,0,u.a,[l.ElementRef],{height:[0,"height"],content:[1,"content"]},{changed:"changed"}),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){var t=n.component;e(n,3,0,"300px",t.model[t.elem.colCode])},null)}function x(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,21,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,18,"div",[["class","input-group my-flatpickr-date"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,[["startTime",1]],null,5,"input",[["class"," form-control form-control-sm"],["data-input",""],["placeholder","yyyy-mm-dd"],["readonly","readonly"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,5)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,5).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,5)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,5)._compositionEnd(t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(o.model[o.elem.colCode]=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.d,[l.Renderer,l.ElementRef,[2,r.a]],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.d]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,3,"a",[["class","input-group-addon"],["data-toggle",""],["title","\u9009\u62e9"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,3,"a",[["class","input-group-addon"],["data-clear",""],["title","\u6e05\u9664"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-remove"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){var t=n.component;e(n,7,0,l["\u0275inlineInterpolate"](1,"","elem-"+t.elem.id,""),t.model[t.elem.colCode])},function(e,n){e(n,4,0,l["\u0275nov"](n,9).ngClassUntouched,l["\u0275nov"](n,9).ngClassTouched,l["\u0275nov"](n,9).ngClassPristine,l["\u0275nov"](n,9).ngClassDirty,l["\u0275nov"](n,9).ngClassValid,l["\u0275nov"](n,9).ngClassInvalid,l["\u0275nov"](n,9).ngClassPending)})}function _(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,21,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,18,"div",[["class","input-group my-flatpickr-time"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,5,"input",[["class"," form-control form-control-sm"],["data-input",""],["placeholder","hh:mm"],["readonly","readonly"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,5)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,5).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,5)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,5)._compositionEnd(t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(o.model[o.elem.colCode]=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.d,[l.Renderer,l.ElementRef,[2,r.a]],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.d]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,3,"a",[["class","input-group-addon"],["data-toggle",""],["title","\u9009\u62e9"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,3,"a",[["class","input-group-addon"],["data-clear",""],["title","\u6e05\u9664"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-remove"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){var t=n.component;e(n,7,0,l["\u0275inlineInterpolate"](1,"","elem-"+t.elem.id,""),t.model[t.elem.colCode])},function(e,n){e(n,4,0,l["\u0275nov"](n,9).ngClassUntouched,l["\u0275nov"](n,9).ngClassTouched,l["\u0275nov"](n,9).ngClassPristine,l["\u0275nov"](n,9).ngClassDirty,l["\u0275nov"](n,9).ngClassValid,l["\u0275nov"](n,9).ngClassInvalid,l["\u0275nov"](n,9).ngClassPending)})}function A(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,21,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,18,"div",[["class","input-group my-flatpickr-datetime"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,5,"input",[["class"," form-control form-control-sm"],["data-input",""],["placeholder","yyyy-mm-dd hh:mm"],["readonly","readonly"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,5)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,5).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,5)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,5)._compositionEnd(t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(o.model[o.elem.colCode]=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.d,[l.Renderer,l.ElementRef,[2,r.a]],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.d]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,3,"a",[["class","input-group-addon"],["data-toggle",""],["title","\u9009\u62e9"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,3,"a",[["class","input-group-addon"],["data-clear",""],["title","\u6e05\u9664"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-remove"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){var t=n.component;e(n,7,0,l["\u0275inlineInterpolate"](1,"","elem-"+t.elem.id,""),t.model[t.elem.colCode])},function(e,n){e(n,4,0,l["\u0275nov"](n,9).ngClassUntouched,l["\u0275nov"](n,9).ngClassTouched,l["\u0275nov"](n,9).ngClassPristine,l["\u0275nov"](n,9).ngClassDirty,l["\u0275nov"](n,9).ngClassValid,l["\u0275nov"](n,9).ngClassInvalid,l["\u0275nov"](n,9).ngClassPending)})}function k(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,8,null,null,null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,3)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,3).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,3)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,3)._compositionEnd(t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(o.model[o.elem.colCode]=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.d,[l.Renderer,l.ElementRef,[2,r.a]],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.d]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){var t=n.component;e(n,5,0,l["\u0275inlineInterpolate"](1,"","elem-"+t.elem.id,""),t.model[t.elem.colCode])},function(e,n){e(n,2,0,l["\u0275nov"](n,7).ngClassUntouched,l["\u0275nov"](n,7).ngClassTouched,l["\u0275nov"](n,7).ngClassPristine,l["\u0275nov"](n,7).ngClassDirty,l["\u0275nov"](n,7).ngClassValid,l["\u0275nov"](n,7).ngClassInvalid,l["\u0275nov"](n,7).ngClassPending)})}function O(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,41,"div",[["class","field-input-edit"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,38,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var r=!0;"submit"===n&&(r=!1!==l["\u0275nov"](e,3).onSubmit(t)&&r);"reset"===n&&(r=!1!==l["\u0275nov"](e,3).onReset()&&r);return r},null,null)),l["\u0275did"](270336,null,0,r.h,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](1024,null,r.c,null,[r.h]),l["\u0275did"](8192,null,0,r.o,[r.c],null,null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,32,null,null,null,null,null,null,null)),l["\u0275did"](8192,null,0,o.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,f)),l["\u0275did"](139264,null,0,o.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,h)),l["\u0275did"](139264,null,0,o.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275ted"](null,["\n\n\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,m)),l["\u0275did"](139264,null,0,o.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,b)),l["\u0275did"](139264,null,0,o.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,C)),l["\u0275did"](139264,null,0,o.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,w)),l["\u0275did"](139264,null,0,o.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275ted"](null,["\n\n\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,x)),l["\u0275did"](139264,null,0,o.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,_)),l["\u0275did"](139264,null,0,o.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,A)),l["\u0275did"](139264,null,0,o.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,k)),l["\u0275did"](8192,null,0,o.NgSwitchDefault,[l.ViewContainerRef,l.TemplateRef,o.NgSwitch],null,null),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,3,0,t.form),e(n,8,0,t.elem.input);e(n,11,0,"textarea");e(n,14,0,"dropdown");e(n,17,0,"radio");e(n,20,0,"checkbox");e(n,23,0,"multi_select");e(n,26,0,"richtext");e(n,29,0,"date");e(n,32,0,"time");e(n,35,0,"datetime")},function(e,n){e(n,2,0,l["\u0275nov"](n,5).ngClassUntouched,l["\u0275nov"](n,5).ngClassTouched,l["\u0275nov"](n,5).ngClassPristine,l["\u0275nov"](n,5).ngClassDirty,l["\u0275nov"](n,5).ngClassValid,l["\u0275nov"](n,5).ngClassInvalid,l["\u0275nov"](n,5).ngClassPending)})}l["\u0275ccf"]("input-edit",a.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"input-edit",[],null,null,null,O,d)),l["\u0275did"](2154496,null,0,a.a,[s.a],null,null)],function(e,n){e(n,1,0)},null)},{form:"form",validateMsg:"validateMsg",elem:"elem",options:"options",model:"model"},{},[])},hko3:function(e,n,t){"use strict";var l=t("/oeL"),r=t("bm2B"),o=t("CPp0"),i=function(){function e(){this.selected=new l.EventEmitter,this.highlighted=new l.EventEmitter,this._hasHighlited=!1,this.hasSelected=!1,this._cancelBlur=!1}return e.prototype.ngOnInit=function(){},e.prototype.registerList=function(e){this.list=e},e.prototype.registerDropdown=function(e){this.dropdown=e},e.prototype.onHighlighted=function(e){this.highlighted.emit(e),this._hasHighlited=!!e},e.prototype.onSelected=function(e){this.selected.emit(e),e&&(this.hasSelected=!0),this.clear()},e.prototype.search=function(e){this.hasSelected&&(this.selected.emit(null),this.hasSelected=!1),this.list&&this.list.search(e)},e.prototype.clear=function(){this.dropdown&&this.dropdown.clear(),this.list&&this.list.clear(),this._hasHighlited=!1},e.prototype.selectCurrent=function(){this.dropdown&&this.dropdown.selectCurrent()},e.prototype.nextRow=function(){this.dropdown&&this.dropdown.nextRow()},e.prototype.prevRow=function(){this.dropdown&&this.dropdown.prevRow()},e.prototype.hasHighlited=function(){return this._hasHighlited},e.prototype.cancelBlur=function(e){this._cancelBlur=e},e.prototype.isCancelBlur=function(){return this._cancelBlur},e}();i.decorators=[{type:l.Directive,args:[{selector:"[ctrCompleter]"}]}],i.ctorParameters=function(){return[]},i.propDecorators={selected:[{type:l.Output}],highlighted:[{type:l.Output}]};var u=t("2jA6"),a=524288,s=3,c=250,d="Searching...",f="No results found",p=(t("xpf9"),function(){}),h={provide:r.l,useExisting:Object(l.forwardRef)(function(){return g}),multi:!0},g=function(){function e(e){this.completerService=e,this.inputName="",this.inputId="",this.pause=c,this.minSearchLength=s,this.maxChars=a,this.overrideSuggested=!1,this.clearSelected=!1,this.fillHighlighted=!0,this.placeholder="",this.textSearching=d,this.textNoResults=f,this.autoMatch=!1,this.disableInput=!1,this.autofocus=!1,this.selected=new l.EventEmitter,this.highlighted=new l.EventEmitter,this.blur=new l.EventEmitter,this.focusEvent=new l.EventEmitter,this.searchStr="",this.control=new r.f(""),this.displaySearching=!0,this._onTouchedCallback=p,this._onChangeCallback=p,this._focus=!1}return Object.defineProperty(e.prototype,"value",{get:function(){return this.searchStr},set:function(e){e!==this.searchStr&&(this.searchStr=e),this._onChangeCallback(e)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.autofocus&&(this._focus=!0)},e.prototype.ngAfterViewChecked=function(){this._focus&&(this.ctrInput.nativeElement.focus(),this._focus=!1)},e.prototype.onTouched=function(){this._onTouchedCallback()},e.prototype.writeValue=function(e){this.searchStr=e},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.ngOnInit=function(){var e=this;this.datasource&&(this.datasource instanceof Array?this.dataService=this.completerService.local(this.datasource):"string"===typeof this.datasource?this.dataService=this.completerService.remote(this.datasource):this.dataService=this.datasource),this.completer.selected.subscribe(function(n){var t=n?n.title:"";e.selected.emit(n),e._onChangeCallback(t)}),this.completer.highlighted.subscribe(function(n){e.highlighted.emit(n)}),"false"===this.textSearching&&(this.displaySearching=!1)},e.prototype.onBlur=function(){this.blur.emit(),this.onTouched()},e.prototype.onFocus=function(){this.focusEvent.emit(),this.onTouched()},e.prototype.onChange=function(e){this.value=e},e.prototype.open=function(e){void 0===e&&(e=""),this.completer.search(e)},e.prototype.close=function(){this.completer.clear()},e.prototype.focus=function(){this.ctrInput?this.ctrInput.nativeElement.focus():this._focus=!0},e}();g.decorators=[{type:l.Component,args:[{selector:"ng2-completer",template:'\n        <div class="completer-holder" ctrCompleter>\n            <input #ctrInput [attr.id]="inputId.length > 0 ? inputId : null" type="search" class="completer-input" ctrInput [ngClass]="inputClass" [(ngModel)]="searchStr" (ngModelChange)="onChange($event)" [attr.name]="inputName" [placeholder]="placeholder"\n                [attr.maxlength]="maxChars" [tabindex]="fieldTabindex" [disabled]="disableInput" [clearSelected]="clearSelected" [overrideSuggested]="overrideSuggested" \n                [fillHighlighted]="fillHighlighted" (blur)="onBlur()" (focus)="onFocus()" autocomplete="off" autocorrect="off" autocapitalize="off" />\n\n            <div class="completer-dropdown-holder" *ctrList="dataService; minSearchLength: minSearchLength; pause: pause; autoMatch: autoMatch; let items = results; let searchActive = searching; let isInitialized = searchInitialized;">\n                <div class="completer-dropdown" ctrDropdown *ngIf="isInitialized">\n                    <div *ngIf="searchActive && displaySearching" class="completer-searching">{{textSearching}}</div>\n                    <div *ngIf="!searchActive && (!items || items.length === 0)" class="completer-no-results">{{textNoResults}}</div>\n                    <div class="completer-row-wrapper" *ngFor="let item of items; let rowIndex=index">\n                        <div class="completer-row" [ctrRow]="rowIndex" [dataItem]="item">\n                            <div *ngIf="item.image || item.image === \'\'" class="completer-image-holder">\n                                <img *ngIf="item.image != \'\'" src="{{item.image}}" class="completer-image" />\n                                <div *ngIf="item.image === \'\'" class="completer-image-default"></div>\n                            </div>\n                            <div class="completer-item-text" [ngClass]="{\'completer-item-text-image\': item.image || item.image === \'\' }">\n                                <completer-list-item class="completer-title" [text]="item.title" [matchClass]="matchClass" [searchStr]="searchStr" [type]="\'title\'"></completer-list-item>\n                                <completer-list-item *ngIf="item.description && item.description != \'\'" class="completer-description" [text]="item.description"\n                                    [matchClass]="matchClass" [searchStr]="searchStr" [type]="\'description\'">\n                                </completer-list-item>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',styles:['\n    .completer-dropdown {\n        border-color: #ececec;\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 2px;\n        width: 250px;\n        padding: 6px;\n        cursor: pointer;\n        z-index: 9999;\n        position: absolute;\n        margin-top: -6px;\n        background-color: #ffffff;\n    }\n\n    .completer-row {\n        padding: 5px;\n        color: #000000;\n        margin-bottom: 4px;\n        clear: both;\n        display: inline-block;\n        width: 103%;\n    }\n\n    .completer-selected-row {\n        background-color: lightblue;\n        color: #ffffff;\n    }\n\n    .completer-description {\n        font-size: 14px;\n    }\n\n    .completer-image-default {\n        width: 16px; \n        height: 16px;\n        background-image: url("demo/res/img/default.png");\n    }\n\n    .completer-image-holder {\n        float: left;\n        width: 10%;\n    }\n    .completer-item-text-image {\n        float: right;\n        width: 90%;\n    }\n    '],providers:[h]}]}],g.ctorParameters=function(){return[{type:u.a}]},g.propDecorators={dataService:[{type:l.Input}],datasource:[{type:l.Input}],inputName:[{type:l.Input}],inputId:[{type:l.Input}],pause:[{type:l.Input}],minSearchLength:[{type:l.Input}],maxChars:[{type:l.Input}],overrideSuggested:[{type:l.Input}],clearSelected:[{type:l.Input}],fillHighlighted:[{type:l.Input}],placeholder:[{type:l.Input}],matchClass:[{type:l.Input}],textSearching:[{type:l.Input}],textNoResults:[{type:l.Input}],fieldTabindex:[{type:l.Input}],autoMatch:[{type:l.Input}],disableInput:[{type:l.Input}],inputClass:[{type:l.Input}],autofocus:[{type:l.Input}],selected:[{type:l.Output}],highlighted:[{type:l.Output}],blur:[{type:l.Output}],focusEvent:[{type:l.Output,args:["focus"]}],completer:[{type:l.ViewChild,args:[i]}],ctrInput:[{type:l.ViewChild,args:["ctrInput"]}]};var m=function(){function e(){this.parts=[]}return e.prototype.ngOnInit=function(){if(this.searchStr){for(var e=this.text.toLowerCase(),n=e.indexOf(this.searchStr.toLowerCase()),t=0;n>=0;){var l=this.text.slice(n,n+this.searchStr.length);if(0===n)this.parts.push({isMatch:!0,text:l}),t+=this.searchStr.length;else if(n>0){var r=this.text.slice(t,n);this.parts.push({isMatch:!1,text:r}),this.parts.push({isMatch:!0,text:l}),t+=this.searchStr.length+r.length}n=e.indexOf(this.searchStr.toLowerCase(),t)}t<this.text.length&&this.parts.push({isMatch:!1,text:this.text.slice(t,this.text.length)})}else this.parts.push({isMatch:!1,text:this.text})},e}();m.decorators=[{type:l.Component,args:[{selector:"completer-list-item",template:'\n    <span class="completer-list-item-holder" [ngClass]="{\'completer-title\': type === \'title\', \'completer-description\': type === \'description\'}" >\n        <span class="completer-list-item" *ngFor="let part of parts" [ngClass]="part.isMatch ? matchClass : null">{{part.text}}</span>\n    </span>\n    '}]}],m.ctorParameters=function(){return[]},m.propDecorators={text:[{type:l.Input}],searchStr:[{type:l.Input}],matchClass:[{type:l.Input}],type:[{type:l.Input}]};var v=t("QcKS"),b=function(){return function(e,n){this.row=e,this.index=n}}(),y=function(){function e(e,n){this.completer=e,this.el=n,this.rows=[],this.completer.registerDropdown(this)}return e.prototype.ngOnInit=function(){var e=getComputedStyle(this.el.nativeElement);this.isScrollOn=e.maxHeight&&"auto"===e.overflowY},e.prototype.ngOnDestroy=function(){this.completer.registerDropdown(null)},e.prototype.onMouseDown=function(e){var n=this;this.completer.cancelBlur(!0),setTimeout(function(){n.completer.cancelBlur(!1)},0)},e.prototype.registerRow=function(e){this.rows.push(e)},e.prototype.highlightRow=function(e){var n=this.rows.find(function(n){return n.index===e});if(e<0)return this.currHighlited&&this.currHighlited.row.setHighlited(!1),this.currHighlited=void 0,void this.completer.onHighlighted(null);n&&(this.currHighlited&&this.currHighlited.row.setHighlited(!1),this.currHighlited=n,this.currHighlited.row.setHighlited(!0),this.completer.onHighlighted(this.currHighlited.row.getDataItem()))},e.prototype.clear=function(){this.rows=[]},e.prototype.onSelected=function(e){this.completer.onSelected(e)},e.prototype.selectCurrent=function(){this.currHighlited?this.onSelected(this.currHighlited.row.getDataItem()):this.rows.length>0&&this.onSelected(this.rows[0].row.getDataItem())},e.prototype.nextRow=function(){var e=0;if(this.currHighlited&&(e=this.currHighlited.index+1),this.highlightRow(e),this.isScrollOn&&this.currHighlited){var n=this.currHighlited.row.getNativeElement();this.dropdownHeight()<n.getBoundingClientRect().bottom&&this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(n))}},e.prototype.prevRow=function(){var e=-1;if(this.currHighlited&&(e=this.currHighlited.index-1),this.highlightRow(e),this.isScrollOn&&this.currHighlited){var n=this.dropdownRowTop();n<0&&this.dropdownScrollTopTo(n-1)}},e.prototype.dropdownScrollTopTo=function(e){this.el.nativeElement.scrollTop=this.el.nativeElement.scrollTop+e},e.prototype.dropdownRowTop=function(){return this.currHighlited.row.getNativeElement().getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))},e.prototype.dropdownHeight=function(){return this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).maxHeight,10)},e.prototype.dropdownRowOffsetHeight=function(e){var n=getComputedStyle(e);return e.offsetHeight+parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)},e}();y.decorators=[{type:l.Directive,args:[{selector:"[ctrDropdown]"}]}],y.ctorParameters=function(){return[{type:i,decorators:[{type:l.Host}]},{type:l.ElementRef}]},y.propDecorators={onMouseDown:[{type:l.HostListener,args:["mousedown",["$event"]]}]};var C=function(){function e(e,n,t){var r=this;this.completer=e,this.ngModel=n,this.el=t,this.clearSelected=!1,this.overrideSuggested=!1,this.fillHighlighted=!0,this.ngModelChange=new l.EventEmitter,this._searchStr="",this._displayStr="",this.completer.selected.subscribe(function(e){e&&(r.clearSelected?r.searchStr="":r.searchStr=e.title,r.ngModelChange.emit(r.searchStr))}),this.completer.highlighted.subscribe(function(e){r.fillHighlighted&&(e?(r._displayStr=e.title,r.ngModelChange.emit(e.title)):(r._displayStr=r.searchStr,r.ngModelChange.emit(r.searchStr)))}),this.ngModel.valueChanges.subscribe(function(e){r._displayStr!=e&&(r.searchStr=e)})}return e.prototype.keyupHandler=function(e){37!==e.keyCode&&39!==e.keyCode&&9!==e.keyCode&&(38===e.keyCode||13===e.keyCode?e.preventDefault():40===e.keyCode?(e.preventDefault(),this.completer.search(this.searchStr)):27===e.keyCode?(this.restoreSearchValue(),this.completer.clear()):this.completer.search(this.searchStr))},e.prototype.keydownHandler=function(e){13===e.keyCode?(this.completer.hasHighlited()&&e.preventDefault(),this.handleSelection()):40===e.keyCode?(e.preventDefault(),this.completer.nextRow()):38===e.keyCode?(e.preventDefault(),this.completer.prevRow()):9===e.keyCode?this.handleSelection():27===e.keyCode&&e.preventDefault()},e.prototype.onBlur=function(e){var n=this;this.completer.isCancelBlur()?setTimeout(function(){n.el.nativeElement.focus()},0):setTimeout(function(){n.overrideSuggested?n.completer.onSelected({title:n.searchStr,originalObject:null}):n.restoreSearchValue(),n.completer.clear()},200)},Object.defineProperty(e.prototype,"searchStr",{get:function(){return this._searchStr},set:function(e){this._searchStr=e,this._displayStr=e},enumerable:!0,configurable:!0}),e.prototype.handleSelection=function(){this.overrideSuggested?this.completer.onSelected({title:this.searchStr,originalObject:null}):this.completer.hasHighlited()?this.completer.selectCurrent():this.completer.clear()},e.prototype.restoreSearchValue=function(){this.fillHighlighted&&this._displayStr!=this.searchStr&&(this._displayStr=this.searchStr,this.ngModelChange.emit(this.searchStr))},e}();C.decorators=[{type:l.Directive,args:[{selector:"[ctrInput]"}]}],C.ctorParameters=function(){return[{type:i,decorators:[{type:l.Host}]},{type:r.p},{type:l.ElementRef}]},C.propDecorators={clearSelected:[{type:l.Input,args:["clearSelected"]}],overrideSuggested:[{type:l.Input,args:["overrideSuggested"]}],fillHighlighted:[{type:l.Input,args:["fillHighlighted"]}],ngModelChange:[{type:l.Output}],keyupHandler:[{type:l.HostListener,args:["keyup",["$event"]]}],keydownHandler:[{type:l.HostListener,args:["keydown",["$event"]]}],onBlur:[{type:l.HostListener,args:["blur",["$event"]]}]};t("BdLl");var w=t("bKpL"),x=function(){return function(e,n,t){this.results=e,this.searching=n,this.searchInitialized=t}}(),_=function(){function e(e,n,t,l){this.completer=e,this.templateRef=n,this.viewContainer=t,this.cd=l,this.ctrListMinSearchLength=s,this.ctrListPause=c,this.ctrListAutoMatch=!1,this.term=null,this.searchTimer=null,this.clearTimer=null,this.ctx=new x([],!1,!1)}return e.hasTerm=function(e){return e||""===e},e.prototype.ngOnInit=function(){this.completer.registerList(this),this.viewContainer.createEmbeddedView(this.templateRef,new x([],!1,!1))},Object.defineProperty(e.prototype,"dataService",{set:function(n){var t=this;this._dataService=n,this._dataService&&this._dataService.catch(function(e){return t.handleError(e)}).subscribe(function(n){t.ctx.searchInitialized=!0,t.ctx.searching=!1,t.ctx.results=n,t.ctrListAutoMatch&&1===n.length&&n[0].title&&e.hasTerm(t.term)&&n[0].title.toLocaleLowerCase()===t.term.toLocaleLowerCase()&&t.completer.onSelected(n[0]),t.refreshTemplate()})},enumerable:!0,configurable:!0}),e.prototype.search=function(n){var t=this;e.hasTerm(n)&&n.length>=this.ctrListMinSearchLength&&this.term!==n&&(this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.ctx.searching||(this.ctx.results=[],this.ctx.searching=!0,this.ctx.searchInitialized=!0,this.refreshTemplate()),this.clearTimer&&this.clearTimer.unsubscribe(),this.searchTimer=w.Observable.timer(this.ctrListPause).subscribe(function(){t.searchTimerComplete(n)}))},e.prototype.clear=function(){var e=this;this.searchTimer&&this.searchTimer.unsubscribe(),this.clearTimer=w.Observable.timer(100).subscribe(function(){e._clear()})},e.prototype._clear=function(){this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.dataService&&this.dataService.cancel(),this.ctx.results=[],this.ctx.searchInitialized=!1,this.term=null,this.viewContainer.clear()},e.prototype.searchTimerComplete=function(n){!e.hasTerm(n)||n.length<this.ctrListMinSearchLength?this.ctx.searching=!1:(this.term=n,this._dataService.search(n))},e.prototype.handleError=function(e){this.ctx.searching=!1;var n="search error";return e&&(n=e.message?e.message:e.status?e.status+" - "+e.statusText:"Server error"),console&&console.error&&console.error(n),this.refreshTemplate(),w.Observable.throw(n)},e.prototype.refreshTemplate=function(){this.viewContainer.clear(),this.viewContainer.createEmbeddedView(this.templateRef,this.ctx),this.cd.markForCheck()},e}();_.decorators=[{type:l.Directive,args:[{selector:"[ctrList]"}]}],_.ctorParameters=function(){return[{type:i,decorators:[{type:l.Host}]},{type:l.TemplateRef},{type:l.ViewContainerRef},{type:l.ChangeDetectorRef}]},_.propDecorators={ctrListMinSearchLength:[{type:l.Input}],ctrListPause:[{type:l.Input}],ctrListAutoMatch:[{type:l.Input}],dataService:[{type:l.Input,args:["ctrList"]}]};var A=function(){function e(e,n,t){this.el=e,this.renderer=n,this.dropdown=t,this.selected=!1}return e.prototype.ngOnInit=function(){this.dropdown.registerRow(new b(this,this._rowIndex))},Object.defineProperty(e.prototype,"ctrRow",{set:function(e){this._rowIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataItem",{set:function(e){this._item=e},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){this.dropdown.onSelected(this._item)},e.prototype.onMouseEnter=function(e){this.dropdown.highlightRow(this._rowIndex)},e.prototype.setHighlited=function(e){this.selected=e,this.renderer.setElementClass(this.el.nativeElement,"completer-selected-row",this.selected)},e.prototype.getNativeElement=function(){return this.el.nativeElement},e.prototype.getDataItem=function(){return this._item},e}();A.decorators=[{type:l.Directive,args:[{selector:"[ctrRow]"}]}],A.ctorParameters=function(){return[{type:l.ElementRef},{type:l.Renderer},{type:y,decorators:[{type:l.Host}]}]},A.propDecorators={ctrRow:[{type:l.Input}],dataItem:[{type:l.Input}],onClick:[{type:l.HostListener,args:["click",["$event"]]}],onMouseEnter:[{type:l.HostListener,args:["mouseenter",["$event"]]}]};var k=t("qbdv");t.d(n,"a",function(){return O});var O=function(){return function(){}}();O.decorators=[{type:l.NgModule,args:[{imports:[k.CommonModule,r.i,o.f],declarations:[m,i,y,C,_,A,g],exports:[g,m,i,y,C,_,A],providers:[u.a,v.a,v.b]}]}],O.ctorParameters=function(){return[]}},hxWQ:function(e,n,t){"use strict";var l=this&&this.__decorate||function(e,n,t,l){var r,o=arguments.length,i=o<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,n,t,l);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(i=(o<3?r(i):o>3?r(n,t,i):r(n,t))||i);return o>3&&i&&Object.defineProperty(n,t,i),i},r=this&&this.__metadata||function(e,n){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,n)},o=t("/oeL"),i=t("9Kxs"),u=function(){function e(e){this.fileOver=new o.EventEmitter,this.onFileDrop=new o.EventEmitter,this.element=e}return e.prototype.getOptions=function(){return this.uploader.options},e.prototype.getFilters=function(){return{}},e.prototype.onDrop=function(e){var n=this._getTransfer(e);if(n){var t=this.getOptions(),l=this.getFilters();this._preventAndStop(e),this.uploader.addToQueue(n.files,t,l),this.fileOver.emit(!1),this.onFileDrop.emit(n.files)}},e.prototype.onDragOver=function(e){var n=this._getTransfer(e);this._haveFiles(n.types)&&(n.dropEffect="copy",this._preventAndStop(e),this.fileOver.emit(!0))},e.prototype.onDragLeave=function(e){this.element&&e.currentTarget===this.element[0]||(this._preventAndStop(e),this.fileOver.emit(!1))},e.prototype._getTransfer=function(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer},e.prototype._preventAndStop=function(e){e.preventDefault(),e.stopPropagation()},e.prototype._haveFiles=function(e){return!!e&&(e.indexOf?-1!==e.indexOf("Files"):!!e.contains&&e.contains("Files"))},e}();l([o.Input(),r("design:type",i.FileUploader)],u.prototype,"uploader",void 0),l([o.Output(),r("design:type",o.EventEmitter)],u.prototype,"fileOver",void 0),l([o.Output(),r("design:type",o.EventEmitter)],u.prototype,"onFileDrop",void 0),l([o.HostListener("drop",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],u.prototype,"onDrop",null),l([o.HostListener("dragover",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],u.prototype,"onDragOver",null),l([o.HostListener("dragleave",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",Object)],u.prototype,"onDragLeave",null),u=l([o.Directive({selector:"[ng2FileDrop]"}),r("design:paramtypes",[o.ElementRef])],u),n.FileDropDirective=u},i2WU:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("9GFz"),r=function(){function e(e){this._reqService=e,this._apiBase="client/task/"}return e.prototype.get=function(e){var n={id:e};return this._reqService.post(this._apiBase+"get",n)},e.prototype.saveTask=function(e,n,t){var l=[];return n.assignees.forEach(function(e){l.push({id:e.id})}),this._reqService.post(this._apiBase+"save",{envId:n.envId,planId:e,id:n.id,name:n.name,userId:n.userId,assignees:l,suites:t})},e.prototype.saveTaskCases=function(e,n,t,l){var r=l.map(function(e,n,t){return e.id});return this._reqService.post(this._apiBase+"saveCases",{caseProjectId:e,planId:n,taskId:t,cases:r})},e.prototype.delete=function(e){var n={id:e};return this._reqService.post(this._apiBase+"delete",n)},e.prototype.close=function(e){var n={id:e};return this._reqService.post(this._apiBase+"close",n)},e.ctorParameters=function(){return[{type:l.a}]},e}()},iHdl:function(e,n,t){"use strict";var l=t("/oeL"),r=t("F4M9"),o=t("VpOg"),i=t("QZuO"),u=t("bm2B"),a=t("qbdv"),s=t("KBuQ"),c=t("ZV8k"),d=t("BkNc"),f=t("C8VA"),p=t("Q0LZ"),h=t("lDqL"),g=t("JNkf");t.d(n,"a",function(){return C});var m=[[".issue-watch{margin:15px}.issue-watch form{width:100%}"]],v=l["\u0275crt"]({encapsulation:2,styles:m,data:{}});function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,13,"tr",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","link"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.remove(e.context.$implicit)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u79fb\u9664"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],null,function(e,n){e(n,3,0,n.context.$implicit.nickname),e(n,6,0,n.context.$implicit.email)})}function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,82,"div",[["class","issue-watch container-fluid"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,18,"div",[["class","list-toolbar col-xl-12"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u5173\u6ce8\u95ee\u9898"])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[["class","filter"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,3,"button",[["class","btn btn-secondary btn-with-icon btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-plus-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u8fd4\u56de\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,26,"div",[["class","my-validate-form"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,2,"label",[["class","col-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u7528\u6237\u7ec4/\u7528\u6237\u540d/\u90ae\u7bb1"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,5,"div",[["class","col-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,2,"search-select",[],null,[[null,"searchModelChange"],[null,"selectedModelsChange"],[null,"searchChange"]],function(e,n,t){var l=!0,r=e.component;"searchModelChange"===n&&(l=!1!==(r.searchModel=t)&&l);"selectedModelsChange"===n&&(l=!1!==(r.selectedModels=t)&&l);"searchChange"===n&&(l=!1!==r.changeSearch(t)&&l);return l},o.b,o.a)),l["\u0275did"](57344,null,0,i.a,[u.e],{searchModel:[0,"searchModel"],searchResult:[1,"searchResult"],selectedModels:[2,"selectedModels"]},{searchChange:"searchChange"}),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"label",[["class","col-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","col-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.batchSave()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u6dfb\u52a0"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,25,"div",[["class","row table-container"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,22,"table",[["class","table table-bordered table-hover th-bolder"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,13,"thead",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,10,"tr",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u6635\u79f0"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u90ae\u7bb1"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u64cd\u4f5c"])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,b)),l["\u0275did"](401408,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,38,0,t.searchModel,t.searchResult,t.selectedModels),e(n,78,0,t.users)},function(e,n){e(n,49,0,0==n.component.selectedModels.length)})}var C=l["\u0275ccf"]("issue-watch",r.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"issue-watch",[],null,null,null,y,v)),l["\u0275did"](2220032,null,0,r.a,[s.a,c.a,d.a,f.a,p.c,h.a,g.a],null,null)],function(e,n){e(n,1,0)},null)},{},{},[])},iNjy:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("cwtr");t("JqO+");t.d(n,"b",function(){return l.b});var r=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[l.b]}},e}()},iV7k:function(e,n,t){"use strict";t.d(n,"a",function(){return l});t("/KCW");var l=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e}()},j5Vj:function(e,n,t){t("OpZN")},k0tX:function(e,n,t){t("1/Co")},kfU5:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){return function(){}}()},kgbC:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){this._data={}}return Object.defineProperty(e.prototype,"data",{set:function(e){console.log("===",e),e&&(this._data=e,this.genChart())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.genChart=function(){this.chartOption={title:{show:!1},legend:{show:!1},padding:0,color:["#749f83","#c23531","#ca8622","#c4ccd3"],tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"\u6267\u884c\u7ed3\u679c",type:"pie",radius:"70%",center:["50%","55%"],data:this._data,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},normal:{label:{show:!0,formatter:"{b} : {c} ({d}%)"},labelLine:{show:!0}}}}]}},e.ctorParameters=function(){return[]},e}()},ktRB:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){return function(){var e=this;this.promise=new Promise(function(n,t){e.resolve=n,e.reject=t})}}()},lDqL:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("9GFz"),r=t("KBuQ"),o=function(){function e(e,n){this._reqService=e,this._routeService=n,this._apiBase="client/issue_watch/"}return e.prototype.list=function(e){var n={issueId:e};return this._reqService.post(this._apiBase+"list",n)},e.prototype.batchSave=function(e,n){var t={issueId:e,userIds:n};return this._reqService.post(this._apiBase+"batchSave",t)},e.prototype.remove=function(e,n){var t={id:e,issueId:n};return this._reqService.post(this._apiBase+"remove",t)},e.prototype.search=function(e,n,t){var l={issueId:e,keywords:n,exceptIds:t};return this._reqService.post(this._apiBase+"search",l)},e.prototype.watch=function(e,n){var t={id:e,status:n};return this._reqService.post(this._apiBase+"watch",t)},e.ctorParameters=function(){return[{type:l.a},{type:r.a}]},e}()},lZJq:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("A9qq"),r=t("ZrEx"),o=function(){function e(e){this.dateFormat=e,this.validateMsg={},this.elem={},this.model={},this.propValMap=r.a.ISU_PROPERTY_VAL_MAP}return e.prototype.ngOnInit=function(){this.val=this.getLabel()},e.prototype.getLabel=function(){console.log(this.elem,this.model);var e=this.elem.colCode,n=this.model[e];return this.elem.buildIn&&"dropdown"==this.elem.input?this.propValMap[e][n]:"date"==this.elem.input?this.dateFormat.transform(n,"yyyy-mm-dd"):"datetime"==this.elem.input?this.dateFormat.transform(n,"yyyy-mm-dd hh:mm"):("title"==e&&(n="IS-"+this.model.id+" "+n),n)},e.prototype.ngAfterViewInit=function(){},e.ctorParameters=function(){return[{type:l.a}]},e}()},lr9G:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("xrDH"),r=(t.n(l),t("9GFz")),o=function(){function e(e){this._reqService=e,this._apiBase="client/suite/"}return e.prototype.query=function(e,n,t){return l.merge(e,{page:n,pageSize:t}),this._reqService.post(this._apiBase+"query",e)},e.prototype.get=function(e){var n={id:e};return this._reqService.post(this._apiBase+"get",n)},e.prototype.save=function(e,n){var t=l.clone(n);return t.caseProjectId=e,this._reqService.post(this._apiBase+"save",t)},e.prototype.saveSuiteCases=function(e,n,t){var l=t.map(function(e,n,t){return e.id});return this._reqService.post(this._apiBase+"saveCases",{caseProjectId:e,suiteId:n,cases:l})},e.prototype.delete=function(e){var n={id:e};return this._reqService.post(this._apiBase+"delete",n)},e.prototype.close=function(e){var n={id:e};return this._reqService.post(this._apiBase+"close",n)},e.prototype.markAllRead=function(e){return this._reqService.post(this._apiBase+"markAllRead",{ids:e})},e.ctorParameters=function(){return[{type:r.a}]},e}()},mlnK:function(e,n,t){"use strict";var l=t("/oeL"),r=t("qbdv"),o=t("uQF4"),i=t("6HV0"),u=t("4aHV"),a=t("KBuQ"),s=t("BkNc"),c=t("ZV8k"),d=t("bm2B"),f=t("Q0LZ"),p=t("JNkf"),h=t("g51S"),g=t("tlIo"),m=t("lDqL"),v=t("CTdQ"),b=t("9CK1"),y=t("JmKc"),C=t("MMCg"),w=t("V1EX"),x=t("6Vsg"),_=t("C8VA");t.d(n,"a",function(){return E});var A=[[""]],k=l["\u0275crt"]({encapsulation:2,styles:A,data:{}});function O(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["IS-",""]))],null,function(e,n){e(n,1,0,n.component.issue.id)})}function S(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,27,"div",[["class","issue-view modal-content-inner"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,18,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","left"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u67e5\u770b\u95ee\u9898"])),(e()(),l["\u0275ted"](null,["\xa0\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,O)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,6,"div",[["class","right"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,3,"button",[["class","btn btn-secondary btn-with-icon btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-plus-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u5173\u95ed\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"issue-page",[],null,null,null,i.b,i.a)),l["\u0275did"](2220032,null,0,u.a,[a.a,s.a,c.a,d.e,f.c,p.a,h.a,g.a,m.a,v.a,b.a,y.a,C.a,w.a,x.a],{viewOnly:[0,"viewOnly"],page:[1,"page"],issue:[2,"issue"]},null),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,10,0,t.issue.id);e(n,25,0,!0,t.page,t.issue)},null)}var E=l["\u0275ccf"]("issue-view",o.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"issue-view",[],null,null,null,S,k)),l["\u0275did"](2220032,null,0,o.a,[a.a,s.a,c.a,_.a,h.a,p.a],null,null)],function(e,n){e(n,1,0)},null)},{},{},[])},mwJH:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("ZV8k"),r=t("9GFz"),o=function(){function e(e,n){this._reqService=e,this._state=n,this._apiBase="client/project_config/"}return e.prototype.get=function(e){var n={id:e};return this._reqService.post(this._apiBase+"get",n)},e.ctorParameters=function(){return[{type:r.a},{type:l.a}]},e}()},oDPs:function(e,n,t){"use strict";var l=t("/oeL"),r=t("bm2B"),o=t("xrDH"),i=t("56Rf"),u=t("ZV8k"),a=function(){return function(){var e=this;this.promise=new Promise(function(n,t){e.resolve=n,e.reject=t})}}();var s=t("oRYE"),c=t("kUuJ"),d=t("KBuQ"),f=t("JNkf"),p=t("MxAn");t.d(n,"a",function(){return h});var h=function(){function e(e,n,t,r,i,u,d){var f=this;this._state=e,this._routeService=n,this.renderer=t,this.fb=r,this.privilegeService=i,this.toastyService=u,this.ztreeService=d,this.eventCode="ZtreeComponent",this.renameEvent=new l.EventEmitter,this.removeEvent=new l.EventEmitter,this.moveEvent=new l.EventEmitter,this.disposersForDragListeners=[],this.childrenCount={},this.queryModel={keywords:"",projectId:""},this.keywords="",this.isExpanded=!1,this.sonSign=!1,this.isDragging=!1,this.isToCopy=!1,this.newCount=0,this.className="dark",this.projectChanged=new l.EventEmitter,this.brotherProjects=[],this.setFontCss=function(e,n){var t={color:"#333333"};return console.log("sdfds",f.settings),f.settings&&"edit"==f.settings.usage?n.reviewResult?t.color="#209e91":t.color="#dfb81c":f.settings&&"exe"==f.settings.usage&&("pass"==n.status||n.reviewResult?t.color="#209e91":"fail"==n.status||0==n.reviewResult?t.color="#e85656":"block"==n.status&&(t.color="#dfb81c")),t},this.onClick=function(e,n,t){jQuery("textarea#test-step-input").length>0&&!confirm("\u786e\u8ba4\u653e\u5f03\u672a\u4fdd\u5b58\u7684\u7528\u4f8b\u4fe1\u606f\uff1f")?f.ztree.selectNode(f.currNode):(f.currNode=t,f.notifyCaseChange(t))},this.notifyCaseChange=function(e){f.childrenCount={notReview:0,reviewPass:0,reviewFail:0},f.countChildren(e),f._state.notifyDataChanged("case."+f.settings.usage,{node:e,childrenCount:f.childrenCount,random:Math.random()}),console.log("case."+f.settings.usage)},this.countChildren=function(e){if(console.log("countChildren",e,e.isParent,!e.leaf),e.isParent)for(var n in e.children)f.countChildren(e.children[n]);else f.childrenCount[e.type]||(f.childrenCount[e.type]=0),f.childrenCount[e.type]=f.childrenCount[e.type]+1,e.status&&(f.childrenCount[e.status]||(f.childrenCount[e.status]=0),f.childrenCount[e.status]=f.childrenCount[e.status]+1),1==e.reviewResult?f.childrenCount.reviewPass=f.childrenCount.reviewPass+1:0==e.reviewResult?f.childrenCount.reviewFail=f.childrenCount.reviewFail+1:f.childrenCount.notReview=f.childrenCount.notReview+1},this.addHoverDom=function(e,n){if(!f.privilegeService.hasPrivilege("test_case-maintain")||"exe"==f.settings.usage)return!1;var t=$("#"+n.tId+"_span");if(!(n.editNameFlag||$("#addBtn_"+n.tId).length>0)){var l="<span class='button add' id='addBtn_"+n.tId+"' title='\u6dfb\u52a0' onfocus='this.blur();'></span>";t.after(l),c.d.log("treeNode.isShowDeleteBut",n);var r=jQuery("#addBtn_"+n.tId);r&&r.bind("click",function(){var e=f.ztree.addNodes(n,{id:-1*f.newCount++,pId:n.id,name:"\u65b0\u7528\u4f8b",type:"functional",priority:2,estimate:void 0});return f.ztree.editName(e[0]),!1})}},this.removeHoverDom=function(e,n){$("#addBtn_"+n.tId).unbind().remove()},this.onRename=function(e,n,t,l){var r=new a;r.promise.then(function(e){c.d.log("success to rename",e),t.id=e.id,t.entityId=e.entityId,t.ordr=e.ordr,t.tm=(new Date).getTime(),f._state.notifyDataChanged("case."+f.settings.usage,{node:o.clone(t),random:Math.random()})}).catch(function(e){c.d.log("err",e)}),f.renameEvent.emit({data:t,deferred:r})},this.beforeRemove=function(e,n){return f.className="dark"===f.className?"":"dark",f.ztree.selectNode(n),confirm('\u786e\u8ba4\u5220\u9664\u540d\u4e3a"'+n.name+'"\u7684\u7528\u4f8b\u5417\uff1f')},this.onRemove=function(e,n,t){var l=new a,r=t.pId;l.promise.then(function(e){f.ztree.getNodeByParam("id",r,null);console.log("success to remove"),f._state.notifyDataChanged("case."+f.settings.usage,{node:null,random:Math.random()})}).catch(function(e){c.d.log("err",e)}),f.removeEvent.emit({data:t,deferred:l})},this.onDrag=function(e,n,t){f.isDragging=!0},this.beforeDrop=function(e,n,t,l,r){return f.isDragging=!1,0!=t.level||"inner"==l},this.onDrop=function(e,n,t,l,r,o){if(f.isDragging=!1,l){var i=new a;i.promise.then(function(e){if(c.d.log("success to move",e),f._state.notifyDataChanged("case."+f.settings.usage,{node:e,random:Math.random()}),o){var n=void 0;n="inner"==r?l:l.getParentNode(),c.d.log("parentNode",n);var i=f.ztree.getNodesByParam("id",t[0].id,n)[0];c.d.log("copyiedNode",i),i.id=e.id,i.pId=e.pId,t[0].isParent&&f.updateCopiedNodes(i,e)}}).catch(function(e){c.d.log("err",e)}),f.moveEvent.emit({data:{pId:t[0].pId,srcId:t[0].id,targetId:l.id,moveType:r,isCopy:o},deferred:i})}},this.onExpand=function(e,n,t){t===f.autoExpandNode&&(f.className="dark"===f.className?"":"dark")},this.onCheck=function(){var e=0;f.ztree.getCheckedNodes(!0).forEach(function(n,t,l){n.isParent||e++}),f.checkCount=e},this.selectAll=function(){f.ztree.checkAllNodes(!0),f.onCheck()},this.reset=function(){f.ztree.checkAllNodes(!1),f.onCheck()},this.getTime=function(){var e=new Date;return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+" "+e.getMilliseconds()},this.onKeywordsChange=function(e){if(f.ztree){f.keywords=e;var n=f.ztree.getNodesByParam("isHidden",!0);f.ztree.showNodes(n),n=f.ztree.getNodesByFilter(function(e){return f.keywords&&!e.isParent&&e.name.indexOf(f.keywords)<0}),f.ztree.hideNodes(n)}},this.onProjectChange=function(e){e&&(f.queryModel.projectId=e,f.projectChanged.emit(e))},this.updateCopiedNodes=function(e,n){c.d.log("===",e.id,n.id),e.id=n.id,e.pId=n.pId;for(var t=0;t<e.children.length;t++)f.updateCopiedNodes(e.children[t],n.children[t])},this.jumpTo=function(e){f._routeService.gotoCase(e);var n=f.ztree.getNodeByParam("id",e,null);if(n)f.ztree.selectNode(n),f.notifyCaseChange(n);else{f.toastyService.warning({title:"\u672a\u627e\u5230\u7528\u4f8b",timeout:2e3})}},this.showRemoveBtn=function(e,n){return"exe"!=f.treeSettings.usage&&f.privilegeService.hasPrivilege("test_case-delete")&&!!n.pId},this.showRenameBtn=function(e,n){return f.privilegeService.hasPrivilege("test_case-maintain")},this.treeHeight=c.c.getContainerHeight(s.a.HEAD_HEIGHT+s.a.FOOTER_HEIGHT+s.a.ZTREE_TOOOLBAR_HEIGHT),this.queryForm=this.fb.group({projectId:["",[]],keywords:["",[]]},{}),this.settings={usage:null,isExpanded:null,view:{addHoverDom:this.addHoverDom,removeHoverDom:this.removeHoverDom,selectedMulti:!1,fontCss:this.setFontCss},edit:{enable:!0,showRemoveBtn:this.showRemoveBtn,showRenameBtn:this.showRenameBtn,editNameSelectAll:!0,renameTitle:"\u7f16\u8f91",removeTitle:"\u5220\u9664",drag:{autoExpandTrigger:!0}},data:{simpleData:{enable:!0}},callback:{onClick:this.onClick,beforeRemove:this.beforeRemove,onRemove:this.onRemove,onRename:this.onRename,onDrag:this.onDrag,beforeDrop:this.beforeDrop,onDrop:this.onDrop,onCheck:this.onCheck,onExpand:this.onExpand}}}return Object.defineProperty(e.prototype,"treeModel",{set:function(e){e&&(this._state.notifyDataChanged("case."+this.settings.usage,{node:null,random:Math.random()}),o.merge(this.settings,this.treeSettings),this.isExpanded=this.settings.isExpanded,this.sonSign=this.settings.sonSign,("selection"==this.settings.usage||this.treeSettings.readonly)&&(this.settings.view.addHoverDom=null,this.settings.view.removeHoverDom=null,this.settings.edit.enable=!1),"selection"==this.settings.usage&&(this.settings.check={enable:!0,chkboxType:{Y:"ps",N:"ps"}}),this._treeModel=e,this.ztree=jQuery.fn.zTree.init($("#tree"),this.settings,this._treeModel),this.ztree.expandNode(this.ztree.getNodes()[0],this.isExpanded,this.sonSign,!0),this.settings.jumpTo&&this.jumpTo(this.settings.jumpTo),this.currNode=this.ztree.getNodes()[0],this.notifyCaseChange(this.currNode))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.queryModel.projectId=this.projectId,this._state.subscribe(s.a.EVENT_CASE_JUMP,this.eventCode,function(n){c.d.log(s.a.EVENT_CASE_JUMP),e.jumpTo(n+"")}),this._state.subscribe(s.a.EVENT_CASE_UPDATE,this.eventCode,function(n){var t=n.node;if(t){var l=e.ztree.getNodeByParam("id",t.id,null);l.name=t.name,l.status=t.status,l.reviewResult=t.reviewResult,e.ztree.updateNode(l)}})},e.prototype.ngAfterViewInit=function(){var e=this;this.disposersForDragListeners.push(this.renderer.listen("document","keyup",this.copyKeyup.bind(this))),this.disposersForDragListeners.push(this.renderer.listen("document","keydown",this.copyKeyDown.bind(this))),setTimeout(function(){e.queryForm.controls.keywords.valueChanges.debounceTime(s.a.DebounceTime).subscribe(function(n){return e.onKeywordsChange(n)}),e.queryForm.controls.projectId.valueChanges.debounceTime(s.a.DebounceTime).subscribe(function(n){return e.onProjectChange(n)})},500)},e.prototype.copyKeyup=function(e){this.isToCopy=!1},e.prototype.copyKeyDown=function(e){this.isToCopy=!0},e.prototype.ngOnDestroy=function(){this.disposersForDragListeners.forEach(function(e){return e()})},e.prototype.expandOrNot=function(){this.isExpanded&&this.sonSign?(this.isExpanded=!0,this.sonSign=!1,this.ztree.expandAll(!1)):(this.isExpanded=!0,this.sonSign=!0,this.ztree.expandAll(!0))},e.ctorParameters=function(){return[{type:u.a},{type:d.a},{type:l.Renderer2,decorators:[{type:l.Inject,args:[l.Renderer2]}]},{type:r.e},{type:f.a},{type:i.b},{type:p.a,decorators:[{type:l.Inject,args:[p.a]}]}]},e}()},oKOW:function(e,n,t){"use strict";function l(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}l(t("X68L")),l(t("hxWQ")),l(t("9Kxs")),l(t("5uVf")),l(t("fKez"));var r=t("Hw/e");n.FileUploadModule=r.FileUploadModule},oQZj:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var l,r=t("/oeL"),o=t("bKpL"),i=(t.n(o),t("HDzC")),u=this&&this.__extends||(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}l(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),a=function(e){function n(){return e.call(this)||this}return u(n,e),n.prototype.data=function(e){var n=this;return e instanceof o.Observable?e.subscribe(function(e){n._data=e,n.savedTerm&&n.search(n.savedTerm)}):this._data=e,this},n.prototype.search=function(e){if(this._data){this.savedTerm=null;var n=this.extractMatches(this._data,e);this.next(this.processResults(n))}else this.savedTerm=e},n}(i.a);a.decorators=[{type:r.Injectable}],a.ctorParameters=function(){return[]}},pBVq:function(e,n,t){"use strict";n.a=function(e){return void 0!==e&&null!==e}},poxU:function(e,n,t){"use strict";var l=t("/oeL"),r=t("2jsF"),o=t("DEAB"),i=t("MxAn"),u=t("oDPs"),a=t("ZV8k"),s=t("KBuQ"),c=t("bm2B"),d=t("JNkf"),f=t("Q0LZ"),p=t("qbdv"),h=function(){function e(){}return e.prototype.onClick=function(e){e.stopPropagation()},e.prototype.ngOnInit=function(){var e=this;setTimeout(function(){"undefined"!==typeof document&&document.addEventListener("click",e.offClickHandler)},0)},e.prototype.ngOnDestroy=function(){"undefined"!==typeof document&&document.removeEventListener("click",this.offClickHandler)},e}();function g(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}var m=function(){function e(){}return e.prototype.transform=function(e,n){if(n.length<1)return e;if(n){var t=new RegExp("<[^<>]*>","ig"),l=e.match(t);e=e.replace(t,"$!$").replace(new RegExp(g(n),"gi"),"<strong>$&</strong>");for(var r=0;e.indexOf("$!$")>-1;r++)e=e.replace("$!$",l[r])}return e},e}();function v(e){return e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,"")}var b,y=t("fc+i"),C=function(){function e(n){var t=this;"string"===typeof n&&(this.id=this.text=n),"object"===typeof n&&(this.id=n.id||n.text,this.text=n.text,n.children&&n.text&&(this.children=n.children.map(function(n){var l=new e(n);return l.parent=t,l}),this.text=n.text))}return e.prototype.fillChildrenHash=function(e,n){var t=n;return this.children.map(function(n){e.set(n.id,t++)}),t},e.prototype.hasChildren=function(){return this.children&&this.children.length>0},e.prototype.getSimilar=function(){var n=new e(!1);return n.id=this.id,n.text=this.text,n.parent=this.parent,n},e}(),w=this&&this.__extends||(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}b(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),x=function(){function e(e,n){this.sanitizer=n,this.allowClear=!1,this.placeholder="",this.idField="id",this.textField="text",this.childrenField="children",this.multiple=!1,this.selectedUsers=[],this.data=new l.EventEmitter,this.selected=new l.EventEmitter,this.removed=new l.EventEmitter,this.typed=new l.EventEmitter,this.opened=new l.EventEmitter,this.options=[],this.itemObjects=[],this.onChange=Function.prototype,this.onTouched=Function.prototype,this.inputMode=!1,this._optionsOpened=!1,this.inputValue="",this._items=[],this._disabled=!1,this._active=[],this.element=e,this.clickedOutside=this.clickedOutside.bind(this)}return Object.defineProperty(e.prototype,"items",{set:function(e){var n=this;e?(this._items=e.filter(function(e){if("string"===typeof e||"object"===typeof e&&e&&e[n.textField]&&e[n.idField])return e}),this.itemObjects=this._items.map(function(e){return new C("string"===typeof e?e:{id:e[n.idField],text:e[n.textField],children:e[n.childrenField]})})):this._items=this.itemObjects=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,!0===this._disabled&&this.hideOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},set:function(e){var n=this;if(e&&0!==e.length){var t="string"===typeof e[0];this._active=e.map(function(e){var l=t?e:{id:e[n.idField],text:e[n.textField]};return new C(l)})}else this._active=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"optionsOpened",{get:function(){return this._optionsOpened},set:function(e){this._optionsOpened=e,this.opened.emit(e)},enumerable:!0,configurable:!0}),e.prototype.sanitize=function(e){return this.sanitizer.bypassSecurityTrustHtml(e)},e.prototype.inputEvent=function(e,n){if(void 0===n&&(n=!1),9!==e.keyCode)if(!n||37!==e.keyCode&&39!==e.keyCode&&38!==e.keyCode&&40!==e.keyCode&&13!==e.keyCode){if(!n&&8===e.keyCode){var t=this.element.nativeElement.querySelector("div.ui-select-container > input");(!t.value||t.value.length<=0)&&(this.active.length>0&&this.remove(this.active[this.active.length-1]),e.preventDefault())}if(!n&&27===e.keyCode)return this.hideOptions(),this.element.nativeElement.children[0].focus(),void e.preventDefault();if(n||46!==e.keyCode||(this.active.length>0&&this.remove(this.active[this.active.length-1]),e.preventDefault()),!n&&37===e.keyCode&&this._items.length>0)return this.behavior.first(),void e.preventDefault();if(!n&&39===e.keyCode&&this._items.length>0)return this.behavior.last(),void e.preventDefault();if(!n&&38===e.keyCode)return this.behavior.prev(),void e.preventDefault();if(!n&&40===e.keyCode)return this.behavior.next(),void e.preventDefault();if(!n&&13===e.keyCode)return-1===this.active.indexOf(this.activeOption)&&(this.selectActiveMatch(),this.behavior.next()),void e.preventDefault();var l=e.target||e.srcElement;l&&l.value?(this.inputValue=l.value,this.behavior.filter(new RegExp(g(this.inputValue),"ig")),this.doEvent("typed",this.inputValue)):this.open()}else e.preventDefault()},e.prototype.ngOnInit=function(){this.behavior=this.firstItemHasChildren?new k(this):new A(this)},e.prototype.remove=function(e){if(!0!==this._disabled){if(!0===this.multiple&&this.active){var n=this.active.indexOf(e);this.active.splice(n,1),this.data.next(this.active),this.doEvent("removed",e)}!1===this.multiple&&(this.active=[],this.data.next(this.active),this.doEvent("removed",e))}},e.prototype.doEvent=function(e,n){this[e]&&n&&this[e].next(n),this.onTouched(),"selected"!==e&&"removed"!==e||this.onChange(this.active)},e.prototype.clickedOutside=function(){this.inputMode=!1,this.optionsOpened=!1},Object.defineProperty(e.prototype,"firstItemHasChildren",{get:function(){return this.itemObjects[0]&&this.itemObjects[0].hasChildren()},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){this.active=e,this.data.emit(this.active)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.matchClick=function(e){!0!==this._disabled&&(this.inputMode=!this.inputMode,!0===this.inputMode&&(!0===this.multiple&&e||!1===this.multiple)&&(this.focusToInput(),this.open()))},e.prototype.mainClick=function(e){if(!0!==this.inputMode&&!0!==this._disabled){if(46===e.keyCode)return e.preventDefault(),void this.inputEvent(e);if(8===e.keyCode)return e.preventDefault(),void this.inputEvent(e,!0);if(9===e.keyCode||13===e.keyCode||27===e.keyCode||e.keyCode>=37&&e.keyCode<=40)e.preventDefault();else{this.inputMode=!0;var n=String.fromCharCode(96<=e.keyCode&&e.keyCode<=105?e.keyCode-48:e.keyCode).toLowerCase();this.focusToInput(n),this.open(),(e.target||e.srcElement).value=n,this.inputEvent(e)}}},e.prototype.selectActive=function(e){this.activeOption=e},e.prototype.isActive=function(e){return this.activeOption.id===e.id},e.prototype.removeClick=function(e,n){n.stopPropagation(),this.remove(e)},e.prototype.focusToInput=function(e){var n=this;void 0===e&&(e=""),setTimeout(function(){var t=n.element.nativeElement.querySelector("div.ui-select-container > input");t&&(t.focus(),t.value=e)},0)},e.prototype.open=function(){var e=this;this.options=this.itemObjects.filter(function(n){return!1===e.multiple||!0===e.multiple&&!e.active.find(function(e){return n.text===e.text})}),this.options.length>0&&this.behavior.first(),this.optionsOpened=!0},e.prototype.hideOptions=function(){this.inputMode=!1,this.optionsOpened=!1},e.prototype.selectActiveMatch=function(){this.selectMatch(this.activeOption)},e.prototype.selectMatch=function(e,n){void 0===n&&(n=void 0),n&&(n.stopPropagation(),n.preventDefault()),this.options.length<=0||(!0===this.multiple&&(this.active.push(e),this.data.next(this.active)),!1===this.multiple&&(this.active[0]=e,this.data.next(this.active[0])),this.doEvent("selected",e),this.hideOptions(),!0===this.multiple?this.focusToInput(""):(this.focusToInput(v(e.text)),this.element.nativeElement.querySelector(".ui-select-container").focus()))},e.ctorParameters=function(){return[{type:l.ElementRef},{type:y.c}]},e}(),_=function(){function e(e){this.optionsMap=new Map,this.actor=e}return e.prototype.fillOptionsMap=function(){var e=this;this.optionsMap.clear();var n=0;this.actor.itemObjects.map(function(t){n=t.fillChildrenHash(e.optionsMap,n)})},e.prototype.ensureHighlightVisible=function(e){void 0===e&&(e=void 0);var n=this.actor.element.nativeElement.querySelector(".ui-select-choices-content");if(n){var t=n.querySelectorAll(".ui-select-choices-row");if(!(t.length<1)){var l=this.getActiveIndex(e);if(!(l<0)){var r=t[l];if(r){var o=r.offsetTop+r.clientHeight-n.scrollTop,i=n.offsetHeight;o>i?n.scrollTop+=o-i:o<r.clientHeight&&(n.scrollTop-=r.clientHeight-o)}}}}},e.prototype.getActiveIndex=function(e){void 0===e&&(e=void 0);var n=this.actor.options.indexOf(this.actor.activeOption);return n<0&&void 0!==e&&(n=e.get(this.actor.activeOption.id)),n},e}(),A=function(e){function n(n){return e.call(this,n)||this}return w(n,e),n.prototype.first=function(){this.actor.activeOption=this.actor.options[0],e.prototype.ensureHighlightVisible.call(this)},n.prototype.last=function(){this.actor.activeOption=this.actor.options[this.actor.options.length-1],e.prototype.ensureHighlightVisible.call(this)},n.prototype.prev=function(){var n=this.actor.options.indexOf(this.actor.activeOption);this.actor.activeOption=this.actor.options[n-1<0?this.actor.options.length-1:n-1],e.prototype.ensureHighlightVisible.call(this)},n.prototype.next=function(){var n=this.actor.options.indexOf(this.actor.activeOption);this.actor.activeOption=this.actor.options[n+1>this.actor.options.length-1?0:n+1],e.prototype.ensureHighlightVisible.call(this)},n.prototype.filter=function(n){var t=this,l=this.actor.itemObjects.filter(function(e){return v(e.text).match(n)&&(!1===t.actor.multiple||!0===t.actor.multiple&&t.actor.active.map(function(e){return e.id}).indexOf(e.id)<0)});this.actor.options=l,this.actor.options.length>0&&(this.actor.activeOption=this.actor.options[0],e.prototype.ensureHighlightVisible.call(this))},n}(_),k=function(e){function n(n){return e.call(this,n)||this}return w(n,e),n.prototype.first=function(){this.actor.activeOption=this.actor.options[0].children[0],this.fillOptionsMap(),this.ensureHighlightVisible(this.optionsMap)},n.prototype.last=function(){this.actor.activeOption=this.actor.options[this.actor.options.length-1].children[this.actor.options[this.actor.options.length-1].children.length-1],this.fillOptionsMap(),this.ensureHighlightVisible(this.optionsMap)},n.prototype.prev=function(){var e=this,n=this.actor.options.findIndex(function(n){return e.actor.activeOption.parent&&e.actor.activeOption.parent.id===n.id}),t=this.actor.options[n].children.findIndex(function(n){return e.actor.activeOption&&e.actor.activeOption.id===n.id});this.actor.activeOption=this.actor.options[n].children[t-1],this.actor.activeOption||this.actor.options[n-1]&&(this.actor.activeOption=this.actor.options[n-1].children[this.actor.options[n-1].children.length-1]),this.actor.activeOption||this.last(),this.fillOptionsMap(),this.ensureHighlightVisible(this.optionsMap)},n.prototype.next=function(){var e=this,n=this.actor.options.findIndex(function(n){return e.actor.activeOption.parent&&e.actor.activeOption.parent.id===n.id}),t=this.actor.options[n].children.findIndex(function(n){return e.actor.activeOption&&e.actor.activeOption.id===n.id});this.actor.activeOption=this.actor.options[n].children[t+1],this.actor.activeOption||this.actor.options[n+1]&&(this.actor.activeOption=this.actor.options[n+1].children[0]),this.actor.activeOption||this.first(),this.fillOptionsMap(),this.ensureHighlightVisible(this.optionsMap)},n.prototype.filter=function(n){for(var t=[],l=new Map,r=0,o=0,i=this.actor.itemObjects;o<i.length;o++){var u=i[o],a=u.children.filter(function(e){return n.test(e.text)});if(r=u.fillChildrenHash(l,r),a.length>0){var s=u.getSimilar();s.children=a,t.push(s)}}this.actor.options=t,this.actor.options.length>0&&(this.actor.activeOption=this.actor.options[0].children[0],e.prototype.ensureHighlightVisible.call(this,l))},n}(_),O=[[".muti-select[_ngcontent-%COMP%]   .ui-select-toggle[_ngcontent-%COMP%]{position:relative}.muti-select[_ngcontent-%COMP%]   .ui-select-placeholder[_ngcontent-%COMP%]{float:left}.muti-select[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%] > .dropdown[_ngcontent-%COMP%]{position:static}.muti-select[_ngcontent-%COMP%]   .ui-select-match[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{text-align:left!important}.muti-select[_ngcontent-%COMP%]   .ui-select-match[_ngcontent-%COMP%] > .caret[_ngcontent-%COMP%]{position:absolute;top:45%;right:15px}.muti-select[_ngcontent-%COMP%]   .ui-disabled[_ngcontent-%COMP%]{background-color:#eceeef;border-radius:4px;position:absolute;width:100%;height:100%;z-index:5;opacity:.6;top:0;left:0;cursor:not-allowed}.muti-select[_ngcontent-%COMP%]   .ui-select-choices[_ngcontent-%COMP%]{width:100%;height:auto;max-height:200px;overflow-x:hidden;margin-top:0;padding-left:0}.muti-select[_ngcontent-%COMP%]   .ui-select-choices[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}.muti-select[_ngcontent-%COMP%]   .ui-select-multiple[_ngcontent-%COMP%]   .ui-select-choices[_ngcontent-%COMP%]{margin-top:1px}.muti-select[_ngcontent-%COMP%]   .ui-select-choices-row[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.muti-select[_ngcontent-%COMP%]   .ui-select-choices-row.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;outline:0;background-color:#428bca}.muti-select[_ngcontent-%COMP%]   .ui-select-multiple[_ngcontent-%COMP%]{height:auto;padding:3px 3px 0 3px}.muti-select[_ngcontent-%COMP%]   .ui-select-multiple[_ngcontent-%COMP%]   input.ui-select-search[_ngcontent-%COMP%]{background-color:transparent!important;border:none;outline:none;box-shadow:none;height:1.6666em;padding:0;margin-bottom:3px}.muti-select[_ngcontent-%COMP%]   .ui-select-match[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-size:1.6em;line-height:.75}.muti-select[_ngcontent-%COMP%]   .ui-select-multiple[_ngcontent-%COMP%]   .ui-select-match-item[_ngcontent-%COMP%]{outline:0;margin:0 3px 3px 0}.muti-select[_ngcontent-%COMP%]   .ui-select-toggle[_ngcontent-%COMP%] > .caret[_ngcontent-%COMP%]{position:absolute;height:10px;top:50%;right:10px;margin-top:-2px}"]],S=l["\u0275crt"]({encapsulation:0,styles:O,data:{}});function E(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","ui-select-placeholder text-muted"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""]))],null,function(e,n){e(n,1,0,n.component.placeholder)})}function R(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,2,"span",[["class","ui-select-match-text pull-left"]],[[8,"innerHTML",1]],null,null,null,null)),l["\u0275did"](139264,null,0,p.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](["ui-select-allow-clear"])],function(e,n){var t=n.component;e(n,1,0,"ui-select-match-text pull-left",e(n,2,0,t.allowClear&&t.active.length>0))},function(e,n){var t=n.component;e(n,0,0,t.sanitize(t.active[0].text))})}function P(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,3,"a",[["class","btn btn-xs btn-link pull-right"],["style","margin-right: 10px; padding: 0;"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.removeClick(r.active[0],t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n           "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","glyphicon glyphicon-remove"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "]))],null,null)}function M(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,17,"div",[["class","ui-select-match"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,14,"span",[["class","btn btn-default btn-secondary form-control ui-select-toggle"],["style","outline: 0;"],["tabindex","-1"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.matchClick(t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,E)),l["\u0275did"](8192,null,0,p.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,R)),l["\u0275did"](8192,null,0,p.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","dropdown-toggle pull-right"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","caret pull-right"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,P)),l["\u0275did"](8192,null,0,p.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){var t=n.component;e(n,5,0,t.active.length<=0),e(n,8,0,t.active.length>0),e(n,15,0,t.allowClear&&t.active.length>0)},null)}function I(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,0,"input",[["autocomplete","false"],["class","form-control ui-select-search"],["tabindex","-1"],["type","text"]],[[8,"disabled",0],[8,"placeholder",0]],[[null,"keydown"],[null,"keyup"]],function(e,n,t){var l=!0,r=e.component;"keydown"===n&&(l=!1!==r.inputEvent(t)&&l);"keyup"===n&&(l=!1!==r.inputEvent(t,!0)&&l);return l},null,null))],null,function(e,n){var t=n.component;e(n,0,0,t.disabled,l["\u0275inlineInterpolate"](1,"",t.active.length<=0?t.placeholder:"",""))})}function D(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,10,"li",[["role","menuitem"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","ui-select-choices-row"]],[[2,"active",null]],[[null,"mouseenter"],[null,"click"]],function(e,n,t){var l=!0,r=e.component;"mouseenter"===n&&(l=!1!==r.selectActive(e.context.$implicit)&&l);"click"===n&&(l=!1!==r.selectMatch(e.context.$implicit,t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"a",[["class","dropdown-item"],["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[],[[8,"innerHTML",1]],null,null,null,null)),l["\u0275ppd"](2),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "]))],null,function(e,n){var t=n.component;e(n,2,0,t.isActive(n.context.$implicit)),e(n,6,0,t.sanitize(l["\u0275unv"](n,6,0,e(n,7,0,l["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.text,t.inputValue))))})}function T(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"ul",[["class","ui-select-choices muti-select-dropdown-menu"],["role","menu"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,D)),l["\u0275did"](401408,null,0,p.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){e(n,3,0,n.component.options)},null)}function N(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,0,"div",[["class","divider dropdown-divider"]],null,null,null,null,null))],null,null)}function B(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,9,"div",[["class","ui-select-choices-row"]],[[2,"active",null]],[[null,"mouseenter"],[null,"click"]],function(e,n,t){var l=!0,r=e.component;"mouseenter"===n&&(l=!1!==r.selectActive(e.context.$implicit)&&l);"click"===n&&(l=!1!==r.selectMatch(e.context.$implicit,t)&&l);return l},null,null)),l["\u0275did"](139264,null,0,p.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](["active"]),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"a",[["class","dropdown-item"],["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[],[[8,"innerHTML",1]],null,null,null,null)),l["\u0275ppd"](2),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){e(n,1,0,"ui-select-choices-row",e(n,2,0,n.component.isActive(n.context.$implicit)))},function(e,n){var t=n.component;e(n,0,0,t.isActive(n.context.$implicit)),e(n,6,0,t.sanitize(l["\u0275unv"](n,6,0,e(n,7,0,l["\u0275nov"](n.parent.parent.parent.parent,0),n.context.$implicit.text,t.inputValue))))})}function F(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,10,"li",[["role","menuitem"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,N)),l["\u0275did"](8192,null,0,p.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[["class","dropdown-header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,B)),l["\u0275did"](401408,null,0,p.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n    "]))],function(e,n){e(n,3,0,n.context.index>0),e(n,9,0,n.context.$implicit.children)},function(e,n){e(n,6,0,n.context.$implicit.text)})}function L(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"ul",[["class","ui-select-choices muti-select-dropdown-menu"],["role","menu"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,F)),l["\u0275did"](401408,null,0,p.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){e(n,3,0,n.component.options)},null)}function H(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,19,"div",[["class","ui-select-container dropdown open"],["tabindex","0"]],null,[[null,"keyup"],[null,"click"]],function(e,n,t){var r=!0,o=e.component;"click"===n&&(r=!1!==l["\u0275nov"](e,1).onClick(t)&&r);"keyup"===n&&(r=!1!==o.mainClick(t)&&r);return r},null,null)),l["\u0275did"](106496,null,0,h,[],{offClickHandler:[0,"offClickHandler"]},null),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,2,"div",[],null,null,null,null,null)),l["\u0275did"](139264,null,0,p.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](["ui-disabled"]),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,M)),l["\u0275did"](8192,null,0,p.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,I)),l["\u0275did"](8192,null,0,p.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,T)),l["\u0275did"](8192,null,0,p.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,L)),l["\u0275did"](8192,null,0,p.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,1,0,t.clickedOutside),e(n,4,0,e(n,5,0,t.disabled)),e(n,8,0,!t.inputMode),e(n,11,0,t.inputMode),e(n,15,0,t.optionsOpened&&t.options&&t.options.length>0&&!t.firstItemHasChildren),e(n,18,0,t.optionsOpened&&t.options&&t.options.length>0&&t.firstItemHasChildren)},null)}function z(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,11,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,8,"span",[["class","ui-select-match-item btn btn-default btn-secondary btn-xs"],["tabindex","-1"],["type","button"]],null,null,null,null,null)),l["\u0275did"](139264,null,0,p.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](["btn-default"]),(e()(),l["\u0275ted"](null,["\n               "])),(e()(),l["\u0275eld"](0,null,null,1,"a",[["class","close"],["style","margin-left: 5px; padding: 0;"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.removeClick(e.context.$implicit,t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\xd7"])),(e()(),l["\u0275ted"](null,["\n               "])),(e()(),l["\u0275eld"](0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n           "])),(e()(),l["\u0275ted"](null,["\n        "]))],function(e,n){e(n,3,0,"ui-select-match-item btn btn-default btn-secondary btn-xs",e(n,4,0,!0))},function(e,n){e(n,9,0,n.component.sanitize(n.context.$implicit.text))})}function V(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,10,"li",[["role","menuitem"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","ui-select-choices-row"]],[[2,"active",null]],[[null,"mouseenter"],[null,"click"]],function(e,n,t){var l=!0,r=e.component;"mouseenter"===n&&(l=!1!==r.selectActive(e.context.$implicit)&&l);"click"===n&&(l=!1!==r.selectMatch(e.context.$implicit,t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"a",[["class","dropdown-item"],["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[],[[8,"innerHTML",1]],null,null,null,null)),l["\u0275ppd"](2),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "]))],null,function(e,n){var t=n.component;e(n,2,0,t.isActive(n.context.$implicit)),e(n,6,0,t.sanitize(l["\u0275unv"](n,6,0,e(n,7,0,l["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.text,t.inputValue))))})}function q(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"ul",[["class","ui-select-choices muti-select-dropdown-menu"],["role","menu"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,V)),l["\u0275did"](401408,null,0,p.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){e(n,3,0,n.component.options)},null)}function j(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,0,"div",[["class","divider dropdown-divider"]],null,null,null,null,null))],null,null)}function W(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,9,"div",[["class","ui-select-choices-row"]],[[2,"active",null]],[[null,"mouseenter"],[null,"click"]],function(e,n,t){var l=!0,r=e.component;"mouseenter"===n&&(l=!1!==r.selectActive(e.context.$implicit)&&l);"click"===n&&(l=!1!==r.selectMatch(e.context.$implicit,t)&&l);return l},null,null)),l["\u0275did"](139264,null,0,p.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](["active"]),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,4,"a",[["class","dropdown-item"],["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[],[[8,"innerHTML",1]],null,null,null,null)),l["\u0275ppd"](2),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "]))],function(e,n){e(n,1,0,"ui-select-choices-row",e(n,2,0,n.component.isActive(n.context.$implicit)))},function(e,n){var t=n.component;e(n,0,0,t.isActive(n.context.$implicit)),e(n,6,0,t.sanitize(l["\u0275unv"](n,6,0,e(n,7,0,l["\u0275nov"](n.parent.parent.parent.parent,0),n.context.$implicit.text,t.inputValue))))})}function U(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,10,"li",[["role","menuitem"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,j)),l["\u0275did"](8192,null,0,p.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[["class","dropdown-header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275and"](8388608,null,null,1,null,W)),l["\u0275did"](401408,null,0,p.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n    "]))],function(e,n){e(n,3,0,n.context.index>0),e(n,9,0,n.context.$implicit.children)},function(e,n){e(n,6,0,n.context.$implicit.text)})}function Q(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"ul",[["class","ui-select-choices muti-select-dropdown-menu"],["role","menu"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n\n    "])),(e()(),l["\u0275and"](8388608,null,null,1,null,U)),l["\u0275did"](401408,null,0,p.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n  "]))],function(e,n){e(n,3,0,n.component.options)},null)}function G(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,21,"div",[["class","ui-select-container ui-select-multiple dropdown form-control open"],["tabindex","0"]],null,[[null,"keyup"],[null,"focus"],[null,"click"]],function(e,n,t){var r=!0,o=e.component;"click"===n&&(r=!1!==l["\u0275nov"](e,1).onClick(t)&&r);"keyup"===n&&(r=!1!==o.mainClick(t)&&r);"focus"===n&&(r=!1!==o.focusToInput("")&&r);return r},null,null)),l["\u0275did"](106496,null,0,h,[],{offClickHandler:[0,"offClickHandler"]},null),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,2,"div",[],null,null,null,null,null)),l["\u0275did"](139264,null,0,p.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](["ui-disabled"]),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,4,"span",[["class","ui-select-match"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275and"](8388608,null,null,1,null,z)),l["\u0275did"](401408,null,0,p.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,0,"input",[["autocapitalize","off"],["autocomplete","false"],["autocorrect","off"],["class","form-control ui-select-search"],["role","combobox"],["spellcheck","false"],["type","text"]],[[8,"disabled",0],[8,"placeholder",0]],[[null,"keydown"],[null,"keyup"],[null,"click"]],function(e,n,t){var l=!0,r=e.component;"keydown"===n&&(l=!1!==r.inputEvent(t)&&l);"keyup"===n&&(l=!1!==r.inputEvent(t,!0)&&l);"click"===n&&(l=!1!==r.matchClick(t)&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,q)),l["\u0275did"](8192,null,0,p.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,Q)),l["\u0275did"](8192,null,0,p.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,1,0,t.clickedOutside),e(n,4,0,e(n,5,0,t.disabled)),e(n,10,0,t.active),e(n,17,0,t.optionsOpened&&t.options&&t.options.length>0&&!t.firstItemHasChildren),e(n,20,0,t.optionsOpened&&t.options&&t.options.length>0&&t.firstItemHasChildren)},function(e,n){var t=n.component;e(n,13,0,t.disabled,l["\u0275inlineInterpolate"](1,"",t.active.length<=0?t.placeholder:"",""))})}function K(e){return l["\u0275vid"](0,[l["\u0275pid"](0,m,[]),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","muti-select"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275and"](8388608,null,null,1,null,H)),l["\u0275did"](8192,null,0,p.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n"])),(e()(),l["\u0275and"](8388608,null,null,1,null,G)),l["\u0275did"](8192,null,0,p.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,4,0,!1===t.multiple),e(n,7,0,!0===t.multiple)},null)}l["\u0275ccf"]("ng-select",x,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,2,"ng-select",[],null,null,null,K,S)),l["\u0275did"](57344,null,0,x,[l.ElementRef,y.c],null,null),l["\u0275prd"](2560,null,c.l,function(e){return[e]},[x])],function(e,n){e(n,1,0)},null)},{allowClear:"allowClear",placeholder:"placeholder",idField:"idField",textField:"textField",childrenField:"childrenField",multiple:"multiple",items:"items",disabled:"disabled",active:"active"},{data:"data",selected:"selected",removed:"removed",typed:"typed",opened:"opened"},[]);var Y=t("C8VA"),Z=t("lr9G"),J=t("0jz5");t.d(n,"a",function(){return ne});var X=[[".case-selection-inner[_ngcontent-%COMP%]{font-size:14px}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;border:1px solid #ddd;height:100%}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{position:relative;-ms-flex:1;flex:1;border-right:1px solid #ddd;overflow:auto}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 5px 5px 5px}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{width:350px;height:100%;overflow:auto}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .tree-toolbar[_ngcontent-%COMP%]{padding-left:10px}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:5px}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:0;box-shadow:none}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#f7f7f9;height:35px;line-height:35px;padding:0 8px;font-size:14px}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1b867b}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{padding:5px}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:3px}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{margin:0}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:right;max-width:70px}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   label.form-check-label[_ngcontent-%COMP%]{min-width:40px;margin-right:8px;text-align:left}.case-selection-inner[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   label.form-check-label[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-right:3px}"]],$=l["\u0275crt"]({encapsulation:0,styles:X,data:{}});function ee(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,349,"div",[["class","case-selection-inner modal-content-inner"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u8bf7\u9009\u62e9\u7528\u4f8b"])),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-primary confirm-btn"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.save()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u786e\u8ba4"])),(e()(),l["\u0275ted"](null,["\n    \xa0\xa0\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.dismiss()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u53d6\u6d88"])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275eld"](0,null,null,334,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,331,"div",[["class","cols"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,6,"div",[["class","modules"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,3,"ztree",[],null,[[null,"projectChanged"]],function(e,n,t){var l=!0,r=e.component;"projectChanged"===n&&(l=!1!==r.changeProject(t)&&l);return l},o.b,o.a)),l["\u0275prd"](256,null,i.a,i.a,[]),l["\u0275did"](2220032,null,0,u.a,[a.a,s.a,l.Renderer2,c.e,d.a,f.c,i.a],{projectId:[0,"projectId"],treeSettings:[1,"treeSettings"],brotherProjects:[2,"brotherProjects"],treeModel:[3,"treeModel"]},{projectChanged:"projectChanged"}),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,320,"div",[["class","filter"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","ztree-toolbar"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u8fc7\u6ee4\u5668"])),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[["class","link"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.resetFilters()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u5168\u90e8\u590d\u4f4d"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,308,"div",[["class","content"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,305,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var r=!0;"submit"===n&&(r=!1!==l["\u0275nov"](e,41).onSubmit(t)&&r);"reset"===n&&(r=!1!==l["\u0275nov"](e,41).onReset()&&r);return r},null,null)),l["\u0275did"](8192,null,0,c.y,[],null,null),l["\u0275did"](270336,null,0,c.h,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](1024,null,c.c,null,[c.h]),l["\u0275did"](8192,null,0,c.o,[c.c],null,null),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275eld"](0,null,null,298,"div",[["aria-multiselectable","true"],["id","accordion"],["role","tablist"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275eld"](0,null,null,151,"div",[["class","card"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","card-header"],["id","headingType"],["role","tab"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","mb-0"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275eld"](0,null,null,1,"a",[["aria-controls","collapseOne"],["aria-expanded","true"],["data-parent","#accordion1"],["data-toggle","collapse"],["href","#collapseType"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                      \u7279\u6027\n                    "])),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275eld"](0,null,null,139,"div",[["aria-labelledby","headingType"],["class","collapse show"],["id","collapseType"],["role","tabpanel"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275eld"](0,null,null,136,"div",[["class","card-block"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n                    "])),(e()(),l["\u0275eld"](0,null,null,50,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,1,"label",[["class","col-3 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u7c7b\u578b"])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,44,"div",[["class","col-9"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                        "])),(e()(),l["\u0275eld"](0,null,null,41,"div",[["class","form-check  form-check-inline"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n                          "])),(e()(),l["\u0275eld"](0,null,null,8,"label",[["class","col-form-label form-check-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                            "])),(e()(),l["\u0275eld"](0,null,null,5,"input",[["class","form-check-input"],["formControlName","type"],["name","functional"],["type","checkbox"],["value","functional"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,74).onChange(t.target.checked)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,74).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.queryModel.type.functional=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,c.b,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,c.l,function(e){return[e]},[c.b]),l["\u0275did"](335872,null,0,c.g,[[3,c.c],[8,null],[8,null],[2,c.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,c.m,null,[c.g]),l["\u0275did"](8192,null,0,c.n,[c.m],null,null),(e()(),l["\u0275ted"](null,["\u529f\u80fd\n                          "])),(e()(),l["\u0275ted"](null,["\n\n                          "])),(e()(),l["\u0275eld"](0,null,null,8,"label",[["class","col-form-label form-check-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,5,"input",[["class","form-check-input"],["formControlName","type"],["name","performance"],["type","checkbox"],["value","performance"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,84).onChange(t.target.checked)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,84).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.queryModel.type.performance=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,c.b,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,c.l,function(e){return[e]},[c.b]),l["\u0275did"](335872,null,0,c.g,[[3,c.c],[8,null],[8,null],[2,c.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,c.m,null,[c.g]),l["\u0275did"](8192,null,0,c.n,[c.m],null,null),(e()(),l["\u0275ted"](null,["\u6027\u80fd\n                          "])),(e()(),l["\u0275ted"](null,["\n\n                          "])),(e()(),l["\u0275eld"](0,null,null,8,"label",[["class","col-form-label form-check-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                            "])),(e()(),l["\u0275eld"](0,null,null,5,"input",[["class","form-check-input"],["formControlName","type"],["name","security"],["type","checkbox"],["value","security"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,94).onChange(t.target.checked)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,94).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.queryModel.type.security=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,c.b,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,c.l,function(e){return[e]},[c.b]),l["\u0275did"](335872,null,0,c.g,[[3,c.c],[8,null],[8,null],[2,c.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,c.m,null,[c.g]),l["\u0275did"](8192,null,0,c.n,[c.m],null,null),(e()(),l["\u0275ted"](null,["\u5b89\u5168\n                          "])),(e()(),l["\u0275ted"](null,["\n\n                          "])),(e()(),l["\u0275eld"](0,null,null,8,"label",[["class","col-form-label form-check-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                            "])),(e()(),l["\u0275eld"](0,null,null,5,"input",[["class","form-check-input"],["formControlName","type"],["name","other"],["type","checkbox"],["value","other"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,104).onChange(t.target.checked)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,104).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.queryModel.type.other=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,c.b,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,c.l,function(e){return[e]},[c.b]),l["\u0275did"](335872,null,0,c.g,[[3,c.c],[8,null],[8,null],[2,c.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,c.m,null,[c.g]),l["\u0275did"](8192,null,0,c.n,[c.m],null,null),(e()(),l["\u0275ted"](null,["\u5176\u4ed6\n                          "])),(e()(),l["\u0275ted"](null,["\n\n                        "])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275ted"](null,["\n\n                    "])),(e()(),l["\u0275eld"](0,null,null,40,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,1,"label",[["class","col-3 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u4f18\u5148\u7ea7"])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,34,"div",[["class","col-9"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                        "])),(e()(),l["\u0275eld"](0,null,null,31,"div",[["class","form-check  form-check-inline"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n                          "])),(e()(),l["\u0275eld"](0,null,null,8,"label",[["class","col-form-label form-check-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                            "])),(e()(),l["\u0275eld"](0,null,null,5,"input",[["class","form-check-input"],["formControlName","priority"],["name","high"],["type","checkbox"],["value","1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,126).onChange(t.target.checked)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,126).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.queryModel.priority.high=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,c.b,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,c.l,function(e){return[e]},[c.b]),l["\u0275did"](335872,null,0,c.g,[[3,c.c],[8,null],[8,null],[2,c.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,c.m,null,[c.g]),l["\u0275did"](8192,null,0,c.n,[c.m],null,null),(e()(),l["\u0275ted"](null,["\u9ad8\n                          "])),(e()(),l["\u0275ted"](null,["\n\n                          "])),(e()(),l["\u0275eld"](0,null,null,8,"label",[["class","col-form-label form-check-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                            "])),(e()(),l["\u0275eld"](0,null,null,5,"input",[["class","form-check-input"],["formControlName","priority"],["name","middle"],["type","checkbox"],["value","2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,136).onChange(t.target.checked)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,136).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.queryModel.priority.middle=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,c.b,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,c.l,function(e){return[e]},[c.b]),l["\u0275did"](335872,null,0,c.g,[[3,c.c],[8,null],[8,null],[2,c.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,c.m,null,[c.g]),l["\u0275did"](8192,null,0,c.n,[c.m],null,null),(e()(),l["\u0275ted"](null,["\u4e2d\n                          "])),(e()(),l["\u0275ted"](null,["\n\n                          "])),(e()(),l["\u0275eld"](0,null,null,8,"label",[["class","col-form-label form-check-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                            "])),(e()(),l["\u0275eld"](0,null,null,5,"input",[["class","form-check-input"],["formControlName","priority"],["name","low"],["type","checkbox"],["value","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,146).onChange(t.target.checked)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,146).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.queryModel.priority.low=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,c.b,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,c.l,function(e){return[e]},[c.b]),l["\u0275did"](335872,null,0,c.g,[[3,c.c],[8,null],[8,null],[2,c.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,c.m,null,[c.g]),l["\u0275did"](8192,null,0,c.n,[c.m],null,null),(e()(),l["\u0275ted"](null,["\u4f4e\n                          "])),(e()(),l["\u0275ted"](null,["\n\n                        "])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275ted"](null,["\n\n                    "])),(e()(),l["\u0275eld"](0,null,null,39,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,1,"label",[["class","col-3 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u8017\u65f6"])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,33,"div",[["class","col-9"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                        "])),(e()(),l["\u0275eld"](0,null,null,30,"select",[["class","form-control form-control-sm"],["formControlName","estimate"],["name","estimate"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,164).onChange(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,164).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.queryModel.estimate=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,c.t,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,c.l,function(e){return[e]},[c.t]),l["\u0275did"](335872,null,0,c.g,[[3,c.c],[8,null],[8,null],[2,c.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,c.m,null,[c.g]),l["\u0275did"](8192,null,0,c.n,[c.m],null,null),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,2,"option",[["value",""]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,3,"option",[["value","0-15"]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["\u5c11\u4e8e15\u5206\u949f"])),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,3,"option",[["value","15-20"]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["15-30\u5206\u949f"])),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,3,"option",[["value","30-60"]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["30-60\u5206\u949f"])),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,3,"option",[["value","60-600"]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["\u5927\u4e8e1\u5c0f\u65f6"])),(e()(),l["\u0275ted"](null,["\n                        "])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275ted"](null,["\n\n                  "])),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275eld"](0,null,null,98,"div",[["class","card"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","card-header"],["id","headingTime"],["role","tab"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","mb-0"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275eld"](0,null,null,1,"a",[["aria-controls","collapseTime"],["aria-expanded","true"],["data-parent","#accordion4"],["data-toggle","collapse"],["href","#collapseTime"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                      \u65f6\u95f4\n                    "])),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275eld"](0,null,null,86,"div",[["aria-labelledby","headingCreate"],["class","collapse show"],["id","collapseTime"],["role","tabpanel"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275eld"](0,null,null,83,"div",[["class","card-block"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275eld"](0,null,null,39,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,1,"label",[["class","col-3 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u521b\u5efa\u4e8e"])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,33,"div",[["class","col-9"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                        "])),(e()(),l["\u0275eld"](0,null,null,30,"select",[["class","form-control form-control-sm"],["formControlName","createTime"],["name","createTime"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,223).onChange(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,223).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.queryModel.createTime=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,c.t,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,c.l,function(e){return[e]},[c.t]),l["\u0275did"](335872,null,0,c.g,[[3,c.c],[8,null],[8,null],[2,c.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,c.m,null,[c.g]),l["\u0275did"](8192,null,0,c.n,[c.m],null,null),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,2,"option",[["value",""]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["1\u5929\u5185"])),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["3\u5929\u5185"])),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,3,"option",[["value","7"]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["1\u5468\u5185"])),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,3,"option",[["value","31"]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["1\u6708\u5185"])),(e()(),l["\u0275ted"](null,["\n                        "])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275eld"](0,null,null,39,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,1,"label",[["class","col-3 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u66f4\u65b0\u4e8e"])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,33,"div",[["class","col-9"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                        "])),(e()(),l["\u0275eld"](0,null,null,30,"select",[["class","form-control form-control-sm"],["formControlName","updateTime"],["name","updateTime"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,264).onChange(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,264).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.queryModel.updateTime=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,c.t,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,c.l,function(e){return[e]},[c.t]),l["\u0275did"](335872,null,0,c.g,[[3,c.c],[8,null],[8,null],[2,c.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,c.m,null,[c.g]),l["\u0275did"](8192,null,0,c.n,[c.m],null,null),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,2,"option",[["value",""]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["1\u5929\u5185"])),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["3\u5929\u5185"])),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,3,"option",[["value","7"]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["1\u5468\u5185"])),(e()(),l["\u0275ted"](null,["\n                          "])),(e()(),l["\u0275eld"](0,null,null,3,"option",[["value","31"]],null,null,null,null,null)),l["\u0275did"](73728,null,0,c.q,[l.ElementRef,l.Renderer,[2,c.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,c.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["1\u6708\u5185"])),(e()(),l["\u0275ted"](null,["\n                        "])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275eld"](0,null,null,42,"div",[["class","card"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","card-header"],["id","headingUser"],["role","tab"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","mb-0"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275eld"](0,null,null,1,"a",[["aria-controls","collapseUser"],["aria-expanded","true"],["data-parent","#accordion5"],["data-toggle","collapse"],["href","#collapseUser"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                      \u7528\u6237\n                    "])),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275eld"](0,null,null,30,"div",[["aria-labelledby","headingUpdate"],["class","collapse show"],["id","collapseUser"],["role","tabpanel"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275eld"](0,null,null,27,"div",[["class","card-block"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275eld"](0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,1,"label",[["class","col-3 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u521b\u5efa\u4eba"])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,5,"div",[["class","col-9"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                        "])),(e()(),l["\u0275eld"](0,null,null,2,"ng-select",[["placeholder","\u8bf7\u9009\u62e9"]],null,[[null,"activeChange"],[null,"data"]],function(e,n,t){var l=!0,r=e.component;"activeChange"===n&&(l=!1!==(r.createUsers=t)&&l);"data"===n&&(l=!1!==r.refreshCreateBy(t)&&l);return l},K,S)),l["\u0275did"](57344,null,0,x,[l.ElementRef,y.c],{placeholder:[0,"placeholder"],idField:[1,"idField"],textField:[2,"textField"],multiple:[3,"multiple"],items:[4,"items"],disabled:[5,"disabled"],active:[6,"active"]},{data:"data"}),l["\u0275prd"](2560,null,c.l,function(e){return[e]},[x]),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275eld"](0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,1,"label",[["class","col-3 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u6700\u540e\u66f4\u65b0"])),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275eld"](0,null,null,5,"div",[["class","col-9"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n                        "])),(e()(),l["\u0275eld"](0,null,null,2,"ng-select",[["placeholder","\u8bf7\u9009\u62e9"]],null,[[null,"activeChange"],[null,"data"]],function(e,n,t){var l=!0,r=e.component;"activeChange"===n&&(l=!1!==(r.updateUsers=t)&&l);"data"===n&&(l=!1!==r.refreshUpdateBy(t)&&l);return l},K,S)),l["\u0275did"](57344,null,0,x,[l.ElementRef,y.c],{placeholder:[0,"placeholder"],idField:[1,"idField"],textField:[2,"textField"],multiple:[3,"multiple"],items:[4,"items"],disabled:[5,"disabled"],active:[6,"active"]},{data:"data"}),l["\u0275prd"](2560,null,c.l,function(e){return[e]},[x]),(e()(),l["\u0275ted"](null,["\n                      "])),(e()(),l["\u0275ted"](null,["\n                    "])),(e()(),l["\u0275ted"](null,["\n                  "])),(e()(),l["\u0275ted"](null,["\n                "])),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n\n\n"]))],function(e,n){var t=n.component;e(n,22,0,t.caseProjectId,t.treeSettings,t.brotherProjects,t.treeModel),e(n,41,0,t.form);e(n,76,0,"type",t.queryModel.type.functional);e(n,86,0,"type",t.queryModel.type.performance);e(n,96,0,"type",t.queryModel.type.security);e(n,106,0,"type",t.queryModel.type.other);e(n,128,0,"priority",t.queryModel.priority.high);e(n,138,0,"priority",t.queryModel.priority.middle);e(n,148,0,"priority",t.queryModel.priority.low);e(n,166,0,"estimate",t.queryModel.estimate);e(n,171,0,"");e(n,172,0,"");e(n,175,0,"0-15");e(n,176,0,"0-15");e(n,180,0,"15-20");e(n,181,0,"15-20");e(n,185,0,"30-60");e(n,186,0,"30-60");e(n,190,0,"60-600");e(n,191,0,"60-600");e(n,225,0,"createTime",t.queryModel.createTime);e(n,230,0,"");e(n,231,0,"");e(n,234,0,"1");e(n,235,0,"1");e(n,239,0,"3");e(n,240,0,"3");e(n,244,0,"7");e(n,245,0,"7");e(n,249,0,"31");e(n,250,0,"31");e(n,266,0,"updateTime",t.queryModel.updateTime);e(n,271,0,"");e(n,272,0,"");e(n,275,0,"1");e(n,276,0,"1");e(n,280,0,"3");e(n,281,0,"3");e(n,285,0,"7");e(n,286,0,"7");e(n,290,0,"31");e(n,291,0,"31");e(n,323,0,"\u8bf7\u9009\u62e9","id","nickname",!0,t.users,t.disabled,t.createUsers);e(n,336,0,"\u8bf7\u9009\u62e9","id","nickname",!0,t.users,t.disabled,t.updateUsers)},function(e,n){e(n,39,0,l["\u0275nov"](n,43).ngClassUntouched,l["\u0275nov"](n,43).ngClassTouched,l["\u0275nov"](n,43).ngClassPristine,l["\u0275nov"](n,43).ngClassDirty,l["\u0275nov"](n,43).ngClassValid,l["\u0275nov"](n,43).ngClassInvalid,l["\u0275nov"](n,43).ngClassPending),e(n,73,0,l["\u0275nov"](n,78).ngClassUntouched,l["\u0275nov"](n,78).ngClassTouched,l["\u0275nov"](n,78).ngClassPristine,l["\u0275nov"](n,78).ngClassDirty,l["\u0275nov"](n,78).ngClassValid,l["\u0275nov"](n,78).ngClassInvalid,l["\u0275nov"](n,78).ngClassPending),e(n,83,0,l["\u0275nov"](n,88).ngClassUntouched,l["\u0275nov"](n,88).ngClassTouched,l["\u0275nov"](n,88).ngClassPristine,l["\u0275nov"](n,88).ngClassDirty,l["\u0275nov"](n,88).ngClassValid,l["\u0275nov"](n,88).ngClassInvalid,l["\u0275nov"](n,88).ngClassPending),e(n,93,0,l["\u0275nov"](n,98).ngClassUntouched,l["\u0275nov"](n,98).ngClassTouched,l["\u0275nov"](n,98).ngClassPristine,l["\u0275nov"](n,98).ngClassDirty,l["\u0275nov"](n,98).ngClassValid,l["\u0275nov"](n,98).ngClassInvalid,l["\u0275nov"](n,98).ngClassPending),e(n,103,0,l["\u0275nov"](n,108).ngClassUntouched,l["\u0275nov"](n,108).ngClassTouched,l["\u0275nov"](n,108).ngClassPristine,l["\u0275nov"](n,108).ngClassDirty,l["\u0275nov"](n,108).ngClassValid,l["\u0275nov"](n,108).ngClassInvalid,l["\u0275nov"](n,108).ngClassPending),e(n,125,0,l["\u0275nov"](n,130).ngClassUntouched,l["\u0275nov"](n,130).ngClassTouched,l["\u0275nov"](n,130).ngClassPristine,l["\u0275nov"](n,130).ngClassDirty,l["\u0275nov"](n,130).ngClassValid,l["\u0275nov"](n,130).ngClassInvalid,l["\u0275nov"](n,130).ngClassPending),e(n,135,0,l["\u0275nov"](n,140).ngClassUntouched,l["\u0275nov"](n,140).ngClassTouched,l["\u0275nov"](n,140).ngClassPristine,l["\u0275nov"](n,140).ngClassDirty,l["\u0275nov"](n,140).ngClassValid,l["\u0275nov"](n,140).ngClassInvalid,l["\u0275nov"](n,140).ngClassPending),e(n,145,0,l["\u0275nov"](n,150).ngClassUntouched,l["\u0275nov"](n,150).ngClassTouched,l["\u0275nov"](n,150).ngClassPristine,l["\u0275nov"](n,150).ngClassDirty,l["\u0275nov"](n,150).ngClassValid,l["\u0275nov"](n,150).ngClassInvalid,l["\u0275nov"](n,150).ngClassPending),e(n,163,0,l["\u0275nov"](n,168).ngClassUntouched,l["\u0275nov"](n,168).ngClassTouched,l["\u0275nov"](n,168).ngClassPristine,l["\u0275nov"](n,168).ngClassDirty,l["\u0275nov"](n,168).ngClassValid,l["\u0275nov"](n,168).ngClassInvalid,l["\u0275nov"](n,168).ngClassPending),e(n,222,0,l["\u0275nov"](n,227).ngClassUntouched,l["\u0275nov"](n,227).ngClassTouched,l["\u0275nov"](n,227).ngClassPristine,l["\u0275nov"](n,227).ngClassDirty,l["\u0275nov"](n,227).ngClassValid,l["\u0275nov"](n,227).ngClassInvalid,l["\u0275nov"](n,227).ngClassPending),e(n,263,0,l["\u0275nov"](n,268).ngClassUntouched,l["\u0275nov"](n,268).ngClassTouched,l["\u0275nov"](n,268).ngClassPristine,l["\u0275nov"](n,268).ngClassDirty,l["\u0275nov"](n,268).ngClassValid,l["\u0275nov"](n,268).ngClassInvalid,l["\u0275nov"](n,268).ngClassPending)})}var ne=l["\u0275ccf"]("case-selection",r.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"case-selection",[],null,null,null,ee,$)),l["\u0275did"](57344,null,0,r.a,[Y.a,c.e,i.a,Z.a,J.a],null,null)],function(e,n){e(n,1,0)},null)},{selectFor:"selectFor",treeModel:"treeModel",treeSettings:"treeSettings",brotherProjects:"brotherProjects",users:"users",progress:"progress",color:"color",height:"height",show:"show"},{},[])},sLwK:function(e,n,t){"use strict";var l=this&&this.__extends||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);function l(){this.constructor=e}e.prototype=null===n?Object.create(n):(l.prototype=n.prototype,new l)},r=t("EsGe"),o=t("bKpL"),i=t("IhB/"),u=t("MicL"),a=t("6jp4"),s=function(e){function n(n,t,l){void 0===n&&(n=0),e.call(this),this.period=-1,this.dueTime=0,r.isNumeric(t)?this.period=Number(t)<1?1:Number(t):u.isScheduler(t)&&(l=t),u.isScheduler(l)||(l=i.async),this.scheduler=l,this.dueTime=a.isDate(n)?+n-this.scheduler.now():n}return l(n,e),n.create=function(e,t,l){return void 0===e&&(e=0),new n(e,t,l)},n.dispatch=function(e){var n=e.index,t=e.period,l=e.subscriber;if(l.next(n),!l.closed){if(-1===t)return l.complete();e.index=n+1,this.schedule(e,t)}},n.prototype._subscribe=function(e){var t=this.period,l=this.dueTime;return this.scheduler.schedule(n.dispatch,l,{index:0,period:t,subscriber:e})},n}(o.Observable);n.TimerObservable=s},sZAn:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e}()},tZ9s:function(e,n,t){"use strict";t.d(n,"a",function(){return l});t("OFit");var l=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e}()},tlIo:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("9GFz"),r=t("KBuQ"),o=function(){function e(e,n){this._reqService=e,this._routeService=n,this._apiBase="client/issue_opt/",this._apiAttachmentBase="client/issue_attachment/"}return e.prototype.statusTran=function(e,n,t){var l={id:e,dictStatusId:n,dictStatusName:t};return this._reqService.post(this._apiBase+"statusTran",l)},e.prototype.assign=function(e,n,t){var l={id:e,userId:n,comments:t};return this._reqService.post(this._apiBase+"assign",l)},e.prototype.saveAttachment=function(e,n,t){return this._reqService.post(this._apiAttachmentBase+"save",{issueId:e,name:n,path:t})},e.prototype.removeAttachment=function(e,n){return this._reqService.post(this._apiAttachmentBase+"remove",{issueId:e,id:n})},e.ctorParameters=function(){return[{type:l.a},{type:r.a}]},e}()},uQF4:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var l=t("BkNc"),r=t("0WLp"),o=t("ZV8k"),i=t("KBuQ"),u=t("oRYE"),a=t("JNkf"),s=t("g51S"),c=function(){function e(e,n,t,l,r,o){this._routeService=e,this._route=n,this._state=t,this.activeModal=l,this.issueService=r,this.privilegeService=o,this.eventCode="IssueView",this.page={},this.issue={},this.issuePropMap={},this.issueTransMap={},this.issuePropMap=u.a.ISU_PROPERTY_MAP,this.canEdit=this.privilegeService.hasPrivilege("issue-update")}return Object.defineProperty(e.prototype,"id",{set:function(e){this._id=e,console.log("id",this._id),this.loadData()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.loadData=function(){var e=this;this.issueService.view(this._id).subscribe(function(n){e.issue=n.data,e.page=n.page,e.issuePropMap=n.issuePropMap,e.issueTransMap=n.issueTransMap,e.page.elements.forEach(function(e){e.readonly=!0})})},e.prototype.optResult=function(e){console.log("$event",e)},e.prototype.cancel=function(){this.activeModal.dismiss({act:"cancel"})},e.prototype.ngOnDestroy=function(){},e.ctorParameters=function(){return[{type:i.a},{type:l.a},{type:o.a},{type:r.b},{type:s.a},{type:a.a}]},e}()},uSpx:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("ZrEx"),r=function(){function e(){this._data={}}return Object.defineProperty(e.prototype,"data",{set:function(e){e&&(this._data=e,this.genChart())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.genChart=function(){var e=[],n=[];for(var t in this._data.xList=this._data.xList.map(function(e){return e+"\u5929"}),this._data)"xList"!=t&&(e.push(t),n.push({name:t,type:"bar",stack:"\u6570\u91cf",data:this._data[t]}));this.chartOption={title:{text:this.title,show:!0,top:"top",left:"center",textStyle:{fontSize:"15"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"15%",right:"70px",bottom:"8%",left:"3%",containLabel:!0},legend:{right:"0%",width:"15%",data:e},color:l.a.CHART_COLORS,xAxis:[{type:"category",axisLabel:{interval:0,rotate:45,margin:10},data:this._data.xList}],yAxis:[{name:"\u6570\u91cf",type:"value"}],series:n}},e.ctorParameters=function(){return[]},e}()},ubhB:function(e,n,t){"use strict";var l=t("/oeL"),r=t("qbdv"),o=t("lZJq"),i=t("A9qq");t.d(n,"a",function(){return a}),n.b=d;var u=[[""]],a=l["\u0275crt"]({encapsulation:0,styles:u,data:{}});function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""]))],null,function(e,n){e(n,1,0,n.component.val)})}function c(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,0,"div",[["style","display: inline;"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(e,n){var t=n.component;e(n,0,0,t.model[t.elem.colCode])})}function d(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","field-input-view"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,s)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275and"](8388608,null,null,1,null,c)),l["\u0275did"](8192,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,3,0,"richtext"!=t.elem.input),e(n,6,0,"richtext"==t.elem.input)},null)}l["\u0275ccf"]("input-view",o.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"input-view",[],null,null,null,d,a)),l["\u0275did"](2154496,null,0,o.a,[i.a],null,null)],function(e,n){e(n,1,0)},null)},{form:"form",validateMsg:"validateMsg",elem:"elem",model:"model"},{},[])},v1Uf:function(e,n,t){"use strict";var l=t("/oeL"),r=t("qbdv"),o=t("ZNgT"),i=t("LJO5"),u=t("hPIC"),a=t("Qkx6"),s=t("A9qq"),c=t("fAab");t.d(n,"a",function(){return f}),n.b=p;var d=[[""]],f=l["\u0275crt"]({encapsulation:0,styles:d,data:{}});function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,15,"div",[["class","form-group row issue-field-edit"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,6,"label",[],[[2,"required",null]],null,null,null,null)),l["\u0275did"](139264,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer],{ngClass:[0,"ngClass"]},null),l["\u0275pad"](4),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,1,"label-show",[],null,null,null,o.b,o.a)),l["\u0275did"](57344,null,0,i.a,[],{elem:[0,"elem"]},null),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,1,"input-edit",[],null,null,null,u.b,u.a)),l["\u0275did"](2154496,null,0,a.a,[s.a],{form:[0,"form"],validateMsg:[1,"validateMsg"],elem:[2,"elem"],options:[3,"options"],model:[4,"model"]},null),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,3,0,e(n,4,0,t.elem.required?"required":"","col-sm-"+t.labelColNum,"col-sm","col-form-label")),e(n,7,0,t.elem),e(n,13,0,t.form,t.validateMsg,t.elem,t.issuePropMap[t.elem.colCode],t.model)},function(e,n){var t=n.component;e(n,2,0,t.elem.required),e(n,10,0,l["\u0275inlineInterpolate"](1,"col-sm-",12-t.labelColNum,""))})}l["\u0275ccf"]("issue-field-edit",c.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"issue-field-edit",[],null,null,null,p,f)),l["\u0275did"](57344,null,0,c.a,[],null,null)],function(e,n){e(n,1,0)},null)},{model:"model",elem:"elem",issuePropMap:"issuePropMap",form:"form",validateMsg:"validateMsg"},{},[])},vatH:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){}return e.ctorParameters=function(){return[]},e}()},vioa:function(e,n,t){"use strict";var l=t("sLwK");n.timer=l.TimerObservable.create},vjf1:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("/oeL"),r=t("vvWA"),o=function(){return function(){}}();o.decorators=[{type:l.NgModule,args:[{declarations:[r.a],exports:[r.a]}]}],o.ctorParameters=function(){return[]}},vvWA:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("/oeL"),r=function(){function e(e,n,t){this.el=e,this.renderer=n,this._ngZone=t,this.theme="",this.chartInit=new l.EventEmitter,this.chartClick=new l.EventEmitter,this.chartDblClick=new l.EventEmitter,this.chartMouseDown=new l.EventEmitter,this.chartMouseUp=new l.EventEmitter,this.chartMouseOver=new l.EventEmitter,this.chartMouseOut=new l.EventEmitter,this.chartGlobalOut=new l.EventEmitter,this.chartContextMenu=new l.EventEmitter,this.chartDataZoom=new l.EventEmitter,this.myChart=null,this.currentWindowWidth=null}return e.prototype.createChart=function(){var e=this;return this.theme=this.theme||"",this.currentWindowWidth=window.innerWidth,this.theme?this._ngZone.runOutsideAngular(function(){return echarts.init(e.el.nativeElement,e.theme)}):this._ngZone.runOutsideAngular(function(){return echarts.init(e.el.nativeElement)})},e.prototype.updateChart=function(){this.myChart.setOption(this.options,!0),this.myChart.resize()},e.prototype.resetChart=function(){this.myChart.setOption({},!0)},e.prototype.onWindowResize=function(e){e.target.innerWidth!==this.currentWindowWidth&&(this.currentWindowWidth=e.target.innerWidth,this.myChart&&this.myChart.resize())},e.prototype.ngOnChanges=function(e){e.dataset&&this.onDatasetChange(this.dataset),e.options&&this.onOptionsChange(this.options),e.loading&&this.onLoadingChange(this.loading)},e.prototype.ngOnDestroy=function(){this.myChart&&(this.myChart.dispose(),this.myChart=null)},e.prototype.onOptionsChange=function(e){e&&(this.myChart||(this.myChart=this.createChart(),this.chartInit.emit(this.myChart),this.registerEvents(this.myChart)),this.hasData()?this.updateChart():this.dataset&&this.dataset.length?(this.mergeDataset(this.dataset),this.updateChart()):"{}"!==JSON.stringify(e)||this.dataset||this.resetChart())},e.prototype.onDatasetChange=function(e){this.myChart&&this.options&&(this.options.series||(this.options.series=[]),this.mergeDataset(e),this.updateChart())},e.prototype.onLoadingChange=function(e){this.myChart&&(e?this.myChart.showLoading():this.myChart.hideLoading())},e.prototype.mergeDataset=function(e){for(var n=0,t=e.length;n<t;n++)this.options.series[n]?this.options.series[n].data=e[n]:this.options.series[n]={data:e[n]}},e.prototype.hasData=function(){if(this.options.baseOption&&this.options.baseOption.timeline){var e=this.options.options;if(e.length)for(var n=0,t=e;n<t.length;n++){var l=t[n];if(l.series)for(var r=0,o=l.series;r<o.length;r++){if((a=o[r]).data&&a.data.length>0)return!0}}return!1}if(!this.options.series||!this.options.series.length)return!1;for(var i=0,u=this.options.series;i<u.length;i++){var a;if((a=u[i]).data&&a.data.length>0)return!0}return!1},e.prototype.registerEvents=function(e){var n=this;e&&(e.on("click",function(e){n.chartClick.emit(e)}),e.on("dblClick",function(e){n.chartDblClick.emit(e)}),e.on("mousedown",function(e){n.chartMouseDown.emit(e)}),e.on("mouseup",function(e){n.chartMouseUp.emit(e)}),e.on("mouseover",function(e){n.chartMouseOver.emit(e)}),e.on("mouseout",function(e){n.chartMouseOut.emit(e)}),e.on("globalout",function(e){n.chartGlobalOut.emit(e)}),e.on("contextmenu",function(e){n.chartContextMenu.emit(e)}),e.on("dataZoom",function(e){n.chartDataZoom.emit(e)}))},e.prototype.clear=function(){this.myChart&&this.myChart.clear()},e}();r.decorators=[{type:l.Directive,args:[{selector:"[echarts]"}]}],r.ctorParameters=function(){return[{type:l.ElementRef},{type:l.Renderer},{type:l.NgZone}]},r.propDecorators={options:[{type:l.Input}],dataset:[{type:l.Input}],theme:[{type:l.Input}],loading:[{type:l.Input}],chartInit:[{type:l.Output}],chartClick:[{type:l.Output}],chartDblClick:[{type:l.Output}],chartMouseDown:[{type:l.Output}],chartMouseUp:[{type:l.Output}],chartMouseOver:[{type:l.Output}],chartMouseOut:[{type:l.Output}],chartGlobalOut:[{type:l.Output}],chartContextMenu:[{type:l.Output}],chartDataZoom:[{type:l.Output}],onWindowResize:[{type:l.HostListener,args:["window:resize",["$event"]]}]}},wbz2:function(e,n,t){"use strict";var l=t("/oeL"),r=t("JqO+"),o=t("cwtr");t.d(n,"a",function(){return u}),n.b=a;var i=[[".slim-loading-bar[_ngcontent-%COMP%]{position:fixed;margin:0;padding:0;top:0;left:0;right:0;z-index:99999}.slim-loading-bar-progress[_ngcontent-%COMP%]{margin:0;padding:0;z-index:99998;background-color:#209e91;color:#209e91;box-shadow:0 0 1px 0;height:2px;opacity:0;transition:all .5s ease-in-out}"]],u=l["\u0275crt"]({encapsulation:0,styles:i,data:{}});function a(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](null,["\n"])),(e()(),l["\u0275eld"](0,null,null,3,"div",[["class","slim-loading-bar"]],[[4,"position",null]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,0,"div",[["class","slim-loading-bar-progress"]],[[4,"width",null],[4,"backgroundColor",null],[4,"color",null],[4,"height",null],[4,"opacity",null]],null,null,null,null)),(e()(),l["\u0275ted"](null,["\n"]))],null,function(e,n){var t=n.component;e(n,1,0,t.position),e(n,3,0,t.progress+"%",t.color,t.color,t.height,t.show?"1":"0")})}l["\u0275ccf"]("ng2-slim-loading-bar",r.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"ng2-slim-loading-bar",[],null,null,null,a,u)),l["\u0275did"](57344,null,0,r.a,[o.b],null,null)],function(e,n){e(n,1,0)},null)},{position:"position",progress:"progress",color:"color",height:"height",show:"show"},{},[])},x58Y:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("xrDH"),r=(t.n(l),function(){function e(){}return e.prototype.onSave=function(e){if(e.preventDefault(),e.stopPropagation(),!l.trim(this.row.getNewData().opt))return confirm("\u64cd\u4f5c\u6b65\u9aa4\u4e0d\u80fd\u4e3a\u7a7a!"),!1;this.grid.save(this.row,this.saveConfirm)},e.prototype.onCancelEdit=function(e){e.preventDefault(),e.stopPropagation(),this.grid.isEditing=!1,this.row.isNew?this.grid.delete(this.row,null):this.row.isInEditing=!1},e.prototype.ngOnChanges=function(){},e}())},xBY2:function(e,n,t){"use strict";t.d(n,"b",function(){return s}),t.d(n,"a",function(){return c});var l,r=t("/oeL"),o=t("MYQ/"),i=t("4oBK"),u=t("4ito"),a=this&&this.__extends||(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}l(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),s=function(e){function n(n,t,l,o,i){var u=e.call(this,n,t,l,o)||this;return u.elemRef=n,u._sortableDataService=i,u._sortableData=[],u.onDropSuccessCallback=new r.EventEmitter,u.dragEnabled=!1,u}return a(n,e),Object.defineProperty(n.prototype,"draggable",{set:function(e){this.dragEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortableData",{get:function(){return this._sortableData},set:function(e){this._sortableData=e,this.dropEnabled=!!this._sortableData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropzones",{set:function(e){this.dropZones=e},enumerable:!0,configurable:!0}),n.prototype._onDragEnterCallback=function(e){if(this._sortableDataService.isDragged){var n=this._sortableDataService.sortableContainer._sortableData[this._sortableDataService.index];-1===this._sortableData.indexOf(n)&&(this._sortableDataService.sortableContainer._sortableData.splice(this._sortableDataService.index,1),0===this._sortableDataService.sortableContainer._sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),console.log("=================",this._sortableData,n),this._sortableData.push(n),this._sortableDataService.sortableContainer=this,this._sortableDataService.index=this._sortableData.length-1),this.detectChanges()}},n.prototype._onDropCallback=function(e){console.log("---3-_onDropCallback--",this._elem.id),this._sortableDataService.isDragged&&(this.onDropSuccessCallback.emit({target:this._elem.id,data:this._dragDropService.dragData}),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit(this._dragDropService.dragData))},n.ctorParameters=function(){return[{type:r.ElementRef},{type:u.a},{type:i.a},{type:r.ChangeDetectorRef},{type:u.b}]},n}(o.a),c=function(e){function n(n,t,l,o,i,u){var a=e.call(this,n,t,l,u)||this;return a._sortableContainer=o,a._sortableDataService=i,a.onDragSuccessCallback=new r.EventEmitter,a.onDragStartCallback=new r.EventEmitter,a.onDragOverCallback=new r.EventEmitter,a.onDragEndCallback=new r.EventEmitter,a.onDropSuccessCallback=new r.EventEmitter,a.dropZones=a._sortableContainer.dropZones,a.dragEnabled=!0,a.dropEnabled=!0,a}return a(n,e),Object.defineProperty(n.prototype,"draggable",{set:function(e){this.dragEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"droppable",{set:function(e){this.dropEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectallowed",{set:function(e){this.effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectcursor",{set:function(e){this.effectCursor=e},enumerable:!0,configurable:!0}),n.prototype._onDragStartCallback=function(e){this._sortableDataService.isDragged=!0,this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this.onDragStartCallback.emit(this._dragDropService.dragData)},n.prototype._onDragOverCallback=function(e){this._sortableDataService.isDragged&&this._elem!==this._sortableDataService.elem&&(this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this.onDragOverCallback.emit(this._dragDropService.dragData))},n.prototype._onDragEndCallback=function(e){this._sortableDataService.isDragged=!1,this._sortableDataService.sortableContainer=null,this._sortableDataService.index=null,this._sortableDataService.markSortable(null),this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this.onDragEndCallback.emit(this._dragDropService.dragData)},n.prototype._onDragEnterCallback=function(e){if(this._sortableDataService.isDragged&&(this._sortableDataService.markSortable(this._elem),this.index!==this._sortableDataService.index||this._sortableDataService.sortableContainer.sortableData!==this._sortableContainer.sortableData)){var n=this._sortableDataService.sortableContainer.sortableData[this._sortableDataService.index];this._sortableDataService.sortableContainer.sortableData.splice(this._sortableDataService.index,1),0===this._sortableDataService.sortableContainer.sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),console.log("=================",this._sortableContainer.sortableData,this.index,n),this._sortableContainer.sortableData.splice(this.index,0,n),this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index}},n.prototype._onDropCallback=function(e){console.log("---3-_onDropCallback--",this._elem.id),this._sortableDataService.isDragged&&(this.onDropSuccessCallback.emit({target:this._elem.id,data:this._dragDropService.dragData}),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit(this._dragDropService.dragData),this._sortableContainer.detectChanges())},n.ctorParameters=function(){return[{type:r.ElementRef},{type:u.a},{type:i.a},{type:s},{type:u.b},{type:r.ChangeDetectorRef}]},n}(o.a);!function(e){function n(n,t,l,r,o){return e.call(this,n,t,l,r,o)||this}a(n,e),n.ctorParameters=function(){return[{type:r.ElementRef},{type:u.a},{type:i.a},{type:c},{type:r.ChangeDetectorRef}]}}(o.b)},xoEh:function(e,n,t){"use strict";var l=t("/oeL"),r=t("bm2B"),o=t("/QvW"),i=t("qbdv"),u=t("KBuQ"),a=t("ZV8k"),s=t("BkNc"),c=t("C8VA"),d=t("tlIo");t.d(n,"a",function(){return v});var f=[[".issue-edit{margin:5px}"]],p=l["\u0275crt"]({encapsulation:2,styles:f,data:{}});function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](73728,null,0,r.q,[l.ElementRef,l.Renderer,[2,r.t]],{value:[0,"value"]},null),l["\u0275did"](73728,null,0,r.A,[l.ElementRef,l.Renderer,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](null,["",""]))],function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.id,"")),e(n,2,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.id,""))},function(e,n){e(n,3,0,n.context.$implicit.label)})}function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","validate-error"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n              "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["",""])),(e()(),l["\u0275ted"](null,["\n            "]))],null,function(e,n){e(n,3,0,n.context.$implicit)})}function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,98,"div",[["class","issue-assign container-fluid"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,18,"div",[["class","list-toolbar col-xl-12"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u5206\u914d\u95ee\u9898"])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,1,"div",[["class","filter"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,3,"button",[["class","btn btn-secondary btn-with-icon btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,0,"i",[["class","fa fa-plus-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u8fd4\u56de\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275ted"](null,["\n  "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275eld"](0,null,null,72,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n    "])),(e()(),l["\u0275eld"](0,null,null,69,"form",[["class","my-validate-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var r=!0;"submit"===n&&(r=!1!==l["\u0275nov"](e,29).onSubmit(t)&&r);"reset"===n&&(r=!1!==l["\u0275nov"](e,29).onReset()&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.y,[],null,null),l["\u0275did"](270336,null,0,r.h,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](1024,null,r.c,null,[r.h]),l["\u0275did"](8192,null,0,r.o,[r.c],null,null),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275eld"](0,null,null,18,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u7ecf\u529e\u4eba"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,9,"select",[["class","form-control"],["formControlName","assigneeId"],["name","assigneeId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var r=!0,o=e.component;"change"===n&&(r=!1!==l["\u0275nov"](e,41).onChange(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,41).onTouched()&&r);"ngModelChange"===n&&(r=!1!==(o.issue.assigneeId=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.t,[l.Renderer,l.ElementRef],null,null),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.t]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[8,null],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275and"](8388608,null,null,1,null,h)),l["\u0275did"](401408,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,16,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,1,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\u6ce8\u91ca"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,10,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,[["comments",1]],null,7,"textarea",[["class","form-control"],["formControlName","assignComments"],["maxlength","1000"],["name","assignComments"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var r=!0,o=e.component;"input"===n&&(r=!1!==l["\u0275nov"](e,61)._handleInput(t.target.value)&&r);"blur"===n&&(r=!1!==l["\u0275nov"](e,61).onTouched()&&r);"compositionstart"===n&&(r=!1!==l["\u0275nov"](e,61)._compositionStart()&&r);"compositionend"===n&&(r=!1!==l["\u0275nov"](e,61)._compositionEnd(t.target.value)&&r);"ngModelChange"===n&&(r=!1!==(o.assignComments=t)&&r);return r},null,null)),l["\u0275did"](8192,null,0,r.d,[l.Renderer,l.ElementRef,[2,r.a]],null,null),l["\u0275did"](270336,null,0,r.j,[],{maxlength:[0,"maxlength"]},null),l["\u0275prd"](512,null,r.k,function(e){return[e]},[r.j]),l["\u0275prd"](512,null,r.l,function(e){return[e]},[r.d]),l["\u0275did"](335872,null,0,r.g,[[3,r.c],[2,r.k],[8,null],[2,r.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](1024,null,r.m,null,[r.g]),l["\u0275did"](8192,null,0,r.n,[r.m],null,null),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,0,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","col-sm-10"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.assign()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u4fdd\u5b58"])),(e()(),l["\u0275ted"](null,["\n          \xa0\n          "])),(e()(),l["\u0275eld"](0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,r=e.component;"click"===n&&(l=!1!==r.cancel()&&l);return l},null,null)),(e()(),l["\u0275ted"](null,["\u53d6\u6d88"])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n      "])),(e()(),l["\u0275eld"](0,null,null,10,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275eld"](0,null,null,7,"div",[["class","col-sm-10 offset-2"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275eld"](0,null,null,4,"div",[["class","validate-errors"]],null,null,null,null,null)),(e()(),l["\u0275ted"](null,["\n            "])),(e()(),l["\u0275and"](8388608,null,null,1,null,g)),l["\u0275did"](401408,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](null,["\n          "])),(e()(),l["\u0275ted"](null,["\n        "])),(e()(),l["\u0275ted"](null,["\n      "])),(e()(),l["\u0275ted"](null,["\n\n    "])),(e()(),l["\u0275ted"](null,["\n\n  "])),(e()(),l["\u0275ted"](null,["\n\n"])),(e()(),l["\u0275ted"](null,["\n"]))],function(e,n){var t=n.component;e(n,29,0,t.form);e(n,43,0,"assigneeId",t.issue.assigneeId),e(n,48,0,t.users);e(n,62,0,"1000");e(n,65,0,"assignComments",t.assignComments),e(n,92,0,t.formErrors)},function(e,n){e(n,27,0,l["\u0275nov"](n,31).ngClassUntouched,l["\u0275nov"](n,31).ngClassTouched,l["\u0275nov"](n,31).ngClassPristine,l["\u0275nov"](n,31).ngClassDirty,l["\u0275nov"](n,31).ngClassValid,l["\u0275nov"](n,31).ngClassInvalid,l["\u0275nov"](n,31).ngClassPending),e(n,40,0,l["\u0275nov"](n,45).ngClassUntouched,l["\u0275nov"](n,45).ngClassTouched,l["\u0275nov"](n,45).ngClassPristine,l["\u0275nov"](n,45).ngClassDirty,l["\u0275nov"](n,45).ngClassValid,l["\u0275nov"](n,45).ngClassInvalid,l["\u0275nov"](n,45).ngClassPending),e(n,60,0,l["\u0275nov"](n,62).maxlength?l["\u0275nov"](n,62).maxlength:null,l["\u0275nov"](n,67).ngClassUntouched,l["\u0275nov"](n,67).ngClassTouched,l["\u0275nov"](n,67).ngClassPristine,l["\u0275nov"](n,67).ngClassDirty,l["\u0275nov"](n,67).ngClassValid,l["\u0275nov"](n,67).ngClassInvalid,l["\u0275nov"](n,67).ngClassPending)})}var v=l["\u0275ccf"]("issue-assign",o.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,null,null,1,"issue-assign",[],null,null,null,m,p)),l["\u0275did"](2220032,null,0,o.a,[u.a,a.a,s.a,r.e,c.a,d.a],null,null)],function(e,n){e(n,1,0)},null)},{},{},[])},xq25:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=['span.tmpzTreeMove_arrow{background-image:none!important;margin-top:0!important}span.tmpzTreeMove_arrow:before{font-family:FontAwesome;content:"\\F178"}.ztree-toolbar{display:-ms-flexbox;display:flex;padding:5px 5px 5px 15px;min-width:290px;height:38px;border-bottom:1px solid #eee!important;line-height:28px;font-size:14px;background-color:#f0f3f4}.ztree-toolbar label{-ms-flex:1;flex:1;line-height:27px;font-size:13px}.ztree-toolbar .form-control{margin:0 3px;vertical-align:baseline}.ztree-toolbar .tips{margin-left:8px;color:#e85656}.ztree-toolbar .tips.highlight{color:inherit}.ztree{overflow-y:auto}.ztree *{font-size:14px!important;line-height:24px!important;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.ztree a{margin-left:-3px;border:1px solid transparent}.ztree a,.ztree a.tmpTargetNode_inner{padding:0 3px 0 0!important;height:26px!important}.ztree a.tmpTargetNode_inner{background:#f5f5f5!important;border:1px solid #ccc!important;color:#333}.ztree a.curSelectedNode{padding:0 3px 0 0!important;border:1px solid #dae2ea!important;background:#f8faff!important;color:#209e91}.ztree a:hover{padding:0 3px 0 0!important;height:26px!important;border:1px solid #dae2ea;background:#f8faff;border-radius:3px}.ztree a .node_name{margin-left:8px}.ztree a input.rename{height:22px;font-size:18px}.ztree a .ico_docu{color:inherit!important}.ztree a .node_name{color:#333}.ztree .button{display:inline-block;width:25px;height:24px!important;line-height:24px!important;padding:0 5px;font-weight:700;color:#757575;text-align:center;cursor:pointer;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.ztree .button.add,.ztree .button.edit,.ztree .button.ico_close,.ztree .button.ico_docu,.ztree .button.ico_open,.ztree .button.remove{background-image:none}.ztree .button.switch{margin:4px 0!important;height:20px!important}.ztree .button.switch.bottom_docu,.ztree .button.switch.center_docu{margin:0!important;height:26px!important}.ztree .button.switch.center_docu{background-position:-56px -14px}.ztree .button.switch.bottom_docu{background-position:-56px -32px}.ztree .button.ico_open:before{font-family:FontAwesome;content:"\\F115"}.ztree .button.ico_close:before{font-family:FontAwesome;content:"\\F114"}.ztree .button.ico_docu:before{font-family:FontAwesome;content:"\\F016"}.ztree .button.add,.ztree .button.edit,.ztree .button.remove{width:17px;font-family:FontAwesome;padding:0 0 0 5px}.ztree .button.add:before{content:"\\F067"}.ztree .button.edit:before{content:"\\F040"}.ztree .button.remove:before{content:"\\F00D"}.ztree span.button.chk{height:13px!important;margin:-3px 3px 0 0!important}']},zGhY:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e}()},zZUg:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var l=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.onCreate=function(e){e.preventDefault(),e.stopPropagation(),jQuery("textarea#test-step-input").length>0?alert("\u8bf7\u5148\u4fdd\u5b58\u5f53\u524d\u7f16\u8f91\u7684\u6b65\u9aa4\uff01"):this.grid.create(this.grid.getNewRow(),this.createConfirm)},e.prototype.onEdit=function(e){event.preventDefault(),event.stopPropagation(),this.grid.settings.canEdit&&this.grid.edit(e)},e.prototype.onHoverRow=function(e,n){n.hover=!0},e.prototype.onOutRow=function(e,n){n.hover=!1},e}()}});